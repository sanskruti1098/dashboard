import{s as nt,u as rt,o as st,f as at,j as it,c as lt,_ as q,m as H,E as Y,d as ut,S as ct}from"./floating-ui.react-zcwMlDfJ.js";import{c as M}from"./index-CjLpwf8N.js";import{P as a}from"./index-kGlasm3i.js";import{R as l,r as n}from"./index-BjzEU6Zr.js";import{u as K}from"./usePrefix-BezXHAvh.js";const ft=!!(typeof window<"u"&&window.document&&window.document.createElement),pt=l.createContext(null);function dt(){return l.useContext(pt)}const U=nt(),mt=ft?n.useLayoutEffect:n.useEffect;let _=!1;function Q(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"id";const e=dt(),[o,s]=n.useState(()=>_?`${e?`${e}-`:""}${t}-${U()}`:null);return mt(()=>{o===null&&s(`${e?`${e}-`:""}${t}-${U()}`)},[U]),n.useEffect(()=>{_===!1&&(_=!0)},[]),typeof l.useId=="function"?gt(e,t):o}function gt(t,e){const o=l.useId();return`${t?`${t}-`:""}${e}-${o}`}function Rt(t){const e=Q();return t??e}const ht=typeof window<"u"?n.useLayoutEffect:n.useEffect;var X=ht;const B={};function bt(t,e,o){return function(f,i,r){if(f[i]!==void 0){if(!B[r]||!B[r][i]){B[r]={...B[r],[i]:!0};const v=f[i],y=o?o(v):null;e&&!e.includes(v)&&(o?`${v}${i}${r}${y}${v}`:`${v}${i}${r}${e.join(", ")}${v}`)}for(var m=arguments.length,$=new Array(m>3?m-3:0),g=3;g<m;g++)$[g-3]=arguments[g];return t(f,i,r,...$)}}}const Z=t=>n.useCallback(e=>{t.forEach(o=>{typeof o=="function"?o(e):o!=null&&(o.current=e)})},t);function Dt(t,e,o){const s=n.useRef(null);n.useEffect(()=>{s.current=o},[o]),n.useEffect(()=>{const f=r=>{s.current&&s.current(r)},i="current"in t?t.current:t;return i?.addEventListener?.(e,f),()=>{i?.removeEventListener?.(e,f)}},[t,e])}function z(t,e){const o=n.useRef(null);n.useEffect(()=>{o.current=e},[e]),n.useEffect(()=>{function s(f){o.current&&o.current(f)}return window.addEventListener(t,s),()=>{window.removeEventListener(t,s)}},[t])}function vt(t){switch(t){case"top-left":return"top-start";case"top-right":return"top-end";case"bottom-left":return"bottom-start";case"bottom-right":return"bottom-end";case"left-bottom":return"left-end";case"left-top":return"left-start";case"right-bottom":return"right-end";case"right-top":return"right-start";default:return t}}const tt=l.createContext({setFloating:{current:null},caretRef:{current:null},autoAlign:null}),yt=t=>({"top-left":"top-start","top-right":"top-end","bottom-left":"bottom-start","bottom-right":"bottom-end","left-bottom":"left-end","left-top":"left-start","right-bottom":"right-end","right-top":"right-start"})[t],et=l.forwardRef(function(e,o){let{isTabTip:s,align:f=s?"bottom-start":"bottom",as:i="span",autoAlign:r=!1,caret:m=!s,className:$,children:g,dropShadow:v=!0,highContrast:y=!1,onRequestClose:h,open:T,...I}=e;const E=K(),F=n.useRef(null),w=n.useRef(null),R=n.useRef(null);let C=vt(f);z("blur",()=>{T&&h?.()}),z("click",c=>{T&&!R?.current?.contains(c.target)&&h?.()});const A=l.Children.toArray(g).some(c=>c?.props?.className?.includes("slug"))?7:6,x=n.useRef({offset:10,caretHeight:A});X(()=>{if(m&&R.current){const c=window.getComputedStyle(R.current,null),u=c.getPropertyValue("--cds-popover-offset"),d=c.getPropertyValue("--cds-popover-caret-height");u&&(x.current.offset=u.includes("px")?Number(u.split("px",1)[0])*1:Number(u.split("rem",1)[0])*16),d&&(x.current.caretHeight=d.includes("px")?Number(d.split("px",1)[0])*1:Number(d.split("rem",1)[0])*16)}});const{refs:b,floatingStyles:L,placement:P,middlewareData:D}=rt(r?{placement:C,strategy:"fixed",middleware:[st(s?0:x?.current?.offset),at({fallbackAxisSideDirection:"start"}),it({element:w})],whileElementsMounted:lt}:{}),j=n.useMemo(()=>({floating:F,setFloating:b.setFloating,caretRef:w,autoAlign:r}),[b.setFloating,r]);s&&(["bottom-start","bottom-end"].includes(C)||(C="bottom-start")),n.useEffect(()=>{if(r&&(Object.keys(L).forEach(c=>{b.floating.current&&(b.floating.current.style[c]=L[c])}),m&&D&&D.arrow&&w?.current)){const{x:c,y:u}=D.arrow,d={top:"bottom",right:"left",bottom:"top",left:"right"}[P.split("-")[0]];w.current.style.left=c!=null?`${c}px`:"",w.current.style.top=u!=null?`${u}px`:"",w.current.style.right="",w.current.style.bottom="",d&&(w.current.style[d]=`${-x?.current?.caretHeight}px`)}},[L,b.floating,r,D,P,m]);const N=Z([o,R]),V=r&&P!==C?P:C,O=M({[`${E}--popover-container`]:!0,[`${E}--popover--caret`]:m,[`${E}--popover--drop-shadow`]:v,[`${E}--popover--high-contrast`]:y,[`${E}--popover--open`]:T,[`${E}--popover--auto-align`]:r,[`${E}--popover--${V}`]:!0,[`${E}--popover--tab-tip`]:s},$),k=l.Children.map(g,c=>{const u=c;if((u?.type==="button"||r&&u?.type?.displayName!=="PopoverContent"||r&&u?.type?.displayName==="ToggletipButton")&&l.isValidElement(u)){const d=u?.props?.className,S=(u?.props).ref,ot=M(`${E}--popover--tab-tip__button`,d);return l.cloneElement(u,{className:s&&u?.type==="button"?ot:d||"",ref:W=>{(r&&u?.type?.displayName!=="PopoverContent"||r&&u?.type?.displayName==="ToggletipButton")&&b.setReference(W),typeof S=="function"?S(W):S!=null&&(S.current=W)}})}else return u}),p=i;return l.createElement(tt.Provider,{value:j},l.createElement(p,q({},I,{className:O,ref:N}),r||s?k:g))});et.propTypes={align:bt(a.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","left","left-bottom","left-top","right","right-bottom","right-top","top-start","top-end","bottom-start","bottom-end","left-end","left-start","right-end","right-start"]),["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"],yt),as:a.oneOfType([a.string,a.elementType]),autoAlign:a.bool,caret:a.bool,children:a.node,className:a.string,dropShadow:a.bool,highContrast:a.bool,isTabTip:a.bool,onRequestClose:a.func,open:a.bool.isRequired};function Et(t,e){let{className:o,children:s,...f}=t;const i=K(),{setFloating:r,caretRef:m,autoAlign:$}=l.useContext(tt),g=Z([r,e]);return l.createElement("span",q({},f,{className:`${i}--popover`}),l.createElement("span",{className:M(`${i}--popover-content`,o),ref:g},s,$&&l.createElement("span",{className:M({[`${i}--popover-caret`]:!0,[`${i}--popover--auto-align`]:!0}),ref:m})),!$&&l.createElement("span",{className:M({[`${i}--popover-caret`]:!0}),ref:m}))}const G=l.forwardRef(Et);G.displayName="PopoverContent";G.propTypes={children:a.node,className:a.string};function wt(t){const[e,o]=n.useState(t),s=n.useRef(null),f=n.useCallback(function(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(window.clearTimeout(s.current??void 0),s.current=null,r===0){o(i);return}s.current=window.setTimeout(()=>{o(i),s.current=null},r)},[]);return n.useEffect(()=>()=>{window.clearTimeout(s.current??void 0)},[]),[e,f]}const J=new Set(["mouseup","touchend","touchcancel"]);function $t(t){let{align:e="top",className:o,children:s,label:f,description:i,enterDelayMs:r=100,leaveDelayMs:m=300,defaultOpen:$=!1,closeOnActivation:g=!1,...v}=t;n.useRef(null);const[y,h]=wt($),[T,I]=n.useState(!1),[E,F]=n.useState(!1),[w,R]=n.useState(!1),C=Q("tooltip"),A=K(),x=l.Children.only(s),b={onFocus:()=>!E&&h(!0),onBlur:()=>{h(!1),F(!1)},onClick:()=>g&&h(!1),onMouseEnter:D,onMouseLeave:N,onMouseDown:j,onMouseMove:V,onTouchStart:O};function L(p){const c=Object.keys(b).filter(d=>d.startsWith("on")),u={};return c.forEach(d=>{u[d]=S=>{b[d](S),p?.[d]&&p?.[d](S)}}),u}f?b["aria-labelledby"]=C:b["aria-describedby"]=C;const P=n.useCallback(p=>{y&&H(p,Y)&&(p.stopPropagation(),h(!1)),y&&g&&(H(p,ut)||H(p,ct))&&h(!1)},[g,y,h]);X(()=>{if(!y)return;function p(c){H(c,Y)&&P(c)}return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[y,P]);function D(){v?.onMouseEnter||(R(!0),h(!0,r))}function j(){F(!0),O()}function N(){R(!1),!T&&h(!1,m)}function V(p){p.buttons===1?I(!0):I(!1)}function O(){I(!0)}const k=n.useCallback(()=>{I(!1),w||h(!1,m)},[w,m,h]);return n.useEffect(()=>(T&&J.forEach(p=>{document.addEventListener(p,k)}),()=>{J.forEach(p=>{document.removeEventListener(p,k)})}),[T,k]),l.createElement(et,q({},v,{align:e,className:M(`${A}--tooltip`,o),dropShadow:!1,highContrast:!0,onKeyDown:P,onMouseLeave:N,open:y}),l.createElement("div",{className:`${A}--tooltip-trigger__wrapper`},x!==void 0?l.cloneElement(x,{...b,...L(x.props)}):null),l.createElement(G,{"aria-hidden":y?"false":"true",className:`${A}--tooltip-content`,id:C,onMouseEnter:D,role:"tooltip"},f||i))}$t.propTypes={align:a.oneOf(["top","top-left","top-right","bottom","bottom-left","bottom-right","left","left-bottom","left-top","right","right-bottom","right-top","top-start","top-end","bottom-start","bottom-end","left-end","left-start","right-end","right-start"]),children:a.node,className:a.string,closeOnActivation:a.bool,defaultOpen:a.bool,description:a.node,enterDelayMs:a.number,label:a.node,leaveDelayMs:a.number};export{et as P,$t as T,X as a,Z as b,Rt as c,G as d,ft as e,Dt as f,z as g,Q as u};
