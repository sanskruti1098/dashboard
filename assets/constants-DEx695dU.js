import{j as Kt}from"./jsx-runtime-QvtbNqby.js";import{R as Di,r as kh}from"./index-BjzEU6Zr.js";import{S as Da}from"./StatusIcon-D0qa4UQ_.js";var Nh=Object.defineProperty,Ih=(t,e,n)=>e in t?Nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ka=(t,e,n)=>Ih(t,typeof e!="symbol"?e+"":e,n),Il=(t=>(t.RENDER_FINISHED="render-finished",t.RESIZE="chart-resize",t.MOUSEOVER="chart-mouseover",t.MOUSEOUT="chart-mouseout",t))(Il||{}),Pl=(t=>(t.SHOW="show-modal",t.HIDE="hide-modal",t))(Pl||{}),Ul=(t=>(t.UPDATE="model-update",t))(Ul||{}),jl=(t=>(t.SHOW_OVERFLOW_MENU="show-toolbar-overflow-menu",t.HIDE_OVERFLOW_MENU="hide-toolbar-overflow-menu",t.BUTTON_CLICK="toolbar-button-click",t.SHOW_TOOLTIP="toolbar-show-tooltip",t.HIDE_TOOLTIP="toolbar-hide-tooltip",t))(jl||{}),Hl=(t=>(t.UPDATE="zoom-bar-update",t.SELECTION_START="zoom-bar-selection-start",t.SELECTION_IN_PROGRESS="zoom-bar-selection-in-progress",t.SELECTION_END="zoom-bar-selection-end",t))(Hl||{}),Fl=(t=>(t.CHANGE="zoom-domain-change",t))(Fl||{}),Bl=(t=>(t.CANVAS_ZOOM_IN="canvas-zoom-in",t.CANVAS_ZOOM_OUT="canvas-zoom-out",t))(Bl||{}),$l=(t=>(t.LABEL_MOUSEOVER="axis-label-mouseover",t.LABEL_MOUSEMOVE="axis-label-mousemove",t.LABEL_CLICK="axis-label-click",t.LABEL_MOUSEOUT="axis-label-mouseout",t.LABEL_FOCUS="axis-label-focus",t.LABEL_BLUR="axis-label-blur",t.RENDER_COMPLETE="axis-render-complete",t))($l||{}),Vl=(t=>(t.POINT_MOUSEOVER="scatter-mouseover",t.POINT_MOUSEMOVE="scatter-mousemove",t.POINT_CLICK="scatter-click",t.POINT_MOUSEOUT="scatter-mouseout",t))(Vl||{}),zl=(t=>(t.WORD_MOUSEOVER="wordcloud-word-mouseover",t.WORD_MOUSEMOVE="wordcloud-word-mousemove",t.WORD_CLICK="wordcloud-word-click",t.WORD_MOUSEOUT="wordcloud-word-mouseout",t))(zl||{}),Gl=(t=>(t.SLICE_MOUSEOVER="pie-slice-mouseover",t.SLICE_MOUSEMOVE="pie-slice-mousemove",t.SLICE_CLICK="pie-slice-click",t.SLICE_MOUSEOUT="pie-slice-mouseout",t))(Gl||{}),Wl=(t=>(t.ARC_MOUSEOVER="gauge-arc-mouseover",t.ARC_MOUSEMOVE="gauge-arc-mousemove",t.ARC_CLICK="gauge-arc-click",t.ARC_MOUSEOUT="gauge-arc-mouseout",t))(Wl||{}),ql=(t=>(t.BAR_MOUSEOVER="bar-mouseover",t.BAR_MOUSEMOVE="bar-mousemove",t.BAR_CLICK="bar-click",t.BAR_MOUSEOUT="bar-mouseout",t))(ql||{}),Xl=(t=>(t.BOX_MOUSEOVER="box-mouseover",t.BOX_MOUSEMOVE="box-mousemove",t.BOX_CLICK="box-click",t.BOX_MOUSEOUT="box-mouseout",t.OUTLIER_MOUSEOVER="outlier-mouseover",t.OUTLIER_MOUSEMOVE="outlier-mousemove",t.OUTLIER_CLICK="outlier-click",t.OUTLIER_MOUSEOUT="outlier-mouseout",t))(Xl||{}),Yl=(t=>(t.SCATTER_MOUSEOVER="scatter-mouseover",t.SCATTER_MOUSEMOVE="scatter-mousemove",t.SCATTER_CLICK="scatter-click",t.SCATTER_MOUSEOUT="scatter-mouseout",t))(Yl||{}),Zl=(t=>(t.POINT_MOUSEOVER="scatter-mouseover",t.POINT_MOUSEMOVE="scatter-mousemove",t.POINT_CLICK="scatter-click",t.POINT_MOUSEOUT="scatter-mouseout",t))(Zl||{}),Kl=(t=>(t.X_AXIS_MOUSEOVER="radar-x-axis-mouseover",t.X_AXIS_MOUSEMOVE="radar-x-axis-mousemove",t.X_AXIS_CLICK="radar-x-axis-click",t.X_AXIS_MOUSEOUT="radar-x-axis-mouseout",t))(Kl||{}),Jl=(t=>(t.NODE_MOUSEOVER="tree-node-mouseover",t.NODE_CLICK="tree-node-click",t.NODE_MOUSEOUT="tree-node-mouseout",t))(Jl||{}),Ql=(t=>(t.LEAF_MOUSEOVER="leaf-mouseover",t.LEAF_MOUSEMOVE="leaf-mousemove",t.LEAF_CLICK="leaf-click",t.LEAF_MOUSEOUT="leaf-mouseout",t))(Ql||{}),tu=(t=>(t.SHOW="show-tooltip",t.MOVE="move-tooltip",t.HIDE="hide-tooltip",t))(tu||{}),eu=(t=>(t.SHOW="show-threshold",t.HIDE="hide-threshold",t))(eu||{}),nu=(t=>(t.ITEM_HOVER="legend-item-onhover",t.ITEM_CLICK="legend-item-onclick",t.ITEM_MOUSEOUT="legend-item-onmouseout",t.ITEMS_UPDATE="legend-items-update",t))(nu||{}),ru=(t=>(t.CIRCLE_MOUSEOVER="circle-leaf-mouseover",t.CIRCLE_CLICK="circle-leaf-click",t.CIRCLE_MOUSEOUT="circle-leaf-mouseout",t.CIRCLE_MOUSEMOVE="circle-leaf-mousemove",t))(ru||{}),iu=(t=>(t.NODE_MOUSEOVER="alluvial-node-mouseover",t.NODE_CLICK="alluvial-node-click",t.NODE_MOUSEOUT="alluvial-node-mouseout",t.NODE_MOUSEMOVE="alluvial-node-mousemove",t.LINE_MOUSEOVER="alluvial-line-mouseover",t.LINE_CLICK="alluvial-line-click",t.LINE_MOUSEOUT="alluvial-line-mouseout",t.LINE_MOUSEMOVE="alluvial-line-mousemove",t))(iu||{}),ou=(t=>(t.METER_MOUSEOVER="meter-mouseover",t.METER_CLICK="meter-click",t.METER_MOUSEOUT="meter-mouseout",t.METER_MOUSEMOVE="meter-mousemove",t))(ou||{}),au=(t=>(t.HEATMAP_MOUSEOVER="heatmap-mouseover",t.HEATMAP_CLICK="heatmap-click",t.HEATMAP_MOUSEOUT="heatmap-mouseout",t.HEATMAP_MOUSEMOVE="hetmap-mousemove",t))(au||{}),su=(t=>(t.CHOROPLETH_MOUSEOVER="choropleth-mouseover",t.CHOROPLETH_CLICK="choropleth-click",t.CHOROPLETH_MOUSEOUT="choropleth-mouseout",t.CHOROPLETH_MOUSEMOVE="choropleth-mousemove",t))(su||{});const Ph=Object.freeze(Object.defineProperty({__proto__:null,Alluvial:iu,Area:Vl,Axis:$l,Bar:ql,Boxplot:Xl,CanvasZoom:Bl,Chart:Il,Choropleth:su,CirclePack:ru,Gauge:Wl,Heatmap:au,Legend:nu,Line:Zl,Meter:ou,Modal:Pl,Model:Ul,Pie:Gl,Radar:Kl,Scatter:Yl,Threshold:eu,Toolbar:jl,Tooltip:tu,Tree:Jl,Treemap:Ql,WordCloud:zl,ZoomBar:Hl,ZoomDomain:Fl},Symbol.toStringTag,{value:"Module"})),M=Ph;var vt=(t=>(t.HTML="html",t.SVG="svg",t))(vt||{}),lu=(t=>(t.WHITE="white",t.G100="g100",t.G90="g90",t.G10="g10",t))(lu||{}),Mt=(t=>(t.BACKGROUND="background",t.FILL="fill",t.STROKE="stroke",t.TOOLTIP="tooltip",t))(Mt||{}),yr=(t=>(t.GRAPH_VIEW="graph_view",t.SLIDER_VIEW="slider_view",t))(yr||{}),uu=(t=>(t.END_LINE="end_line",t.MID_LINE="mid_line",t.FRONT_LINE="front_line",t.NONE="none",t))(uu||{}),te=(t=>(t.VERTICAL="vertical",t.HORIZONTAL="horizontal",t))(te||{}),cu=(t=>(t.TIME="time",t.LINEAR="linear",t.LOG="log",t.LABELS="labels",t.LABELS_RATIO="labels-ratio",t))(cu||{}),hu=(t=>(t.RIGHT="right",t.LEFT="left",t.TOP="top",t.BOTTOM="bottom",t))(hu||{}),Ne=(t=>(t.LEFT="left",t.CENTER="center",t.RIGHT="right",t))(Ne||{}),fu=(t=>(t.TREE="tree",t.DENDROGRAM="dendrogram",t))(fu||{}),Oe=(t=>(t.ROW="row",t.COLUMN="column",t.ROW_REVERSE="row-reverse",t.COLUMN_REVERSE="column-reverse",t))(Oe||{}),he=(t=>(t.FIXED="fixed",t.PREFERRED="preferred",t.STRETCH="stretch",t))(he||{}),du=(t=>(t.CENTER="center",t))(du||{}),pu=(t=>(t.SEMI="semi",t.FULL="full",t))(pu||{}),we=(t=>(t.SCATTER="scatter",t.LINE="line",t.SIMPLE_BAR="simple-bar",t.STACKED_BAR="stacked-bar",t.GROUPED_BAR="grouped-bar",t.AREA="area",t.STACKED_AREA="stacked-area",t))(we||{}),q=(t=>(t.EXPORT_CSV="Export as CSV",t.EXPORT_PNG="Export as PNG",t.EXPORT_JPG="Export as JPG",t.ZOOM_IN="Zoom in",t.ZOOM_OUT="Zoom out",t.RESET_ZOOM="Reset zoom",t.MAKE_FULLSCREEN="Make fullscreen",t.EXIT_FULLSCREEN="Exit fullscreen",t.SHOW_AS_DATATABLE="Show as data-table",t.CUSTOM="Custom",t))(q||{}),Vt=(t=>(t.CHECKBOX="checkbox",t.RADIUS="radius",t.AREA="area",t.SIZE="size",t.LINE="line",t.QUARTILE="quartile",t.ZOOM="zoom",t))(Vt||{}),mu=(t=>(t.ON="on",t.AUTO="auto",t.OFF="off",t))(mu||{}),gu=(t=>(t.geoEqualEarth="geoEqualEarth",t.geoAlbers="geoAlbers",t.geoConicEqualArea="geoConicEqualArea",t.geoConicEquidistant="geoConicEquidistant",t.geoEquirectangular="geoEquirectangular",t.geoMercator="geoMercator",t.geoNaturalEarth1="geoNaturalEarth1",t))(gu||{});function oi(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}function fn(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=t.formattingValues[s]||t.formattingValues[a]}else{const a=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}function dn(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?jh(s,h=>h.test(a)):Uh(s,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function Uh(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function jh(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Hh(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const s=e.slice(i.length);return{value:a,rest:s}}}const Fh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bh=(t,e,n)=>{let r;const i=Fh[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},$h={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vh=(t,e,n,r)=>$h[t],zh={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zh=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Kh={ordinalNumber:Zh,era:fn({values:zh,defaultWidth:"wide"}),quarter:fn({values:Gh,defaultWidth:"wide",argumentCallback:t=>t-1}),month:fn({values:Wh,defaultWidth:"wide"}),day:fn({values:qh,defaultWidth:"wide"}),dayPeriod:fn({values:Xh,defaultWidth:"wide",formattingValues:Yh,defaultFormattingWidth:"wide"})},Jh=/^(\d+)(th|st|nd|rd)?/i,Qh=/\d+/i,tf={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ef={any:[/^b/i,/^(a|c)/i]},nf={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rf={any:[/1/i,/2/i,/3/i,/4/i]},of={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},af={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sf={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lf={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uf={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cf={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hf={ordinalNumber:Hh({matchPattern:Jh,parsePattern:Qh,valueCallback:t=>parseInt(t,10)}),era:dn({matchPatterns:tf,defaultMatchWidth:"wide",parsePatterns:ef,defaultParseWidth:"any"}),quarter:dn({matchPatterns:nf,defaultMatchWidth:"wide",parsePatterns:rf,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dn({matchPatterns:of,defaultMatchWidth:"wide",parsePatterns:af,defaultParseWidth:"any"}),day:dn({matchPatterns:sf,defaultMatchWidth:"wide",parsePatterns:lf,defaultParseWidth:"any"}),dayPeriod:dn({matchPatterns:uf,defaultMatchWidth:"any",parsePatterns:cf,defaultParseWidth:"any"})},ff={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},df={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pf={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mf={date:oi({formats:ff,defaultWidth:"full"}),time:oi({formats:df,defaultWidth:"full"}),dateTime:oi({formats:pf,defaultWidth:"full"})},gf={code:"en-US",formatDistance:Bh,formatLong:mf,formatRelative:Vh,localize:Kh,match:hf,options:{weekStartsOn:0,firstWeekContainsDate:1}};var yu=typeof global=="object"&&global&&global.Object===Object&&global,yf=typeof self=="object"&&self&&self.Object===Object&&self,Wt=yu||yf||Function("return this")(),Pt=Wt.Symbol,vu=Object.prototype,vf=vu.hasOwnProperty,_f=vu.toString,pn=Pt?Pt.toStringTag:void 0;function bf(t){var e=vf.call(t,pn),n=t[pn];try{t[pn]=void 0;var r=!0}catch{}var i=_f.call(t);return r&&(e?t[pn]=n:delete t[pn]),i}var wf=Object.prototype,Ef=wf.toString;function Of(t){return Ef.call(t)}var Sf="[object Null]",xf="[object Undefined]",Na=Pt?Pt.toStringTag:void 0;function Ie(t){return t==null?t===void 0?xf:Sf:Na&&Na in Object(t)?bf(t):Of(t)}function ee(t){return t!=null&&typeof t=="object"}var Mf="[object Symbol]";function Br(t){return typeof t=="symbol"||ee(t)&&Ie(t)==Mf}function _u(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Ct=Array.isArray,Tf=1/0,Ia=Pt?Pt.prototype:void 0,Pa=Ia?Ia.toString:void 0;function bu(t){if(typeof t=="string")return t;if(Ct(t))return _u(t,bu)+"";if(Br(t))return Pa?Pa.call(t):"";var e=t+"";return e=="0"&&1/t==-Tf?"-0":e}function Ut(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Oo(t){return t}var Af="[object AsyncFunction]",Cf="[object Function]",Lf="[object GeneratorFunction]",Rf="[object Proxy]";function So(t){if(!Ut(t))return!1;var e=Ie(t);return e==Cf||e==Lf||e==Af||e==Rf}var ai=Wt["__core-js_shared__"],Ua=function(){var t=/[^.]+$/.exec(ai&&ai.keys&&ai.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Df(t){return!!Ua&&Ua in t}var kf=Function.prototype,Nf=kf.toString;function Pe(t){if(t!=null){try{return Nf.call(t)}catch{}try{return t+""}catch{}}return""}var If=/[\\^$.*+?()[\]{}|]/g,Pf=/^\[object .+?Constructor\]$/,Uf=Function.prototype,jf=Object.prototype,Hf=Uf.toString,Ff=jf.hasOwnProperty,Bf=RegExp("^"+Hf.call(Ff).replace(If,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $f(t){if(!Ut(t)||Df(t))return!1;var e=So(t)?Bf:Pf;return e.test(Pe(t))}function Vf(t,e){return t?.[e]}function Ue(t,e){var n=Vf(t,e);return $f(n)?n:void 0}var ki=Ue(Wt,"WeakMap"),ja=Object.create,zf=function(){function t(){}return function(e){if(!Ut(e))return{};if(ja)return ja(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Gf(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Wf(){}function wu(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var qf=800,Xf=16,Yf=Date.now;function Zf(t){var e=0,n=0;return function(){var r=Yf(),i=Xf-(r-n);if(n=r,i>0){if(++e>=qf)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Kf(t){return function(){return t}}var vr=function(){try{var t=Ue(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Jf=vr?function(t,e){return vr(t,"toString",{configurable:!0,enumerable:!1,value:Kf(e),writable:!0})}:Oo,Eu=Zf(Jf);function Qf(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function td(t,e,n,r){for(var i=t.length,o=n+-1;++o<i;)if(e(t[o],o,t))return o;return-1}function ed(t){return t!==t}function nd(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function rd(t,e,n){return e===e?nd(t,e,n):td(t,ed,n)}function id(t,e){var n=t==null?0:t.length;return!!n&&rd(t,e,0)>-1}var od=9007199254740991,ad=/^(?:0|[1-9]\d*)$/;function xo(t,e){var n=typeof t;return e=e??od,!!e&&(n=="number"||n!="symbol"&&ad.test(t))&&t>-1&&t%1==0&&t<e}function Mo(t,e,n){e=="__proto__"&&vr?vr(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Fn(t,e){return t===e||t!==t&&e!==e}var sd=Object.prototype,ld=sd.hasOwnProperty;function Ou(t,e,n){var r=t[e];(!(ld.call(t,e)&&Fn(r,n))||n===void 0&&!(e in t))&&Mo(t,e,n)}function sn(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=void 0;l===void 0&&(l=t[s]),i?Mo(n,s,l):Ou(n,s,l)}return n}var Ha=Math.max;function Su(t,e,n){return e=Ha(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Ha(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Gf(t,this,s)}}function To(t,e){return Eu(Su(t,e,Oo),t+"")}var ud=9007199254740991;function Ao(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ud}function Bn(t){return t!=null&&Ao(t.length)&&!So(t)}function cd(t,e,n){if(!Ut(n))return!1;var r=typeof e;return(r=="number"?Bn(n)&&xo(e,n.length):r=="string"&&e in n)?Fn(n[e],t):!1}function hd(t){return To(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&cd(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}var fd=Object.prototype;function Co(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||fd;return t===n}function dd(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var pd="[object Arguments]";function Fa(t){return ee(t)&&Ie(t)==pd}var xu=Object.prototype,md=xu.hasOwnProperty,gd=xu.propertyIsEnumerable,Ln=Fa(function(){return arguments}())?Fa:function(t){return ee(t)&&md.call(t,"callee")&&!gd.call(t,"callee")};function yd(){return!1}var Mu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ba=Mu&&typeof module=="object"&&module&&!module.nodeType&&module,vd=Ba&&Ba.exports===Mu,$a=vd?Wt.Buffer:void 0,_d=$a?$a.isBuffer:void 0,Rn=_d||yd,bd="[object Arguments]",wd="[object Array]",Ed="[object Boolean]",Od="[object Date]",Sd="[object Error]",xd="[object Function]",Md="[object Map]",Td="[object Number]",Ad="[object Object]",Cd="[object RegExp]",Ld="[object Set]",Rd="[object String]",Dd="[object WeakMap]",kd="[object ArrayBuffer]",Nd="[object DataView]",Id="[object Float32Array]",Pd="[object Float64Array]",Ud="[object Int8Array]",jd="[object Int16Array]",Hd="[object Int32Array]",Fd="[object Uint8Array]",Bd="[object Uint8ClampedArray]",$d="[object Uint16Array]",Vd="[object Uint32Array]",et={};et[Id]=et[Pd]=et[Ud]=et[jd]=et[Hd]=et[Fd]=et[Bd]=et[$d]=et[Vd]=!0;et[bd]=et[wd]=et[kd]=et[Ed]=et[Nd]=et[Od]=et[Sd]=et[xd]=et[Md]=et[Td]=et[Ad]=et[Cd]=et[Ld]=et[Rd]=et[Dd]=!1;function zd(t){return ee(t)&&Ao(t.length)&&!!et[Ie(t)]}function Lo(t){return function(e){return t(e)}}var Tu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cn=Tu&&typeof module=="object"&&module&&!module.nodeType&&module,Gd=Cn&&Cn.exports===Tu,si=Gd&&yu.process,tn=function(){try{var t=Cn&&Cn.require&&Cn.require("util").types;return t||si&&si.binding&&si.binding("util")}catch{}}(),Va=tn&&tn.isTypedArray,Ro=Va?Lo(Va):zd,Wd=Object.prototype,qd=Wd.hasOwnProperty;function Au(t,e){var n=Ct(t),r=!n&&Ln(t),i=!n&&!r&&Rn(t),o=!n&&!r&&!i&&Ro(t),a=n||r||i||o,s=a?dd(t.length,String):[],l=s.length;for(var u in t)(e||qd.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xo(u,l)))&&s.push(u);return s}function Cu(t,e){return function(n){return t(e(n))}}var Xd=Cu(Object.keys,Object),Yd=Object.prototype,Zd=Yd.hasOwnProperty;function Kd(t){if(!Co(t))return Xd(t);var e=[];for(var n in Object(t))Zd.call(t,n)&&n!="constructor"&&e.push(n);return e}function $n(t){return Bn(t)?Au(t):Kd(t)}function Jd(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Qd=Object.prototype,tp=Qd.hasOwnProperty;function ep(t){if(!Ut(t))return Jd(t);var e=Co(t),n=[];for(var r in t)r=="constructor"&&(e||!tp.call(t,r))||n.push(r);return n}function Vn(t){return Bn(t)?Au(t,!0):ep(t)}var np=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rp=/^\w*$/;function Do(t,e){if(Ct(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Br(t)?!0:rp.test(t)||!np.test(t)||e!=null&&t in Object(e)}var Dn=Ue(Object,"create");function ip(){this.__data__=Dn?Dn(null):{},this.size=0}function op(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ap="__lodash_hash_undefined__",sp=Object.prototype,lp=sp.hasOwnProperty;function up(t){var e=this.__data__;if(Dn){var n=e[t];return n===ap?void 0:n}return lp.call(e,t)?e[t]:void 0}var cp=Object.prototype,hp=cp.hasOwnProperty;function fp(t){var e=this.__data__;return Dn?e[t]!==void 0:hp.call(e,t)}var dp="__lodash_hash_undefined__";function pp(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Dn&&e===void 0?dp:e,this}function Ce(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ce.prototype.clear=ip;Ce.prototype.delete=op;Ce.prototype.get=up;Ce.prototype.has=fp;Ce.prototype.set=pp;function mp(){this.__data__=[],this.size=0}function $r(t,e){for(var n=t.length;n--;)if(Fn(t[n][0],e))return n;return-1}var gp=Array.prototype,yp=gp.splice;function vp(t){var e=this.__data__,n=$r(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():yp.call(e,n,1),--this.size,!0}function _p(t){var e=this.__data__,n=$r(e,t);return n<0?void 0:e[n][1]}function bp(t){return $r(this.__data__,t)>-1}function wp(t,e){var n=this.__data__,r=$r(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function _e(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_e.prototype.clear=mp;_e.prototype.delete=vp;_e.prototype.get=_p;_e.prototype.has=bp;_e.prototype.set=wp;var kn=Ue(Wt,"Map");function Ep(){this.size=0,this.__data__={hash:new Ce,map:new(kn||_e),string:new Ce}}function Op(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Vr(t,e){var n=t.__data__;return Op(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Sp(t){var e=Vr(this,t).delete(t);return this.size-=e?1:0,e}function xp(t){return Vr(this,t).get(t)}function Mp(t){return Vr(this,t).has(t)}function Tp(t,e){var n=Vr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function be(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}be.prototype.clear=Ep;be.prototype.delete=Sp;be.prototype.get=xp;be.prototype.has=Mp;be.prototype.set=Tp;var Ap="Expected a function";function ko(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ap);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ko.Cache||be),n}ko.Cache=be;var Cp=500;function Lp(t){var e=ko(t,function(r){return n.size===Cp&&n.clear(),r}),n=e.cache;return e}var Rp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dp=/\\(\\)?/g,kp=Lp(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Rp,function(n,r,i,o){e.push(i?o.replace(Dp,"$1"):r||n)}),e});function Np(t){return t==null?"":bu(t)}function zr(t,e){return Ct(t)?t:Do(t,e)?[t]:kp(Np(t))}var Ip=1/0;function zn(t){if(typeof t=="string"||Br(t))return t;var e=t+"";return e=="0"&&1/t==-Ip?"-0":e}function No(t,e){e=zr(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[zn(e[n++])];return n&&n==r?t:void 0}function Pp(t,e,n){var r=t==null?void 0:No(t,e);return r===void 0?n:r}function Io(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var za=Pt?Pt.isConcatSpreadable:void 0;function Up(t){return Ct(t)||Ln(t)||!!(za&&t&&t[za])}function Po(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Up),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Po(s,e-1,n,r,i):Io(i,s):r||(i[i.length]=s)}return i}var Uo=Cu(Object.getPrototypeOf,Object),jp="[object Object]",Hp=Function.prototype,Fp=Object.prototype,Lu=Hp.toString,Bp=Fp.hasOwnProperty,$p=Lu.call(Object);function Ru(t){if(!ee(t)||Ie(t)!=jp)return!1;var e=Uo(t);if(e===null)return!0;var n=Bp.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Lu.call(n)==$p}function Vp(){this.__data__=new _e,this.size=0}function zp(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Gp(t){return this.__data__.get(t)}function Wp(t){return this.__data__.has(t)}var qp=200;function Xp(t,e){var n=this.__data__;if(n instanceof _e){var r=n.__data__;if(!kn||r.length<qp-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new be(r)}return n.set(t,e),this.size=n.size,this}function Gt(t){var e=this.__data__=new _e(t);this.size=e.size}Gt.prototype.clear=Vp;Gt.prototype.delete=zp;Gt.prototype.get=Gp;Gt.prototype.has=Wp;Gt.prototype.set=Xp;function Yp(t,e){return t&&sn(e,$n(e),t)}function Zp(t,e){return t&&sn(e,Vn(e),t)}var Du=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ga=Du&&typeof module=="object"&&module&&!module.nodeType&&module,Kp=Ga&&Ga.exports===Du,Wa=Kp?Wt.Buffer:void 0,qa=Wa?Wa.allocUnsafe:void 0;function ku(t,e){if(e)return t.slice();var n=t.length,r=qa?qa(n):new t.constructor(n);return t.copy(r),r}function Jp(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Nu(){return[]}var Qp=Object.prototype,tm=Qp.propertyIsEnumerable,Xa=Object.getOwnPropertySymbols,jo=Xa?function(t){return t==null?[]:(t=Object(t),Jp(Xa(t),function(e){return tm.call(t,e)}))}:Nu;function em(t,e){return sn(t,jo(t),e)}var nm=Object.getOwnPropertySymbols,Iu=nm?function(t){for(var e=[];t;)Io(e,jo(t)),t=Uo(t);return e}:Nu;function rm(t,e){return sn(t,Iu(t),e)}function Pu(t,e,n){var r=e(t);return Ct(t)?r:Io(r,n(t))}function Ni(t){return Pu(t,$n,jo)}function Uu(t){return Pu(t,Vn,Iu)}var Ii=Ue(Wt,"DataView"),Pi=Ue(Wt,"Promise"),Je=Ue(Wt,"Set"),Ya="[object Map]",im="[object Object]",Za="[object Promise]",Ka="[object Set]",Ja="[object WeakMap]",Qa="[object DataView]",om=Pe(Ii),am=Pe(kn),sm=Pe(Pi),lm=Pe(Je),um=Pe(ki),Bt=Ie;(Ii&&Bt(new Ii(new ArrayBuffer(1)))!=Qa||kn&&Bt(new kn)!=Ya||Pi&&Bt(Pi.resolve())!=Za||Je&&Bt(new Je)!=Ka||ki&&Bt(new ki)!=Ja)&&(Bt=function(t){var e=Ie(t),n=e==im?t.constructor:void 0,r=n?Pe(n):"";if(r)switch(r){case om:return Qa;case am:return Ya;case sm:return Za;case lm:return Ka;case um:return Ja}return e});var cm=Object.prototype,hm=cm.hasOwnProperty;function fm(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&hm.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var _r=Wt.Uint8Array;function Ho(t){var e=new t.constructor(t.byteLength);return new _r(e).set(new _r(t)),e}function dm(t,e){var n=e?Ho(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var pm=/\w*$/;function mm(t){var e=new t.constructor(t.source,pm.exec(t));return e.lastIndex=t.lastIndex,e}var ts=Pt?Pt.prototype:void 0,es=ts?ts.valueOf:void 0;function gm(t){return es?Object(es.call(t)):{}}function ju(t,e){var n=e?Ho(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var ym="[object Boolean]",vm="[object Date]",_m="[object Map]",bm="[object Number]",wm="[object RegExp]",Em="[object Set]",Om="[object String]",Sm="[object Symbol]",xm="[object ArrayBuffer]",Mm="[object DataView]",Tm="[object Float32Array]",Am="[object Float64Array]",Cm="[object Int8Array]",Lm="[object Int16Array]",Rm="[object Int32Array]",Dm="[object Uint8Array]",km="[object Uint8ClampedArray]",Nm="[object Uint16Array]",Im="[object Uint32Array]";function Pm(t,e,n){var r=t.constructor;switch(e){case xm:return Ho(t);case ym:case vm:return new r(+t);case Mm:return dm(t,n);case Tm:case Am:case Cm:case Lm:case Rm:case Dm:case km:case Nm:case Im:return ju(t,n);case _m:return new r;case bm:case Om:return new r(t);case wm:return mm(t);case Em:return new r;case Sm:return gm(t)}}function Hu(t){return typeof t.constructor=="function"&&!Co(t)?zf(Uo(t)):{}}var Um="[object Map]";function jm(t){return ee(t)&&Bt(t)==Um}var ns=tn&&tn.isMap,Hm=ns?Lo(ns):jm,Fm="[object Set]";function Bm(t){return ee(t)&&Bt(t)==Fm}var rs=tn&&tn.isSet,$m=rs?Lo(rs):Bm,Vm=1,zm=2,Gm=4,Fu="[object Arguments]",Wm="[object Array]",qm="[object Boolean]",Xm="[object Date]",Ym="[object Error]",Bu="[object Function]",Zm="[object GeneratorFunction]",Km="[object Map]",Jm="[object Number]",$u="[object Object]",Qm="[object RegExp]",tg="[object Set]",eg="[object String]",ng="[object Symbol]",rg="[object WeakMap]",ig="[object ArrayBuffer]",og="[object DataView]",ag="[object Float32Array]",sg="[object Float64Array]",lg="[object Int8Array]",ug="[object Int16Array]",cg="[object Int32Array]",hg="[object Uint8Array]",fg="[object Uint8ClampedArray]",dg="[object Uint16Array]",pg="[object Uint32Array]",tt={};tt[Fu]=tt[Wm]=tt[ig]=tt[og]=tt[qm]=tt[Xm]=tt[ag]=tt[sg]=tt[lg]=tt[ug]=tt[cg]=tt[Km]=tt[Jm]=tt[$u]=tt[Qm]=tt[tg]=tt[eg]=tt[ng]=tt[hg]=tt[fg]=tt[dg]=tt[pg]=!0;tt[Ym]=tt[Bu]=tt[rg]=!1;function or(t,e,n,r,i,o){var a,s=e&Vm,l=e&zm,u=e&Gm;if(n&&(a=i?n(t,r,i,o):n(t)),a!==void 0)return a;if(!Ut(t))return t;var c=Ct(t);if(c){if(a=fm(t),!s)return wu(t,a)}else{var h=Bt(t),f=h==Bu||h==Zm;if(Rn(t))return ku(t,s);if(h==$u||h==Fu||f&&!i){if(a=l||f?{}:Hu(t),!s)return l?rm(t,Zp(a,t)):em(t,Yp(a,t))}else{if(!tt[h])return i?t:{};a=Pm(t,h,s)}}o||(o=new Gt);var d=o.get(t);if(d)return d;o.set(t,a),$m(t)?t.forEach(function(g){a.add(or(g,e,n,g,t,o))}):Hm(t)&&t.forEach(function(g,y){a.set(y,or(g,e,n,y,t,o))});var m=u?l?Uu:Ni:l?Vn:$n,_=c?void 0:m(t);return Qf(_||t,function(g,y){_&&(y=g,g=t[y]),Ou(a,y,or(g,e,n,y,t,o))}),a}var mg="__lodash_hash_undefined__";function gg(t){return this.__data__.set(t,mg),this}function yg(t){return this.__data__.has(t)}function Nn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new be;++e<n;)this.add(t[e])}Nn.prototype.add=Nn.prototype.push=gg;Nn.prototype.has=yg;function Vu(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function zu(t,e){return t.has(e)}var vg=1,_g=2;function Gu(t,e,n,r,i,o){var a=n&vg,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,f=!0,d=n&_g?new Nn:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var m=t[h],_=e[h];if(r)var g=a?r(_,m,h,e,t,o):r(m,_,h,t,e,o);if(g!==void 0){if(g)continue;f=!1;break}if(d){if(!Vu(e,function(y,E){if(!zu(d,E)&&(m===y||i(m,y,n,r,o)))return d.push(E)})){f=!1;break}}else if(!(m===_||i(m,_,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}function bg(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function Fo(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var wg=1,Eg=2,Og="[object Boolean]",Sg="[object Date]",xg="[object Error]",Mg="[object Map]",Tg="[object Number]",Ag="[object RegExp]",Cg="[object Set]",Lg="[object String]",Rg="[object Symbol]",Dg="[object ArrayBuffer]",kg="[object DataView]",is=Pt?Pt.prototype:void 0,li=is?is.valueOf:void 0;function Ng(t,e,n,r,i,o,a){switch(n){case kg:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Dg:return!(t.byteLength!=e.byteLength||!o(new _r(t),new _r(e)));case Og:case Sg:case Tg:return Fn(+t,+e);case xg:return t.name==e.name&&t.message==e.message;case Ag:case Lg:return t==e+"";case Mg:var s=bg;case Cg:var l=r&wg;if(s||(s=Fo),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Eg,a.set(t,e);var c=Gu(s(t),s(e),r,i,o,a);return a.delete(t),c;case Rg:if(li)return li.call(t)==li.call(e)}return!1}var Ig=1,Pg=Object.prototype,Ug=Pg.hasOwnProperty;function jg(t,e,n,r,i,o){var a=n&Ig,s=Ni(t),l=s.length,u=Ni(e),c=u.length;if(l!=c&&!a)return!1;for(var h=l;h--;){var f=s[h];if(!(a?f in e:Ug.call(e,f)))return!1}var d=o.get(t),m=o.get(e);if(d&&m)return d==e&&m==t;var _=!0;o.set(t,e),o.set(e,t);for(var g=a;++h<l;){f=s[h];var y=t[f],E=e[f];if(r)var w=a?r(E,y,f,e,t,o):r(y,E,f,t,e,o);if(!(w===void 0?y===E||i(y,E,n,r,o):w)){_=!1;break}g||(g=f=="constructor")}if(_&&!g){var O=t.constructor,v=e.constructor;O!=v&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof v=="function"&&v instanceof v)&&(_=!1)}return o.delete(t),o.delete(e),_}var Hg=1,os="[object Arguments]",as="[object Array]",Kn="[object Object]",Fg=Object.prototype,ss=Fg.hasOwnProperty;function Bg(t,e,n,r,i,o){var a=Ct(t),s=Ct(e),l=a?as:Bt(t),u=s?as:Bt(e);l=l==os?Kn:l,u=u==os?Kn:u;var c=l==Kn,h=u==Kn,f=l==u;if(f&&Rn(t)){if(!Rn(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new Gt),a||Ro(t)?Gu(t,e,n,r,i,o):Ng(t,e,l,n,r,i,o);if(!(n&Hg)){var d=c&&ss.call(t,"__wrapped__"),m=h&&ss.call(e,"__wrapped__");if(d||m){var _=d?t.value():t,g=m?e.value():e;return o||(o=new Gt),i(_,g,n,r,o)}}return f?(o||(o=new Gt),jg(t,e,n,r,i,o)):!1}function Gr(t,e,n,r,i){return t===e?!0:t==null||e==null||!ee(t)&&!ee(e)?t!==t&&e!==e:Bg(t,e,n,r,Gr,i)}var $g=1,Vg=2;function zg(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var s=a[0],l=t[s],u=a[1];if(a[2]){if(l===void 0&&!(s in t))return!1}else{var c=new Gt,h;if(!(h===void 0?Gr(u,l,$g|Vg,r,c):h))return!1}}return!0}function Wu(t){return t===t&&!Ut(t)}function Gg(t){for(var e=$n(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Wu(i)]}return e}function qu(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Wg(t){var e=Gg(t);return e.length==1&&e[0][2]?qu(e[0][0],e[0][1]):function(n){return n===t||zg(n,t,e)}}function qg(t,e){return t!=null&&e in Object(t)}function Xg(t,e,n){e=zr(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=zn(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Ao(i)&&xo(a,i)&&(Ct(t)||Ln(t)))}function Yg(t,e){return t!=null&&Xg(t,e,qg)}var Zg=1,Kg=2;function Jg(t,e){return Do(t)&&Wu(e)?qu(zn(t),e):function(n){var r=Pp(n,t);return r===void 0&&r===e?Yg(n,t):Gr(e,r,Zg|Kg)}}function Qg(t){return function(e){return e?.[t]}}function ty(t){return function(e){return No(e,t)}}function ey(t){return Do(t)?Qg(zn(t)):ty(t)}function Xu(t){return typeof t=="function"?t:t==null?Oo:typeof t=="object"?Ct(t)?Jg(t[0],t[1]):Wg(t):ey(t)}function ny(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[++i];if(n(o[l],l,o)===!1)break}return e}}var Yu=ny();function Ui(t,e,n){(n!==void 0&&!Fn(t[e],n)||n===void 0&&!(e in t))&&Mo(t,e,n)}function ji(t){return ee(t)&&Bn(t)}function Hi(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function ry(t){return sn(t,Vn(t))}function iy(t,e,n,r,i,o,a){var s=Hi(t,n),l=Hi(e,n),u=a.get(l);if(u){Ui(t,n,u);return}var c=o?o(s,l,n+"",t,e,a):void 0,h=c===void 0;if(h){var f=Ct(l),d=!f&&Rn(l),m=!f&&!d&&Ro(l);c=l,f||d||m?Ct(s)?c=s:ji(s)?c=wu(s):d?(h=!1,c=ku(l,!0)):m?(h=!1,c=ju(l,!0)):c=[]:Ru(l)||Ln(l)?(c=s,Ln(s)?c=ry(s):(!Ut(s)||So(s))&&(c=Hu(l))):h=!1}h&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),Ui(t,n,c)}function Zu(t,e,n,r,i){t!==e&&Yu(e,function(o,a){if(i||(i=new Gt),Ut(o))iy(t,e,a,n,Zu,r,i);else{var s=r?r(Hi(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),Ui(t,a,s)}},Vn)}function Ku(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var B=hd(function(t,e,n){Zu(t,e,n)}),oy=1/0,ay=Je&&1/Fo(new Je([,-0]))[1]==oy?function(t){return new Je(t)}:Wf,sy=200;function Ju(t,e,n){var r=-1,i=id,o=t.length,a=!0,s=[],l=s;if(o>=sy){var u=e?null:ay(t);if(u)return Fo(u);a=!1,i=zu,l=new Nn}else l=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=c!==0?c:0,a&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue t;e&&l.push(h),s.push(c)}else i(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}To(function(t){var e=Ku(t);return ji(e)&&(e=void 0),Ju(Po(t,1,ji,!0),Xu(e))});function ly(t){return t&&t.length?Ju(t):[]}function ar(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uy(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bo(t){let e,n,r;t.length!==2?(e=ar,n=(s,l)=>ar(t(s),l),r=(s,l)=>t(s)-l):(e=t===ar||t===uy?t:cy,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function cy(){return 0}function hy(t){return t===null?NaN:+t}const fy=Bo(ar),dy=fy.right;Bo(hy).center;let ls=class extends Map{constructor(t,e=gy){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(us(this,t))}has(t){return super.has(us(this,t))}set(t,e){return super.set(py(this,t),e)}delete(t){return super.delete(my(this,t))}};function us({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function py({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function my({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function gy(t){return t!==null&&typeof t=="object"?t.valueOf():t}const yy=Math.sqrt(50),vy=Math.sqrt(10),_y=Math.sqrt(2);function Qu(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=yy?10:o>=vy?5:o>=_y?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Qu(t,e,n*2):[s,l,u]}function cs(t,e,n){return e=+e,t=+t,n=+n,Qu(t,e,n)[2]}function hs(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?cs(e,t,n):cs(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}var by={value:()=>{}};function $o(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new sr(n)}function sr(t){this._=t}function wy(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}sr.prototype=$o.prototype={constructor:sr,on:function(t,e){var n=this._,r=wy(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Ey(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=fs(n[i],t.name,e);else if(e==null)for(i in n)n[i]=fs(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new sr(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ey(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function fs(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=by,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Fi="http://www.w3.org/1999/xhtml";const ds={svg:"http://www.w3.org/2000/svg",xhtml:Fi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ds.hasOwnProperty(e)?{space:ds[e],local:t}:t}function Oy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Fi&&e.documentElement.namespaceURI===Fi?e.createElement(t):e.createElementNS(n,t)}}function Sy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tc(t){var e=Wr(t);return(e.local?Sy:Oy)(e)}function xy(){}function Vo(t){return t==null?xy:function(){return this.querySelector(t)}}function My(t){typeof t!="function"&&(t=Vo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new Rt(r,this._parents)}function Ty(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ay(){return[]}function ec(t){return t==null?Ay:function(){return this.querySelectorAll(t)}}function Cy(t){return function(){return Ty(t.apply(this,arguments))}}function Ly(t){typeof t=="function"?t=Cy(t):t=ec(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new Rt(r,i)}function nc(t){return function(){return this.matches(t)}}function rc(t){return function(e){return e.matches(t)}}var Ry=Array.prototype.find;function Dy(t){return function(){return Ry.call(this.children,t)}}function ky(){return this.firstElementChild}function Ny(t){return this.select(t==null?ky:Dy(typeof t=="function"?t:rc(t)))}var Iy=Array.prototype.filter;function Py(){return Array.from(this.children)}function Uy(t){return function(){return Iy.call(this.children,t)}}function jy(t){return this.selectAll(t==null?Py:Uy(typeof t=="function"?t:rc(t)))}function Hy(t){typeof t!="function"&&(t=nc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Rt(r,this._parents)}function ic(t){return new Array(t.length)}function Fy(){return new Rt(this._enter||this._groups.map(ic),this._parents)}function br(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}br.prototype={constructor:br,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function By(t){return function(){return t}}function $y(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new br(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Vy(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,h=o.length,f=new Array(c),d;for(s=0;s<c;++s)(l=e[s])&&(f[s]=d=a.call(l,l.__data__,s,e)+"",u.has(d)?i[s]=l:u.set(d,l));for(s=0;s<h;++s)d=a.call(t,o[s],s,o)+"",(l=u.get(d))?(r[s]=l,l.__data__=o[s],u.delete(d)):n[s]=new br(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function zy(t){return t.__data__}function Gy(t,e){if(!arguments.length)return Array.from(this,zy);var n=e?Vy:$y,r=this._parents,i=this._groups;typeof t!="function"&&(t=By(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,d=Wy(t.call(c,c&&c.__data__,u,r)),m=d.length,_=s[u]=new Array(m),g=a[u]=new Array(m),y=l[u]=new Array(f);n(c,h,_,g,y,d,e);for(var E=0,w=0,O,v;E<m;++E)if(O=_[E]){for(E>=w&&(w=E+1);!(v=g[w])&&++w<m;);O._next=v||null}}return a=new Rt(a,r),a._enter=s,a._exit=l,a}function Wy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qy(){return new Rt(this._exit||this._groups.map(ic),this._parents)}function Xy(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Yy(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],h=u.length,f=s[l]=new Array(h),d,m=0;m<h;++m)(d=u[m]||c[m])&&(f[m]=d);for(;l<i;++l)s[l]=n[l];return new Rt(s,this._parents)}function Zy(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ky(t){t||(t=Jy);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new Rt(i,this._parents).order()}function Jy(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Qy(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function tv(){return Array.from(this)}function ev(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function nv(){let t=0;for(const e of this)++t;return t}function rv(){return!this.node()}function iv(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function ov(t){return function(){this.removeAttribute(t)}}function av(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sv(t,e){return function(){this.setAttribute(t,e)}}function lv(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function uv(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function cv(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function hv(t,e){var n=Wr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?av:ov:typeof e=="function"?n.local?cv:uv:n.local?lv:sv)(n,e))}function oc(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fv(t){return function(){this.style.removeProperty(t)}}function dv(t,e,n){return function(){this.style.setProperty(t,e,n)}}function pv(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function mv(t,e,n){return arguments.length>1?this.each((e==null?fv:typeof e=="function"?pv:dv)(t,e,n??"")):en(this.node(),t)}function en(t,e){return t.style.getPropertyValue(e)||oc(t).getComputedStyle(t,null).getPropertyValue(e)}function gv(t){return function(){delete this[t]}}function yv(t,e){return function(){this[t]=e}}function vv(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function _v(t,e){return arguments.length>1?this.each((e==null?gv:typeof e=="function"?vv:yv)(t,e)):this.node()[t]}function ac(t){return t.trim().split(/^|\s+/)}function zo(t){return t.classList||new sc(t)}function sc(t){this._node=t,this._names=ac(t.getAttribute("class")||"")}sc.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lc(t,e){for(var n=zo(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function uc(t,e){for(var n=zo(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function bv(t){return function(){lc(this,t)}}function wv(t){return function(){uc(this,t)}}function Ev(t,e){return function(){(e.apply(this,arguments)?lc:uc)(this,t)}}function Ov(t,e){var n=ac(t+"");if(arguments.length<2){for(var r=zo(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ev:e?bv:wv)(n,e))}function Sv(){this.textContent=""}function xv(t){return function(){this.textContent=t}}function Mv(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Tv(t){return arguments.length?this.each(t==null?Sv:(typeof t=="function"?Mv:xv)(t)):this.node().textContent}function Av(){this.innerHTML=""}function Cv(t){return function(){this.innerHTML=t}}function Lv(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Rv(t){return arguments.length?this.each(t==null?Av:(typeof t=="function"?Lv:Cv)(t)):this.node().innerHTML}function Dv(){this.nextSibling&&this.parentNode.appendChild(this)}function kv(){return this.each(Dv)}function Nv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Iv(){return this.each(Nv)}function Pv(t){var e=typeof t=="function"?t:tc(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Uv(){return null}function jv(t,e){var n=typeof t=="function"?t:tc(t),r=e==null?Uv:typeof e=="function"?e:Vo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Hv(){var t=this.parentNode;t&&t.removeChild(this)}function Fv(){return this.each(Hv)}function Bv(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $v(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vv(t){return this.select(t?$v:Bv)}function zv(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Gv(t){return function(e){t.call(this,e,this.__data__)}}function Wv(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function qv(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Xv(t,e,n){return function(){var r=this.__on,i,o=Gv(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Yv(t,e,n){var r=Wv(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?Xv:qv,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function cc(t,e,n){var r=oc(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Zv(t,e){return function(){return cc(this,t,e)}}function Kv(t,e){return function(){return cc(this,t,e.apply(this,arguments))}}function Jv(t,e){return this.each((typeof e=="function"?Kv:Zv)(t,e))}function*Qv(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var hc=[null];function Rt(t,e){this._groups=t,this._parents=e}function Gn(){return new Rt([[document.documentElement]],hc)}function t_(){return this}Rt.prototype=Gn.prototype={constructor:Rt,select:My,selectAll:Ly,selectChild:Ny,selectChildren:jy,filter:Hy,data:Gy,enter:Fy,exit:qy,join:Xy,merge:Yy,selection:t_,order:Zy,sort:Ky,call:Qy,nodes:tv,node:ev,size:nv,empty:rv,each:iv,attr:hv,style:mv,property:_v,classed:Ov,text:Tv,html:Rv,raise:kv,lower:Iv,append:Pv,insert:jv,remove:Fv,clone:Vv,datum:zv,on:Yv,dispatch:Jv,[Symbol.iterator]:Qv};function e_(t){let e;for(;e=t.sourceEvent;)t=e;return t}function In(t,e){if(t=e_(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Go(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fc(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wn(){}var Pn=.7,wr=1/Pn,Qe="\\s*([+-]?\\d+)\\s*",Un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",n_=/^#([0-9a-f]{3,8})$/,r_=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),i_=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),o_=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${Un}\\)$`),a_=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${Un}\\)$`),s_=new RegExp(`^hsl\\(${Un},${Qt},${Qt}\\)$`),l_=new RegExp(`^hsla\\(${Un},${Qt},${Qt},${Un}\\)$`),ps={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Go(Wn,Le,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ms,formatHex:ms,formatHex8:u_,formatHsl:c_,formatRgb:gs,toString:gs});function ms(){return this.rgb().formatHex()}function u_(){return this.rgb().formatHex8()}function c_(){return dc(this).formatHsl()}function gs(){return this.rgb().formatRgb()}function Le(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=n_.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ys(e):n===3?new Tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=r_.exec(t))?new Tt(e[1],e[2],e[3],1):(e=i_.exec(t))?new Tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=o_.exec(t))?Jn(e[1],e[2],e[3],e[4]):(e=a_.exec(t))?Jn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=s_.exec(t))?bs(e[1],e[2]/100,e[3]/100,1):(e=l_.exec(t))?bs(e[1],e[2]/100,e[3]/100,e[4]):ps.hasOwnProperty(t)?ys(ps[t]):t==="transparent"?new Tt(NaN,NaN,NaN,0):null}function ys(t){return new Tt(t>>16&255,t>>8&255,t&255,1)}function Jn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tt(t,e,n,r)}function h_(t){return t instanceof Wn||(t=Le(t)),t?(t=t.rgb(),new Tt(t.r,t.g,t.b,t.opacity)):new Tt}function Bi(t,e,n,r){return arguments.length===1?h_(t):new Tt(t,e,n,r??1)}function Tt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Go(Tt,Bi,fc(Wn,{brighter(t){return t=t==null?wr:Math.pow(wr,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Pn:Math.pow(Pn,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tt(Ae(this.r),Ae(this.g),Ae(this.b),Er(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vs,formatHex:vs,formatHex8:f_,formatRgb:_s,toString:_s}));function vs(){return`#${Te(this.r)}${Te(this.g)}${Te(this.b)}`}function f_(){return`#${Te(this.r)}${Te(this.g)}${Te(this.b)}${Te((isNaN(this.opacity)?1:this.opacity)*255)}`}function _s(){const t=Er(this.opacity);return`${t===1?"rgb(":"rgba("}${Ae(this.r)}, ${Ae(this.g)}, ${Ae(this.b)}${t===1?")":`, ${t})`}`}function Er(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ae(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Te(t){return t=Ae(t),(t<16?"0":"")+t.toString(16)}function bs(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zt(t,e,n,r)}function dc(t){if(t instanceof zt)return new zt(t.h,t.s,t.l,t.opacity);if(t instanceof Wn||(t=Le(t)),!t)return new zt;if(t instanceof zt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new zt(a,s,l,t.opacity)}function d_(t,e,n,r){return arguments.length===1?dc(t):new zt(t,e,n,r??1)}function zt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Go(zt,d_,fc(Wn,{brighter(t){return t=t==null?wr:Math.pow(wr,t),new zt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Pn:Math.pow(Pn,t),new zt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tt(ui(t>=240?t-240:t+120,i,r),ui(t,i,r),ui(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zt(ws(this.h),Qn(this.s),Qn(this.l),Er(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Er(this.opacity);return`${t===1?"hsl(":"hsla("}${ws(this.h)}, ${Qn(this.s)*100}%, ${Qn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ws(t){return t=(t||0)%360,t<0?t+360:t}function Qn(t){return Math.max(0,Math.min(1,t||0))}function ui(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Wo=t=>()=>t;function p_(t,e){return function(n){return t+n*e}}function m_(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function g_(t){return(t=+t)==1?pc:function(e,n){return n-e?m_(e,n,t):Wo(isNaN(e)?n:e)}}function pc(t,e){var n=e-t;return n?p_(t,n):Wo(isNaN(t)?e:t)}const Or=function t(e){var n=g_(e);function r(i,o){var a=n((i=Bi(i)).r,(o=Bi(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=pc(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function y_(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function v_(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function __(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=qr(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function b_(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function w_(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=qr(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var $i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ci=new RegExp($i.source,"g");function E_(t){return function(){return t}}function O_(t){return function(e){return t(e)+""}}function mc(t,e){var n=$i.lastIndex=ci.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=$i.exec(t))&&(i=ci.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:$t(r,i)})),n=ci.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?O_(l[0].x):E_(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function qr(t,e){var n=typeof e,r;return e==null||n==="boolean"?Wo(e):(n==="number"?$t:n==="string"?(r=Le(e))?(e=r,Or):mc:e instanceof Le?Or:e instanceof Date?b_:v_(e)?y_:Array.isArray(e)?__:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?w_:$t)(t,e)}function S_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Es=180/Math.PI,gc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yc(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Es,skewX:Math.atan(l)*Es,scaleX:a,scaleY:s}}var tr;function x_(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?gc:yc(e.a,e.b,e.c,e.d,e.e,e.f)}function M_(t){return t==null||(tr||(tr=document.createElementNS("http://www.w3.org/2000/svg","g")),tr.setAttribute("transform",t),!(t=tr.transform.baseVal.consolidate()))?gc:(t=t.matrix,yc(t.a,t.b,t.c,t.d,t.e,t.f))}function vc(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,f,d,m){if(u!==h||c!==f){var _=d.push("translate(",null,e,null,n);m.push({i:_-4,x:$t(u,h)},{i:_-2,x:$t(c,f)})}else(h||f)&&d.push("translate("+h+e+f+n)}function a(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:$t(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:$t(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,d,m){if(u!==h||c!==f){var _=d.push(i(d)+"scale(",null,",",null,")");m.push({i:_-4,x:$t(u,h)},{i:_-2,x:$t(c,f)})}else(h!==1||f!==1)&&d.push(i(d)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,f),a(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(d){for(var m=-1,_=f.length,g;++m<_;)h[(g=f[m]).i]=g.x(d);return h.join("")}}}var T_=vc(x_,"px, ","px)","deg)"),A_=vc(M_,", ",")",")"),nn=0,xn=0,mn=0,_c=1e3,Sr,Mn,xr=0,Re=0,Xr=0,jn=typeof performance=="object"&&performance.now?performance:Date,bc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qo(){return Re||(bc(C_),Re=jn.now()+Xr)}function C_(){Re=0}function Mr(){this._call=this._time=this._next=null}Mr.prototype=wc.prototype={constructor:Mr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?qo():+n)+(e==null?0:+e),!this._next&&Mn!==this&&(Mn?Mn._next=this:Sr=this,Mn=this),this._call=t,this._time=n,Vi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vi())}};function wc(t,e,n){var r=new Mr;return r.restart(t,e,n),r}function L_(){qo(),++nn;for(var t=Sr,e;t;)(e=Re-t._time)>=0&&t._call.call(void 0,e),t=t._next;--nn}function Os(){Re=(xr=jn.now())+Xr,nn=xn=0;try{L_()}finally{nn=0,D_(),Re=0}}function R_(){var t=jn.now(),e=t-xr;e>_c&&(Xr-=e,xr=t)}function D_(){for(var t,e=Sr,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Sr=n);Mn=t,Vi(r)}function Vi(t){if(!nn){xn&&(xn=clearTimeout(xn));var e=t-Re;e>24?(t<1/0&&(xn=setTimeout(Os,t-jn.now()-Xr)),mn&&(mn=clearInterval(mn))):(mn||(xr=jn.now(),mn=setInterval(R_,_c)),nn=1,bc(Os))}}function Ss(t,e,n){var r=new Mr;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var k_=$o("start","end","cancel","interrupt"),N_=[],Ec=0,xs=1,zi=2,lr=3,Ms=4,Gi=5,ur=6;function Yr(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;I_(t,n,{name:e,index:r,group:i,on:k_,tween:N_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ec})}function Xo(t,e){var n=qt(t,e);if(n.state>Ec)throw new Error("too late; already scheduled");return n}function re(t,e){var n=qt(t,e);if(n.state>lr)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function I_(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=wc(o,0,n.time);function o(u){n.state=xs,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,f,d;if(n.state!==xs)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===lr)return Ss(a);d.state===Ms?(d.state=ur,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=ur,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Ss(function(){n.state===lr&&(n.state=Ms,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=zi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===zi){for(n.state=lr,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Gi,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===Gi&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=ur,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Wi(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>zi&&r.state<Gi,r.state=ur,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function P_(t){return this.each(function(){Wi(this,t)})}function U_(t,e){var n,r;return function(){var i=re(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function j_(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=re(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function H_(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=qt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?U_:j_)(n,t,e))}function Yo(t,e,n){var r=t._id;return t.each(function(){var i=re(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qt(i,r).value[e]}}function Oc(t,e){var n;return(typeof e=="number"?$t:e instanceof Le?Or:(n=Le(e))?(e=n,Or):mc)(t,e)}function F_(t){return function(){this.removeAttribute(t)}}function B_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $_(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function V_(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function z_(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function G_(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function W_(t,e){var n=Wr(t),r=n==="transform"?A_:Oc;return this.attrTween(t,typeof e=="function"?(n.local?G_:z_)(n,r,Yo(this,"attr."+t,e)):e==null?(n.local?B_:F_)(n):(n.local?V_:$_)(n,r,e))}function q_(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function X_(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Y_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&X_(t,o)),n}return i._value=e,i}function Z_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&q_(t,o)),n}return i._value=e,i}function K_(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Wr(t);return this.tween(n,(r.local?Y_:Z_)(r,e))}function J_(t,e){return function(){Xo(this,t).delay=+e.apply(this,arguments)}}function Q_(t,e){return e=+e,function(){Xo(this,t).delay=e}}function t0(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?J_:Q_)(e,t)):qt(this.node(),e).delay}function e0(t,e){return function(){re(this,t).duration=+e.apply(this,arguments)}}function n0(t,e){return e=+e,function(){re(this,t).duration=e}}function r0(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?e0:n0)(e,t)):qt(this.node(),e).duration}function i0(t,e){if(typeof e!="function")throw new Error;return function(){re(this,t).ease=e}}function o0(t){var e=this._id;return arguments.length?this.each(i0(e,t)):qt(this.node(),e).ease}function a0(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;re(this,t).ease=n}}function s0(t){if(typeof t!="function")throw new Error;return this.each(a0(this._id,t))}function l0(t){typeof t!="function"&&(t=nc(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new ge(r,this._parents,this._name,this._id)}function u0(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,h=a[s]=new Array(c),f,d=0;d<c;++d)(f=l[d]||u[d])&&(h[d]=f);for(;s<r;++s)a[s]=e[s];return new ge(a,this._parents,this._name,this._id)}function c0(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function h0(t,e,n){var r,i,o=c0(e)?Xo:re;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function f0(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(h0(n,t,e))}function d0(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function p0(){return this.on("end.remove",d0(this._id))}function m0(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Vo(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,Yr(u[f],e,n,f,u,qt(c,n)));return new ge(o,this._parents,e,n)}function g0(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ec(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),d,m=qt(c,n),_=0,g=f.length;_<g;++_)(d=f[_])&&Yr(d,e,n,_,f,m);o.push(f),a.push(c)}return new ge(o,a,e,n)}var y0=Gn.prototype.constructor;function v0(){return new y0(this._groups,this._parents)}function _0(t,e){var n,r,i;return function(){var o=en(this,t),a=(this.style.removeProperty(t),en(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Sc(t){return function(){this.style.removeProperty(t)}}function b0(t,e,n){var r,i=n+"",o;return function(){var a=en(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function w0(t,e,n){var r,i,o;return function(){var a=en(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),en(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function E0(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=re(this,t),u=l.on,c=l.value[o]==null?s||(s=Sc(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function O0(t,e,n){var r=(t+="")=="transform"?T_:Oc;return e==null?this.styleTween(t,_0(t,r)).on("end.style."+t,Sc(t)):typeof e=="function"?this.styleTween(t,w0(t,r,Yo(this,"style."+t,e))).each(E0(this._id,t)):this.styleTween(t,b0(t,r,e),n).on("end.style."+t,null)}function S0(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function x0(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&S0(t,a,n)),r}return o._value=e,o}function M0(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,x0(t,e,n??""))}function T0(t){return function(){this.textContent=t}}function A0(t){return function(){var e=t(this);this.textContent=e??""}}function C0(t){return this.tween("text",typeof t=="function"?A0(Yo(this,"text",t)):T0(t==null?"":t+""))}function L0(t){return function(e){this.textContent=t.call(this,e)}}function R0(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&L0(i)),e}return r._value=t,r}function D0(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,R0(t))}function k0(){for(var t=this._name,e=this._id,n=xc(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=qt(l,e);Yr(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ge(r,this._parents,t,n)}function N0(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=re(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var I0=0;function ge(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function xc(){return++I0}var ue=Gn.prototype;ge.prototype={constructor:ge,select:m0,selectAll:g0,selectChild:ue.selectChild,selectChildren:ue.selectChildren,filter:l0,merge:u0,selection:v0,transition:k0,call:ue.call,nodes:ue.nodes,node:ue.node,size:ue.size,empty:ue.empty,each:ue.each,on:f0,attr:W_,attrTween:K_,style:O0,styleTween:M0,text:C0,textTween:D0,remove:p0,tween:H_,delay:t0,duration:r0,ease:o0,easeVarying:s0,end:N0,[Symbol.iterator]:ue[Symbol.iterator]};function P0(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var U0={time:null,delay:0,duration:250,ease:P0};function j0(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function H0(t){var e,n;t instanceof ge?(e=t._id,t=t._name):(e=xc(),(n=U0).time=qo(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Yr(l,t,e,u,a,n||j0(l,e));return new ge(r,this._parents,t,e)}Gn.prototype.interrupt=P_;Gn.prototype.transition=H0;function F0(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function B0(t){return t=Tr(Math.abs(t)),t?t[1]:NaN}function $0(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function V0(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var z0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qi(t){if(!(e=z0.exec(t)))throw new Error("invalid format: "+t);var e;return new Zo({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qi.prototype=Zo.prototype;function Zo(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Zo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G0(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Mc;function W0(t,e){var n=Tr(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Mc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Tr(t,Math.max(0,e+o-1))[0]}function Ts(t,e){var n=Tr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const As={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:F0,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ts(t*100,e),r:Ts,s:W0,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Cs(t){return t}var Ls=Array.prototype.map,Rs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function q0(t){var e=t.grouping===void 0||t.thousands===void 0?Cs:$0(Ls.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Cs:V0(Ls.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=qi(h);var f=h.fill,d=h.align,m=h.sign,_=h.symbol,g=h.zero,y=h.width,E=h.comma,w=h.precision,O=h.trim,v=h.type;v==="n"?(E=!0,v="g"):As[v]||(w===void 0&&(w=12),O=!0,v="g"),(g||f==="0"&&d==="=")&&(g=!0,f="0",d="=");var b=_==="$"?n:_==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",R=_==="$"?r:/[%p]/.test(v)?a:"",D=As[v],Z=/[defgprs%]/.test(v);w=w===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function z(C){var it=b,F=R,G,wt,K;if(v==="c")F=D(C)+F,C="";else{C=+C;var J=C<0||1/C<0;if(C=isNaN(C)?l:D(Math.abs(C),w),O&&(C=G0(C)),J&&+C==0&&m!=="+"&&(J=!1),it=(J?m==="("?m:s:m==="-"||m==="("?"":m)+it,F=(v==="s"?Rs[8+Mc/3]:"")+F+(J&&m==="("?")":""),Z){for(G=-1,wt=C.length;++G<wt;)if(K=C.charCodeAt(G),48>K||K>57){F=(K===46?i+C.slice(G+1):C.slice(G))+F,C=C.slice(0,G);break}}}E&&!g&&(C=e(C,1/0));var ht=it.length+C.length+F.length,V=ht<y?new Array(y-ht+1).join(f):"";switch(E&&g&&(C=e(V+C,V.length?y-F.length:1/0),V=""),d){case"<":C=it+C+F+V;break;case"=":C=it+V+C+F;break;case"^":C=V.slice(0,ht=V.length>>1)+it+C+F+V.slice(ht);break;default:C=V+it+C+F;break}return o(C)}return z.toString=function(){return h+""},z}function c(h,f){var d=u((h=qi(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(B0(f)/3)))*3,_=Math.pow(10,-m),g=Rs[8+m/3];return function(y){return d(_*y)+g}}return{format:u,formatPrefix:c}}var er;X0({thousands:",",grouping:[3],currency:["$",""]});function X0(t){return er=q0(t),er.format,er.formatPrefix,er}function Ko(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Ds=Symbol("implicit");function Tc(){var t=new ls,e=[],n=[],r=Ds;function i(o){let a=t.get(o);if(a===void 0){if(r!==Ds)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ls;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Tc(e,n).unknown(r)},Ko.apply(i,arguments),i}function Y0(t){return function(){return t}}function Z0(t){return+t}var ks=[0,1];function Xe(t){return t}function Xi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Y0(isNaN(e)?NaN:.5)}function K0(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function J0(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Xi(i,r),o=n(a,o)):(r=Xi(r,i),o=n(o,a)),function(s){return o(r(s))}}function Q0(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Xi(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=dy(t,s,1,r)-1;return o[l](i[l](s))}}function tb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function eb(){var t=ks,e=ks,n=qr,r,i,o,a=Xe,s,l,u;function c(){var f=Math.min(t.length,e.length);return a!==Xe&&(a=K0(t[0],t[f-1])),s=f>2?Q0:J0,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((u||(u=s(e,t.map(r),$t)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Z0),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=S_,c()},h.clamp=function(f){return arguments.length?(a=f?!0:Xe,c()):a!==Xe},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,d){return r=f,i=d,c()}}function nb(){return eb()(Xe,Xe)}function Tn(t,e,n){this.k=t,this.x=e,this.y=n}Tn.prototype={constructor:Tn,scale:function(t){return t===1?this:new Tn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Tn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Tn.prototype;const Jt="cds",fe={opacity:{unselected:.05,selected:.4}},rb={circles:{fillOpacity:.3,hover:{stroke:"#FFF"}},padding:{mainGroup:4,children:2},depth:2},hi={opacity:{unselected:.3,selected:1},weight:{selected:2,unselected:1}};yr.GRAPH_VIEW+"",yr.SLIDER_VIEW+"";Vt.RADIUS,Vt.AREA,Vt.AREA,Vt.AREA,Vt.QUARTILE;const Ye={type:uu.END_LINE,threshold:16,numCharacter:14},ib={code:typeof navigator<"u"&&navigator?.language||"en-US",number:(t,e=navigator?.language||"en-US")=>t.toLocaleString(e),date:(t,e=navigator?.language||"en-US",n={},r=null)=>r||t.toLocaleDateString(e,n),time:(t,e=navigator?.language||"en-US",n={},r=null)=>r||t.toLocaleTimeString(e,n),optionsObject:{"15seconds":{primary:{"MMM d, pp":{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hourCycle:"h12"},"MMM d, h:mm:ss.SSS a":{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",fractionalSecondDigits:3,hourCycle:"h12"}},secondary:{pp:{hour:"numeric",minute:"2-digit",second:"2-digit",hourCycle:"h12"},"h:mm:ss.SSS a":{hour:"numeric",minute:"2-digit",fractionalSecondDigits:3,hourCycle:"h12"}},type:"time"},minute:{primary:{"MMM d, p":{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hourCycle:"h12"}},secondary:{p:{hour:"numeric",minute:"2-digit",hourCycle:"h12"}},type:"time"},"30minutes":{primary:{"MMM d, p":{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hourCycle:"h12"}},secondary:{p:{hour:"numeric",minute:"2-digit",hourCycle:"h12"}},type:"time"},hourly:{primary:{"MMM d, hh a":{month:"short",day:"numeric",hour:"2-digit",hourCycle:"h12"}},secondary:{"hh a":{hour:"2-digit",hourCycle:"h12"}},type:"time"},daily:{primary:{"MMM d":{month:"short",day:"numeric"}},secondary:{d:{day:"numeric"}},type:"date"},weekly:{primary:{"eee, MMM d":{weekday:"short",month:"short",day:"numeric"}},secondary:{eee:{weekday:"short"}},type:"date"},monthly:{primary:{"MMM yyyy":{month:"short",year:"numeric"}},secondary:{MMM:{month:"short"}},type:"date"},quarterly:{primary:{},secondary:{},type:"date"},yearly:{primary:{yyyy:{year:"numeric"}},secondary:{yyyy:{year:"numeric"}},type:"date"}},translations:{group:"Group",total:"Total",meter:{title:""},tabularRep:{title:"Tabular representation",downloadAsCSV:"Download as CSV"},toolbar:{exportAsCSV:"Export to CSV",exportAsJPG:"Export to JPG",exportAsPNG:"Export to PNG",zoomIn:"Zoom in",zoomOut:"Zoom out",resetZoom:"Reset zoom",moreOptions:"More options",makeFullScreen:"Make fullscreen",exitFullScreen:"Exit fullscreen",showAsTable:"Show as table"}}},ob={enabled:!0,position:hu.BOTTOM,clickable:!0,truncation:Ye,alignment:Ne.LEFT,order:null,additionalItems:[]},ab={x:{enabled:!0,numberOfTicks:15,alignWithAxisTicks:!1},y:{enabled:!0,numberOfTicks:5,alignWithAxisTicks:!1}},sb={enabled:!0},Ac={enabled:!0,showTotal:!0,truncation:Ye,groupLabel:"Group"},Cc={top:{visible:!0,includeZero:!0,truncation:Ye},bottom:{visible:!0,includeZero:!0,truncation:Ye},left:{visible:!0,includeZero:!0,truncation:Ye},right:{visible:!0,includeZero:!0,truncation:Ye}},Zr={addSpaceOnEdges:1,showDayName:!1,localeObject:gf,timeIntervalFormats:{"15seconds":{primary:"MMM d, pp",secondary:"pp"},minute:{primary:"MMM d, p",secondary:"p"},"30minutes":{primary:"MMM d, p",secondary:"p"},hourly:{primary:"MMM d, hh a",secondary:"hh a"},daily:{primary:"MMM d",secondary:"d"},weekly:{primary:"eee, MMM d",secondary:"eee"},monthly:{primary:"MMM yyyy",secondary:"MMM"},quarterly:{primary:"QQQ ''yy",secondary:"QQQ"},yearly:{primary:"yyyy",secondary:"yyyy"}}};let Lc=!1;try{Lc=typeof document<"u"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}catch(t){console.warn("Fullscreen capabilities check failed: ",t.message)}const St={width:null,height:null,resizable:!0,theme:lu.WHITE,tooltip:Ac,legend:ob,locale:ib,style:{prefix:"cc"},data:{groupMapsTo:"group",loading:!1,selectedGroups:[]},color:{scale:null,pairing:{numberOfVariants:null,option:1},gradient:{enabled:!1}},toolbar:{enabled:!0,numberOfIcons:3,controls:[{type:q.SHOW_AS_DATATABLE},...Lc?[{type:q.MAKE_FULLSCREEN}]:[],{type:q.EXPORT_CSV},{type:q.EXPORT_PNG},{type:q.EXPORT_JPG}]}},lb=B({},St,{thematic:{projection:gu.geoNaturalEarth1}}),Kr=B({},St,{axes:Cc,timeScale:Zr,grid:ab,ruler:sb,zoomBar:{zoomRatio:.4,minZoomRatio:.01,top:{enabled:!1,type:yr.GRAPH_VIEW}}}),De=B({},Kr,{bars:{maxWidth:16,spacingFactor:.25},timeScale:B(Zr,{addSpaceOnEdges:1})});B({},De,{});B({},De,{});B({},De,{bars:B({},De.bars,{dividerSize:1.5})});B({},De,{});const ub=B({},Kr,{points:{radius:4,fillOpacity:.3,filled:!0,enabled:!0}}),cb=B({},ub,{points:{radius:3,filled:!1,enabled:!0}});B({},cb,{timeScale:B(Zr,{addSpaceOnEdges:0})});B({},Kr,{bubble:{radiusMapsTo:"radius",radiusLabel:"Radius",radiusRange:t=>{const e=Math.min(t.width,t.height);return[e*3/400,e*25/400]},fillOpacity:.2,enabled:!0},points:{filled:!0},legend:{additionalItems:[{type:Vt.RADIUS,name:"Radius"}]}});B({},Kr,{bullet:{performanceAreaTitles:["Poor","Satisfactory","Great"]},grid:{x:{enabled:!1},y:{enabled:!1}},legend:{additionalItems:[{type:Vt.AREA,name:"Poor area"},{type:Vt.AREA,name:"Satisfactory area"},{type:Vt.AREA,name:"Great area"},{type:Vt.QUARTILE,name:"Quartiles"}]}});B({},De,{bars:{dividerSize:1.5},timeScale:B(Zr,{addSpaceOnEdges:0})});B({},St,{tooltip:B({},Ac,{wordLabel:"Word",valueLabel:"Value"}),wordCloud:{fontSizeMapsTo:"value",fontSizeRange:t=>{const e=Math.min(t.width,t.height);return[e*20/400,e*75/400]},wordMapsTo:"word"}});const hb=B({},St,{pie:{labels:{formatter:null,enabled:!0},alignment:Ne.LEFT,sortFunction:null,valueMapsTo:"value"}});B({},St,{legend:{enabled:!1},gauge:{type:pu.SEMI,arcWidth:16,deltaArrow:{size:t=>t/8,enabled:!0},showPercentageSymbol:!0,status:null,numberSpacing:10,deltaFontSize:t=>t/8,valueFontSize:t=>t/2.5,alignment:Ne.LEFT}});B({},hb,{donut:{center:{numberFontSize:t=>`${Math.min(t/100*24,24)}px`,titleFontSize:t=>`${Math.min(t/100*15,15)}px`,titleYPosition:t=>Math.min(t/80*20,20)},alignment:Ne.LEFT}});const fb=B({},St,{legend:{enabled:!1,clickable:!1},meter:{showLabels:!0,proportional:null,statusBar:{percentageIndicator:{enabled:!0}}}});B({},fb,{legend:{enabled:!0}});B({},St,{radar:{axes:{angle:"key",value:"value"},alignment:Ne.LEFT},tooltip:{gridline:{enabled:!0}}});B({},De,{comboChartTypes:[]});B({tree:{type:fu.TREE}},St,{});B({},St,{data:B(St.data,{groupMapsTo:"name"})});B({},St,rb,{data:B(St.data,{groupMapsTo:"name"})});B({},St,{alluvial:{data:B(St.data,{groupMapsTo:"source"}),nodeAlignment:Ne.CENTER,nodePadding:24,monochrome:!1,nodes:[]}});B({},St,{axes:Cc,heatmap:{divider:{state:mu.AUTO},colorLegend:{type:"linear"}}});B({},lb,{choropleth:{colorLegend:{type:"linear"}}});function db(t,e,n){let r=null;return function(...i){const o=this;o.mousePosition=In(i[0],n),clearTimeout(r),r=setTimeout(function(){t.apply(o,i)},e)}}const N=(t,...e)=>{let n=t;if(n){for(const r of e)if(n[r]!==null&&n[r]!==void 0)n=n[r];else return null;return n}return null},Rc=(t,e)=>e===te.HORIZONTAL?{y0:t.x0,y1:t.x1,x0:t.y0,x1:t.y1}:t,Jo=(t,e)=>{const{x0:n,x1:r,y0:i,y1:o}=Rc(t,e);return`M${n},${i}L${n},${o}L${r},${o}L${r},${i}L${n},${i}`};function cr(t,e,n){return n===te.VERTICAL?[t,e]:[e,t]}var ne=(t=>(t.GRAPHICS_DOCUMENT="graphics-document",t.GRAPHICS_OBJECT="graphics-object",t.GRAPHICS_SYMBOL="graphics-symbol",t.GROUP="group",t.DOCUMENT="document",t.CHECKBOX="checkbox",t.BUTTON="button",t.MENU="menu",t.MENU_ITEM="menuitem",t.IMG="img",t))(ne||{});function pb(t,e){return t&&Yu(t,e,$n)}function mb(t,e){return function(n,r){if(n==null)return n;if(!Bn(n))return t(n,r);for(var i=n.length,o=-1,a=Object(n);++o<i&&r(a[o],o,a)!==!1;);return n}}var gb=mb(pb);function mt(t){return function(){return t}}function Dc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}var yb=/\s/;function vb(t){for(var e=t.length;e--&&yb.test(t.charAt(e)););return e}var _b=/^\s+/;function bb(t){return t&&t.slice(0,vb(t)+1).replace(_b,"")}var Ns=NaN,wb=/^[-+]0x[0-9a-f]+$/i,Eb=/^0b[01]+$/i,Ob=/^0o[0-7]+$/i,Sb=parseInt;function Yi(t){if(typeof t=="number")return t;if(Br(t))return Ns;if(Ut(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ut(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=bb(t);var n=Eb.test(t);return n||Ob.test(t)?Sb(t.slice(2),n?2:8):wb.test(t)?Ns:+t}var fi=function(){return Wt.Date.now()},xb="Expected a function",Mb=Math.max,Tb=Math.min;function Ab(t,e,n){var r,i,o,a,s,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(xb);e=Yi(e)||0,Ut(n)&&(c=!!n.leading,h="maxWait"in n,o=h?Mb(Yi(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function d(b){var R=r,D=i;return r=i=void 0,u=b,a=t.apply(D,R),a}function m(b){return u=b,s=setTimeout(y,e),c?d(b):a}function _(b){var R=b-l,D=b-u,Z=e-R;return h?Tb(Z,o-D):Z}function g(b){var R=b-l,D=b-u;return l===void 0||R>=e||R<0||h&&D>=o}function y(){var b=fi();if(g(b))return E(b);s=setTimeout(y,_(b))}function E(b){return s=void 0,f&&r?d(b):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?a:E(fi())}function v(){var b=fi(),R=g(b);if(r=arguments,i=this,l=b,R){if(s===void 0)return m(l);if(h)return clearTimeout(s),s=setTimeout(y,e),d(l)}return s===void 0&&(s=setTimeout(y,e)),a}return v.cancel=w,v.flush=O,v}function Cb(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function k(t){return typeof t=="string"?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],hc)}function kc(){var t=Tc().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,d=i<r,m=d?i:r,_=d?r:i;o=(_-m)/Math.max(1,f-l+u*2),s&&(o=Math.floor(o)),m+=(_-m-o*(f-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var g=Cb(f).map(function(y){return m+o*y});return n(d?g.reverse():g)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return kc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Ko.apply(h(),arguments)}function Lb(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}const di=new Date,pi=new Date;function ct(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>ct(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(di.setTime(+o),pi.setTime(+a),t(di),t(pi),Math.floor(n(di,pi))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ar=ct(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ar.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ct(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ar);Ar.range;const de=1e3,It=de*60,pe=It*60,ye=pe*24,Qo=ye*7,Is=ye*30,mi=ye*365,Ze=ct(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*de)},(t,e)=>(e-t)/de,t=>t.getUTCSeconds());Ze.range;const ta=ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*de)},(t,e)=>{t.setTime(+t+e*It)},(t,e)=>(e-t)/It,t=>t.getMinutes());ta.range;const Rb=ct(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*It)},(t,e)=>(e-t)/It,t=>t.getUTCMinutes());Rb.range;const ea=ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*de-t.getMinutes()*It)},(t,e)=>{t.setTime(+t+e*pe)},(t,e)=>(e-t)/pe,t=>t.getHours());ea.range;const Db=ct(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pe)},(t,e)=>(e-t)/pe,t=>t.getUTCHours());Db.range;const qn=ct(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*It)/ye,t=>t.getDate()-1);qn.range;const na=ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ye,t=>t.getUTCDate()-1);na.range;const kb=ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ye,t=>Math.floor(t/ye));kb.range;function je(t){return ct(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*It)/Qo)}const Jr=je(0),Cr=je(1),Nb=je(2),Ib=je(3),rn=je(4),Pb=je(5),Ub=je(6);Jr.range;Cr.range;Nb.range;Ib.range;rn.range;Pb.range;Ub.range;function He(t){return ct(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Qo)}const Nc=He(0),Lr=He(1),jb=He(2),Hb=He(3),on=He(4),Fb=He(5),Bb=He(6);Nc.range;Lr.range;jb.range;Hb.range;on.range;Fb.range;Bb.range;const ra=ct(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ra.range;const $b=ct(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$b.range;const ve=ct(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ve.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ct(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ve.range;const ke=ct(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ke.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ct(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ke.range;function Vb(t,e,n,r,i,o){const a=[[Ze,1,de],[Ze,5,5*de],[Ze,15,15*de],[Ze,30,30*de],[o,1,It],[o,5,5*It],[o,15,15*It],[o,30,30*It],[i,1,pe],[i,3,3*pe],[i,6,6*pe],[i,12,12*pe],[r,1,ye],[r,2,2*ye],[n,1,Qo],[e,1,Is],[e,3,3*Is],[t,1,mi]];function s(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const d=h&&typeof h.range=="function"?h:l(u,c,h),m=d?d.range(u,+c+1):[];return f?m.reverse():m}function l(u,c,h){const f=Math.abs(c-u)/h,d=Bo(([,,g])=>g).right(a,f);if(d===a.length)return t.every(hs(u/mi,c/mi,h));if(d===0)return Ar.every(Math.max(hs(u,c,h),1));const[m,_]=a[f/a[d-1][2]<a[d][2]/f?d-1:d];return m.every(_)}return[s,l]}const[zb,Gb]=Vb(ve,ra,Jr,qn,ea,ta);function gi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Wb(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=yn(i),c=vn(i),h=yn(o),f=vn(o),d=yn(a),m=vn(a),_=yn(s),g=vn(s),y=yn(l),E=vn(l),w={a:J,A:ht,b:V,B:ot,c:null,d:Bs,e:Bs,f:mw,g:xw,G:Tw,H:fw,I:dw,j:pw,L:Ic,m:gw,M:yw,p:P,q:nt,Q:zs,s:Gs,S:vw,u:_w,U:bw,V:ww,w:Ew,W:Ow,x:null,X:null,y:Sw,Y:Mw,Z:Aw,"%":Vs},O={a:rt,A:oe,b:X,B:kt,c:null,d:$s,e:$s,f:Dw,g:$w,G:zw,H:Cw,I:Lw,j:Rw,L:Uc,m:kw,M:Nw,p:at,q:Xt,Q:zs,s:Gs,S:Iw,u:Pw,U:Uw,V:jw,w:Hw,W:Fw,x:null,X:null,y:Bw,Y:Vw,Z:Gw,"%":Vs},v={a:z,A:C,b:it,B:F,c:G,d:Hs,e:Hs,f:lw,g:js,G:Us,H:Fs,I:Fs,j:iw,L:sw,m:rw,M:ow,p:Z,q:nw,Q:cw,s:hw,S:aw,u:Kb,U:Jb,V:Qb,w:Zb,W:tw,x:wt,X:K,y:js,Y:Us,Z:ew,"%":uw};w.x=b(n,w),w.X=b(r,w),w.c=b(e,w),O.x=b(n,O),O.X=b(r,O),O.c=b(e,O);function b(T,I){return function(U){var S=[],Q=-1,j=0,lt=T.length,ut,L,Y;for(U instanceof Date||(U=new Date(+U));++Q<lt;)T.charCodeAt(Q)===37&&(S.push(T.slice(j,Q)),(L=Ps[ut=T.charAt(++Q)])!=null?ut=T.charAt(++Q):L=ut==="e"?" ":"0",(Y=I[ut])&&(ut=Y(U,L)),S.push(ut),j=Q+1);return S.push(T.slice(j,Q)),S.join("")}}function R(T,I){return function(U){var S=gn(1900,void 0,1),Q=D(S,T,U+="",0),j,lt;if(Q!=U.length)return null;if("Q"in S)return new Date(S.Q);if("s"in S)return new Date(S.s*1e3+("L"in S?S.L:0));if(I&&!("Z"in S)&&(S.Z=0),"p"in S&&(S.H=S.H%12+S.p*12),S.m===void 0&&(S.m="q"in S?S.q:0),"V"in S){if(S.V<1||S.V>53)return null;"w"in S||(S.w=1),"Z"in S?(j=yi(gn(S.y,0,1)),lt=j.getUTCDay(),j=lt>4||lt===0?Lr.ceil(j):Lr(j),j=na.offset(j,(S.V-1)*7),S.y=j.getUTCFullYear(),S.m=j.getUTCMonth(),S.d=j.getUTCDate()+(S.w+6)%7):(j=gi(gn(S.y,0,1)),lt=j.getDay(),j=lt>4||lt===0?Cr.ceil(j):Cr(j),j=qn.offset(j,(S.V-1)*7),S.y=j.getFullYear(),S.m=j.getMonth(),S.d=j.getDate()+(S.w+6)%7)}else("W"in S||"U"in S)&&("w"in S||(S.w="u"in S?S.u%7:"W"in S?1:0),lt="Z"in S?yi(gn(S.y,0,1)).getUTCDay():gi(gn(S.y,0,1)).getDay(),S.m=0,S.d="W"in S?(S.w+6)%7+S.W*7-(lt+5)%7:S.w+S.U*7-(lt+6)%7);return"Z"in S?(S.H+=S.Z/100|0,S.M+=S.Z%100,yi(S)):gi(S)}}function D(T,I,U,S){for(var Q=0,j=I.length,lt=U.length,ut,L;Q<j;){if(S>=lt)return-1;if(ut=I.charCodeAt(Q++),ut===37){if(ut=I.charAt(Q++),L=v[ut in Ps?I.charAt(Q++):ut],!L||(S=L(T,U,S))<0)return-1}else if(ut!=U.charCodeAt(S++))return-1}return S}function Z(T,I,U){var S=u.exec(I.slice(U));return S?(T.p=c.get(S[0].toLowerCase()),U+S[0].length):-1}function z(T,I,U){var S=d.exec(I.slice(U));return S?(T.w=m.get(S[0].toLowerCase()),U+S[0].length):-1}function C(T,I,U){var S=h.exec(I.slice(U));return S?(T.w=f.get(S[0].toLowerCase()),U+S[0].length):-1}function it(T,I,U){var S=y.exec(I.slice(U));return S?(T.m=E.get(S[0].toLowerCase()),U+S[0].length):-1}function F(T,I,U){var S=_.exec(I.slice(U));return S?(T.m=g.get(S[0].toLowerCase()),U+S[0].length):-1}function G(T,I,U){return D(T,e,I,U)}function wt(T,I,U){return D(T,n,I,U)}function K(T,I,U){return D(T,r,I,U)}function J(T){return a[T.getDay()]}function ht(T){return o[T.getDay()]}function V(T){return l[T.getMonth()]}function ot(T){return s[T.getMonth()]}function P(T){return i[+(T.getHours()>=12)]}function nt(T){return 1+~~(T.getMonth()/3)}function rt(T){return a[T.getUTCDay()]}function oe(T){return o[T.getUTCDay()]}function X(T){return l[T.getUTCMonth()]}function kt(T){return s[T.getUTCMonth()]}function at(T){return i[+(T.getUTCHours()>=12)]}function Xt(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var I=b(T+="",w);return I.toString=function(){return T},I},parse:function(T){var I=R(T+="",!1);return I.toString=function(){return T},I},utcFormat:function(T){var I=b(T+="",O);return I.toString=function(){return T},I},utcParse:function(T){var I=R(T+="",!0);return I.toString=function(){return T},I}}}var Ps={"-":"",_:" ",0:"0"},dt=/^\s*\d+/,qb=/^%/,Xb=/[\\^$*+?|[\]().{}]/g;function $(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Yb(t){return t.replace(Xb,"\\$&")}function yn(t){return new RegExp("^(?:"+t.map(Yb).join("|")+")","i")}function vn(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Zb(t,e,n){var r=dt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Kb(t,e,n){var r=dt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Jb(t,e,n){var r=dt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qb(t,e,n){var r=dt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tw(t,e,n){var r=dt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Us(t,e,n){var r=dt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function js(t,e,n){var r=dt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ew(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nw(t,e,n){var r=dt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rw(t,e,n){var r=dt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Hs(t,e,n){var r=dt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function iw(t,e,n){var r=dt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fs(t,e,n){var r=dt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ow(t,e,n){var r=dt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function aw(t,e,n){var r=dt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sw(t,e,n){var r=dt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lw(t,e,n){var r=dt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uw(t,e,n){var r=qb.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cw(t,e,n){var r=dt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function hw(t,e,n){var r=dt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Bs(t,e){return $(t.getDate(),e,2)}function fw(t,e){return $(t.getHours(),e,2)}function dw(t,e){return $(t.getHours()%12||12,e,2)}function pw(t,e){return $(1+qn.count(ve(t),t),e,3)}function Ic(t,e){return $(t.getMilliseconds(),e,3)}function mw(t,e){return Ic(t,e)+"000"}function gw(t,e){return $(t.getMonth()+1,e,2)}function yw(t,e){return $(t.getMinutes(),e,2)}function vw(t,e){return $(t.getSeconds(),e,2)}function _w(t){var e=t.getDay();return e===0?7:e}function bw(t,e){return $(Jr.count(ve(t)-1,t),e,2)}function Pc(t){var e=t.getDay();return e>=4||e===0?rn(t):rn.ceil(t)}function ww(t,e){return t=Pc(t),$(rn.count(ve(t),t)+(ve(t).getDay()===4),e,2)}function Ew(t){return t.getDay()}function Ow(t,e){return $(Cr.count(ve(t)-1,t),e,2)}function Sw(t,e){return $(t.getFullYear()%100,e,2)}function xw(t,e){return t=Pc(t),$(t.getFullYear()%100,e,2)}function Mw(t,e){return $(t.getFullYear()%1e4,e,4)}function Tw(t,e){var n=t.getDay();return t=n>=4||n===0?rn(t):rn.ceil(t),$(t.getFullYear()%1e4,e,4)}function Aw(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$(e/60|0,"0",2)+$(e%60,"0",2)}function $s(t,e){return $(t.getUTCDate(),e,2)}function Cw(t,e){return $(t.getUTCHours(),e,2)}function Lw(t,e){return $(t.getUTCHours()%12||12,e,2)}function Rw(t,e){return $(1+na.count(ke(t),t),e,3)}function Uc(t,e){return $(t.getUTCMilliseconds(),e,3)}function Dw(t,e){return Uc(t,e)+"000"}function kw(t,e){return $(t.getUTCMonth()+1,e,2)}function Nw(t,e){return $(t.getUTCMinutes(),e,2)}function Iw(t,e){return $(t.getUTCSeconds(),e,2)}function Pw(t){var e=t.getUTCDay();return e===0?7:e}function Uw(t,e){return $(Nc.count(ke(t)-1,t),e,2)}function jc(t){var e=t.getUTCDay();return e>=4||e===0?on(t):on.ceil(t)}function jw(t,e){return t=jc(t),$(on.count(ke(t),t)+(ke(t).getUTCDay()===4),e,2)}function Hw(t){return t.getUTCDay()}function Fw(t,e){return $(Lr.count(ke(t)-1,t),e,2)}function Bw(t,e){return $(t.getUTCFullYear()%100,e,2)}function $w(t,e){return t=jc(t),$(t.getUTCFullYear()%100,e,2)}function Vw(t,e){return $(t.getUTCFullYear()%1e4,e,4)}function zw(t,e){var n=t.getUTCDay();return t=n>=4||n===0?on(t):on.ceil(t),$(t.getUTCFullYear()%1e4,e,4)}function Gw(){return"+0000"}function Vs(){return"%"}function zs(t){return+t}function Gs(t){return Math.floor(+t/1e3)}var ze,Hc;Ww({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ww(t){return ze=Wb(t),Hc=ze.format,ze.parse,ze.utcFormat,ze.utcParse,ze}function qw(t){return new Date(t)}function Xw(t){return t instanceof Date?+t:+new Date(+t)}function Fc(t,e,n,r,i,o,a,s,l,u){var c=nb(),h=c.invert,f=c.domain,d=u(".%L"),m=u(":%S"),_=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),E=u("%b %d"),w=u("%B"),O=u("%Y");function v(b){return(l(b)<b?d:s(b)<b?m:a(b)<b?_:o(b)<b?g:r(b)<b?i(b)<b?y:E:n(b)<b?w:O)(b)}return c.invert=function(b){return new Date(h(b))},c.domain=function(b){return arguments.length?f(Array.from(b,Xw)):f().map(qw)},c.ticks=function(b){var R=f();return t(R[0],R[R.length-1],b??10)},c.tickFormat=function(b,R){return R==null?v:u(R)},c.nice=function(b){var R=f();return(!b||typeof b.range!="function")&&(b=e(R[0],R[R.length-1],b??10)),b?f(Lb(R,b)):c},c.copy=function(){return tb(c,Fc(t,e,n,r,i,o,a,s,l,u))},c}function Yw(){return Ko.apply(Fc(zb,Gb,ve,ra,Jr,qn,ea,ta,Ze,Hc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const Ws=1e-12;function Bc(t){this._context=t}Bc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $c(t){return new Bc(t)}function Rr(){}function Zw(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const Kw=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function me(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function Dr(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function Jw(t){const e=Dr(t,"border-left-width"),n=Dr(t,"border-right-width");return t.clientWidth+e+n}function Qw(t){const e=Dr(t,"border-top-width"),n=Dr(t,"border-bottom-width");return t.clientHeight+e+n}function Vc(t,e={}){const n=e.width||Jw(t),r=e.height||Qw(t);return{width:n,height:r}}function tE(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Lt=16384;function eE(t){(t.width>Lt||t.height>Lt)&&(t.width>Lt&&t.height>Lt?t.width>t.height?(t.height*=Lt/t.width,t.width=Lt):(t.width*=Lt/t.height,t.height=Lt):t.width>Lt?(t.height*=Lt/t.width,t.width=Lt):(t.width*=Lt/t.height,t.height=Lt))}function kr(t){return new Promise((e,n)=>{const r=new Image;r.decode=()=>e(r),r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function nE(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function rE(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(t),nE(i)}const At=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||At(n,e)};function iE(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function oE(t){return me(t).map(e=>{const n=t.getPropertyValue(e),r=t.getPropertyPriority(e);return`${e}: ${n}${r?" !important":""};`}).join(" ")}function aE(t,e,n){const r=`.${t}:${e}`,i=n.cssText?iE(n):oE(n);return document.createTextNode(`${r}{${i}}`)}function qs(t,e,n){const r=window.getComputedStyle(t,n),i=r.getPropertyValue("content");if(i===""||i==="none")return;const o=Kw();try{e.className=`${e.className} ${o}`}catch{return}const a=document.createElement("style");a.appendChild(aE(o,n,r)),e.appendChild(a)}function sE(t,e){qs(t,e,":before"),qs(t,e,":after")}const Xs="application/font-woff",Ys="image/jpeg",lE={woff:Xs,woff2:Xs,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ys,jpeg:Ys,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function uE(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function ia(t){const e=uE(t).toLowerCase();return lE[e]||""}function cE(t){return t.split(/,/)[1]}function Zi(t){return t.search(/^(data:)/)!==-1}function hE(t,e){return`data:${e};base64,${t}`}async function zc(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((o,a)=>{const s=new FileReader;s.onerror=a,s.onloadend=()=>{try{o(n({res:r,result:s.result}))}catch(l){a(l)}},s.readAsDataURL(i)})}const vi={};function fE(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function oa(t,e,n){const r=fE(t,e,n.includeQueryParams);if(vi[r]!=null)return vi[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const o=await zc(t,n.fetchRequestInit,({res:a,result:s})=>(e||(e=a.headers.get("Content-Type")||""),cE(s)));i=hE(o,e)}catch(o){i=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${t}`;o&&(a=typeof o=="string"?o:o.message),a&&console.warn(a)}return vi[r]=i,i}async function dE(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):kr(e)}async function pE(t,e){if(t.currentSrc){const o=document.createElement("canvas"),a=o.getContext("2d");o.width=t.clientWidth,o.height=t.clientHeight,a?.drawImage(t,0,0,o.width,o.height);const s=o.toDataURL();return kr(s)}const n=t.poster,r=ia(n),i=await oa(n,r,e);return kr(i)}async function mE(t){var e;try{if(!((e=t?.contentDocument)===null||e===void 0)&&e.body)return await Qr(t.contentDocument.body,{},!0)}catch{}return t.cloneNode(!1)}async function gE(t,e){return At(t,HTMLCanvasElement)?dE(t):At(t,HTMLVideoElement)?pE(t,e):At(t,HTMLIFrameElement)?mE(t):t.cloneNode(!1)}const yE=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";async function vE(t,e,n){var r,i;let o=[];return yE(t)&&t.assignedNodes?o=me(t.assignedNodes()):At(t,HTMLIFrameElement)&&!((r=t.contentDocument)===null||r===void 0)&&r.body?o=me(t.contentDocument.body.childNodes):o=me(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),o.length===0||At(t,HTMLVideoElement)||await o.reduce((a,s)=>a.then(()=>Qr(s,n)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function _E(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):me(r).forEach(i=>{let o=r.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),At(t,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&e.getAttribute("d")&&(o=`path(${e.getAttribute("d")})`),n.setProperty(i,o,r.getPropertyPriority(i))})}function bE(t,e){At(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),At(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function wE(t,e){if(At(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function EE(t,e){return At(e,Element)&&(_E(t,e),sE(t,e),bE(t,e),wE(t,e)),e}async function OE(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let o=0;o<n.length;o++){const a=n[o].getAttribute("xlink:href");if(a){const s=t.querySelector(a),l=document.querySelector(a);!s&&l&&!r[a]&&(r[a]=await Qr(l,e,!0))}}const i=Object.values(r);if(i.length){const o="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg");a.setAttribute("xmlns",o),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const s=document.createElementNS(o,"defs");a.appendChild(s);for(let l=0;l<i.length;l++)s.appendChild(i[l]);t.appendChild(a)}return t}async function Qr(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>gE(r,e)).then(r=>vE(t,r,e)).then(r=>EE(t,r)).then(r=>OE(r,e))}const Gc=/url\((['"]?)([^'"]+?)\1\)/g,SE=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,xE=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ME(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function TE(t){const e=[];return t.replace(Gc,(n,r,i)=>(e.push(i),n)),e.filter(n=>!Zi(n))}async function AE(t,e,n,r,i){try{const o=n?Zw(e,n):e,a=ia(e);let s;return i||(s=await oa(o,a,r)),t.replace(ME(e),`$1${s}$3`)}catch{}return t}function CE(t,{preferredFontFormat:e}){return e?t.replace(xE,n=>{for(;;){const[r,,i]=SE.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function Wc(t){return t.search(Gc)!==-1}async function qc(t,e,n){if(!Wc(t))return t;const r=CE(t,n);return TE(r).reduce((i,o)=>i.then(a=>AE(a,o,e,n)),Promise.resolve(r))}async function nr(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const o=await qc(i,null,n);return e.style.setProperty(t,o,e.style.getPropertyPriority(t)),!0}return!1}async function LE(t,e){await nr("background",t,e)||await nr("background-image",t,e),await nr("mask",t,e)||await nr("mask-image",t,e)}async function RE(t,e){const n=At(t,HTMLImageElement);if(!(n&&!Zi(t.src))&&!(At(t,SVGImageElement)&&!Zi(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await oa(r,ia(r),e);await new Promise((o,a)=>{t.onload=o,t.onerror=a;const s=t;s.decode&&(s.decode=o),s.loading==="lazy"&&(s.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function DE(t,e){const n=me(t.childNodes).map(r=>Xc(r,e));await Promise.all(n).then(()=>t)}async function Xc(t,e){At(t,Element)&&(await LE(t,e),await RE(t,e),await DE(t,e))}function kE(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const Zs={};async function Ks(t){let e=Zs[t];if(e!=null)return e;const n=await(await fetch(t)).text();return e={url:t,cssText:n},Zs[t]=e,e}async function Js(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let a=o.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),zc(a,e.fetchRequestInit,({result:s})=>(n=n.replace(o,`url(${s})`),[o,s]))});return Promise.all(i).then(()=>n)}function Qs(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(a,"gi");for(;;){let l=o.exec(r);if(l===null){if(l=s.exec(r),l===null)break;o.lastIndex=s.lastIndex}else s.lastIndex=o.lastIndex;e.push(l[0])}return e}async function NE(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{me(i.cssRules||[]).forEach((o,a)=>{if(o.type===CSSRule.IMPORT_RULE){let s=a+1;const l=o.href,u=Ks(l).then(c=>Js(c,e)).then(c=>Qs(c).forEach(h=>{try{i.insertRule(h,h.startsWith("@import")?s+=1:i.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:h,error:f})}})).catch(c=>{console.error("Error loading remote css",c.toString())});r.push(u)}})}catch(o){const a=t.find(s=>s.href==null)||document.styleSheets[0];i.href!=null&&r.push(Ks(i.href).then(s=>Js(s,e)).then(s=>Qs(s).forEach(l=>{a.insertRule(l,i.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{me(i.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),n))}function IE(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Wc(e.style.getPropertyValue("src")))}async function PE(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=me(t.ownerDocument.styleSheets),r=await NE(n,e);return IE(r)}async function UE(t,e){const n=await PE(t,e);return(await Promise.all(n.map(r=>{const i=r.parentStyleSheet?r.parentStyleSheet.href:null;return qc(r.cssText,i,e)}))).join(`
`)}async function jE(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await UE(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function HE(t,e={}){const{width:n,height:r}=Vc(t,e),i=await Qr(t,e,!0);return await jE(i,e),await Xc(i,e),kE(i,e),await rE(i,n,r)}async function Yc(t,e={}){const{width:n,height:r}=Vc(t,e),i=await HE(t,e),o=await kr(i),a=document.createElement("canvas"),s=a.getContext("2d"),l=e.pixelRatio||tE(),u=e.canvasWidth||n,c=e.canvasHeight||r;return a.width=u*l,a.height=c*l,e.skipAutoScale||eE(a),a.style.width=`${u}`,a.style.height=`${c}`,e.backgroundColor&&(s.fillStyle=e.backgroundColor,s.fillRect(0,0,a.width,a.height)),s.drawImage(o,0,0,a.width,a.height),a}async function FE(t,e={}){return(await Yc(t,e)).toDataURL()}async function BE(t,e={}){return(await Yc(t,e)).toDataURL("image/jpeg",e.quality||1)}let Zc=class{constructor(t,e){this.model=t,this.services=e,this.init()}init(){}update(){}setModel(t){this.model=t}setServices(t){this.services=t}};const $E="DONT_STYLE_ME_css_styles_verifier";let yt=class Ki extends Zc{constructor(e,n){super(e,n)}static getHTMLElementSize(e){return{width:e.clientWidth,height:e.clientHeight}}static getSVGElementSize(e,n={useAttrs:!1,useClientDimensions:!1,useBBox:!1,useBoundingRect:!1}){e.attr||(e=k(e));const r={width:0,height:0},i=f=>{f&&Object.keys(r).forEach(d=>{if(f[d]){const m=f[d],_=parseFloat(m);m&&_>r[d]&&(""+m).indexOf("%")===-1&&(r[d]=_)}})},o={width:e.attr("width"),height:e.attr("height")},a=e.node();let s,l,u,c;try{typeof a.getBBox=="function"&&(s=a.getBBox(),l={width:s.width,height:s.height})}catch(f){console.error(f)}try{typeof a?.getBoundingClientRect=="function"&&(u=a.getBoundingClientRect(),c={width:u.width,height:u.height})}catch(f){console.error(f)}let h;if(a instanceof SVGSVGElement&&(h={width:a.clientWidth,height:a.clientHeight}),n){if(n.useAttrs&&(i(o),r.width>0&&r.height>0))return r;if(n.useClientDimensions&&(i(h),r.width>0&&r.height>0))return h;if(n.useBBox&&(i(l),r.width>0&&r.height>0))return l;if(n.useBoundingRect&&(i(c),r.width>0&&r.height>0))return c}try{const f={width:N(e.node(),"width","baseVal","value"),height:N(e.node(),"height","baseVal","value")};i(f)}catch{i(h),i(l),i(o)}return r}static appendOrSelect(e,n){const r=e.select(`${n}`);if(r.empty()){let i=n.split("#"),o,a;return i.length===2?(o=i[0],i=i[1].split("."),a=i[0]):(i=n.split("."),o=i[0]),e.append(o).attr("id",a).attr("class",i.slice(1).join(" "))}return r}init(){this.initializeID(),this.styleHolderElement(),this.addMainContainer(),this.model.getOptions().resizable&&this.addResizeListener(),this.addHolderListeners(),this.handleFullscreenChange()}getChartID(){return this.chartID}getElementOffset(e,n=!1){const r={left:0,top:0},i=e.getBoundingClientRect(),o=n?{left:0,top:0}:this.getHolder().getBoundingClientRect();try{r.left=i.left-o.left,r.top=i.top-o.top}catch(a){console.error(a)}return r}generateElementIDString(e){return`chart-${this.chartID}-${e}`}initializeID(){this.chartID=Math.floor((1+Math.random())*281474976710656).toString(16)}addMainContainer(){const e=this.model.getOptions(),n=N(e,"style","prefix"),r=k(this.getHolder()).append("div").classed(`${Jt}--${n}--chart-wrapper`,!0).attr("id",`chart-${this.getChartID()}`).style("height","100%").style("width","100%");r.append("g").attr("class",$E),this.mainContainer=r.node()}update(){this.styleHolderElement()}styleHolderElement(){const e=this.getHolder(),{width:n,height:r,theme:i}=this.model.getOptions();n!==this.width&&(e.style.width=n,this.width=n),r!==this.height&&(e.style.height=r,this.height=r),k(this.getHolder()).classed(`${Jt}--chart-holder`,!0).attr("data-carbon-theme",i)}getHolder(){return this.model.get("holder")}exportToJPG(){const e=this,n=this.model.getOptions(),r=this.getHolder(),i=k(r);i.classed("filled",!0),BE(this.getMainContainer(),{quality:1,filter:o=>!(o.classList&&o.classList.contains("cds--cc--toolbar"))}).then(function(o){var a;let s="myChart";const l=N(n,"fileDownload","fileName");typeof l=="function"?s=l("jpg"):typeof l=="string"&&(s=l),(a=e.services.files)==null||a.downloadImage(o,`${s}.jpg`),i.classed("filled",!1)})}exportToPNG(){const e=this,n=this.model.getOptions(),r=this.getHolder(),i=k(r);i.classed("filled",!0),FE(this.getMainContainer(),{quality:1,filter:o=>!(o.classList&&o.classList.contains("cds--cc--toolbar"))}).then(function(o){var a;let s="myChart";const l=N(n,"fileDownload","fileName");typeof l=="function"?s=l("png"):typeof l=="string"&&(s=l),(a=e.services.files)==null||a.downloadImage(o,`${s}.png`),i.classed("filled",!1)}).catch(function(o){console.error("oops, something went wrong!",o)})}isFullScreenMode(){return k(this.getHolder()).classed("fullscreen")}toggleFullscreen(){const e=this.getHolder();k(e).classed("fullscreen")&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}handleFullscreenChange(){document.addEventListener("fullscreenchange",()=>{const e=k(this.getHolder()),n=e.classed("fullscreen");e.classed("fullscreen",!n)})}setSVGMaxHeight(){if(!this.model.getOptions().height){const{height:e}=Ki.getSVGElementSize(k(this.mainContainer),{useBBox:!0}),n=k(this.mainContainer).attr("class"),r=k(this.mainContainer).selectAll(`.${n} > svg`);let i=0;r.nodes().forEach(function(o){i+=Number(Ki.getSVGElementSize(k(o),{useBBox:!0}).height)}),i<=e?k(this.mainContainer).attr("height",i):k(this.mainContainer).attr("height","100%")}}getMainContainer(){return this.mainContainer}addHolderListeners(){const e=this.getHolder();e&&k(e).on("mouseover",()=>{var n;(n=this.services.events)==null||n.dispatchEvent(M.Chart.MOUSEOVER)}).on("mouseout",()=>{var n;(n=this.services.events)==null||n.dispatchEvent(M.Chart.MOUSEOUT)})}addResizeListener(){const e=this.getHolder();if(!e)return;let n=e.clientWidth,r=e.clientHeight;const i=Ab(()=>{var o;e&&(Math.abs(n-e.clientWidth)>1||Math.abs(r-e.clientHeight)>1)&&(n=e.clientWidth,r=e.clientHeight,(o=this.services.events)==null||o.dispatchEvent(M.Chart.RESIZE))},12.5);new ResizeObserver(i).observe(e)}},tl=class Kc extends Zc{static appendOrUpdateLinearGradient(e){let n=e.svg.select(`defs linearGradient#${e.id}`);n.empty()&&(n=e.svg.append("defs").append("linearGradient").attr("id",e.id).attr("x1",e.x1).attr("x2",e.x2).attr("y1",e.y1).attr("y2",e.y2)),n.selectAll("stop").remove(),n.selectAll("stop").data(e.stops).enter().append("stop").attr("offset",r=>r.offset).style("stop-color",r=>r.color).style("stop-opacity",r=>r.opacity)}static getOffsetRatio(e){return(Math.abs(e[1])*100/Math.abs(e[0]-e[1])).toFixed(2)+"%"}static getStops(e,n){const r=e[0]<0&&e[1]>0;let i=[{offset:"0%",color:n,opacity:"0.6"},{offset:"80%",color:n,opacity:"0"}];return r&&(i=[{offset:"0%",color:n,opacity:"0.6"},{offset:Kc.getOffsetRatio(e),color:n,opacity:"0"},{offset:"100%",color:n,opacity:"0.6"}]),i}};var VE="Expected a function";function zE(t,e,n){if(typeof t!="function")throw new TypeError(VE);return setTimeout(function(){t.apply(void 0,n)},e)}To(function(t,e,n){return zE(t,Yi(e)||0,n)});function GE(t,e){return Gr(t,e)}function WE(t,e){var n;return gb(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}function qE(t,e,n){var r=Ct(t)?Vu:WE;return r(t,Xu(e))}const Ji={capture:!0,passive:!1};function Qi(t){t.preventDefault(),t.stopImmediatePropagation()}function XE(t){var e=t.document.documentElement,n=k(t).on("dragstart.drag",Qi,Ji);"onselectstart"in e?n.on("selectstart.drag",Qi,Ji):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function YE(t,e){var n=t.document.documentElement,r=k(t).on("dragstart.drag",null);e&&(r.on("click.drag",Qi,Ji),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const _i=t=>()=>t;function ZE(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function KE(t){t.stopImmediatePropagation()}function bi(t){t.preventDefault(),t.stopImmediatePropagation()}var el={name:"drag"},wi={name:"space"},Ge={name:"handle"},We={name:"center"};const{abs:nl,max:_t,min:bt}=Math;function rl(t){return[+t[0],+t[1]]}function il(t){return[rl(t[0]),rl(t[1])]}var hr={name:"x",handles:["w","e"].map(Nr),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ei={name:"y",handles:["n","s"].map(Nr),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ce={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ol={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},al={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},JE={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},QE={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Nr(t){return{type:t}}function tO(t){return!t.ctrlKey&&!t.button}function eO(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function nO(){return navigator.maxTouchPoints||"ontouchstart"in this}function Oi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function rO(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function iO(){return oO(hr)}function oO(t){var e=eO,n=tO,r=nO,i=!0,o=$o("start","brush","end"),a=6,s;function l(g){var y=g.property("__brush",_).selectAll(".overlay").data([Nr("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ce.overlay).merge(y).each(function(){var w=Oi(this).extent;k(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),g.selectAll(".selection").data([Nr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ce.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var E=g.selectAll(".handle").data(t.handles,function(w){return w.type});E.exit().remove(),E.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return ce[w.type]}),g.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(g,y,E){g.tween?g.on("start.brush",function(w){c(this,arguments).beforestart().start(w)}).on("interrupt.brush end.brush",function(w){c(this,arguments).end(w)}).tween("brush",function(){var w=this,O=w.__brush,v=c(w,arguments),b=O.selection,R=t.input(typeof y=="function"?y.apply(this,arguments):y,O.extent),D=qr(b,R);function Z(z){O.selection=z===1&&R===null?null:D(z),u.call(w),v.brush()}return b!==null&&R!==null?Z:Z(1)}):g.each(function(){var w=this,O=arguments,v=w.__brush,b=t.input(typeof y=="function"?y.apply(w,O):y,v.extent),R=c(w,O).beforestart();Wi(w),v.selection=b===null?null:b,u.call(w),R.start(E).brush(E).end(E)})},l.clear=function(g,y){l.move(g,null,y)};function u(){var g=k(this),y=Oi(this).selection;y?(g.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(E){return E.type[E.type.length-1]==="e"?y[1][0]-a/2:y[0][0]-a/2}).attr("y",function(E){return E.type[0]==="s"?y[1][1]-a/2:y[0][1]-a/2}).attr("width",function(E){return E.type==="n"||E.type==="s"?y[1][0]-y[0][0]+a:a}).attr("height",function(E){return E.type==="e"||E.type==="w"?y[1][1]-y[0][1]+a:a})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(g,y,E){var w=g.__brush.emitter;return w&&(!E||!w.clean)?w:new h(g,y,E)}function h(g,y,E){this.that=g,this.args=y,this.state=g.__brush,this.active=0,this.clean=E}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,y){return this.starting?(this.starting=!1,this.emit("start",g,y)):this.emit("brush",g),this},brush:function(g,y){return this.emit("brush",g,y),this},end:function(g,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,y)),this},emit:function(g,y,E){var w=k(this.that).datum();o.call(g,this.that,new ZE(g,{sourceEvent:y,target:l,selection:t.output(this.state.selection),mode:E,dispatch:o}),w)}};function f(g){if(s&&!g.touches||!n.apply(this,arguments))return;var y=this,E=g.target.__data__.type,w=(i&&g.metaKey?E="overlay":E)==="selection"?el:i&&g.altKey?We:Ge,O=t===Ei?null:JE[E],v=t===hr?null:QE[E],b=Oi(y),R=b.extent,D=b.selection,Z=R[0][0],z,C,it=R[0][1],F,G,wt=R[1][0],K,J,ht=R[1][1],V,ot,P=0,nt=0,rt,oe=O&&v&&i&&g.shiftKey,X,kt,at=Array.from(g.touches||[g],L=>{const Y=L.identifier;return L=In(L,y),L.point0=L.slice(),L.identifier=Y,L});Wi(y);var Xt=c(y,arguments,!0).beforestart();if(E==="overlay"){D&&(rt=!0);const L=[at[0],at[1]||at[0]];b.selection=D=[[z=t===Ei?Z:bt(L[0][0],L[1][0]),F=t===hr?it:bt(L[0][1],L[1][1])],[K=t===Ei?wt:_t(L[0][0],L[1][0]),V=t===hr?ht:_t(L[0][1],L[1][1])]],at.length>1&&Q(g)}else z=D[0][0],F=D[0][1],K=D[1][0],V=D[1][1];C=z,G=F,J=K,ot=V;var T=k(y).attr("pointer-events","none"),I=T.selectAll(".overlay").attr("cursor",ce[E]);if(g.touches)Xt.moved=S,Xt.ended=j;else{var U=k(g.view).on("mousemove.brush",S,!0).on("mouseup.brush",j,!0);i&&U.on("keydown.brush",lt,!0).on("keyup.brush",ut,!0),XE(g.view)}u.call(y),Xt.start(g,w.name);function S(L){for(const Y of L.changedTouches||[L])for(const Yt of at)Yt.identifier===Y.identifier&&(Yt.cur=In(Y,y));if(oe&&!X&&!kt&&at.length===1){const Y=at[0];nl(Y.cur[0]-Y[0])>nl(Y.cur[1]-Y[1])?kt=!0:X=!0}for(const Y of at)Y.cur&&(Y[0]=Y.cur[0],Y[1]=Y.cur[1]);rt=!0,bi(L),Q(L)}function Q(L){const Y=at[0],Yt=Y.point0;var Ht;switch(P=Y[0]-Yt[0],nt=Y[1]-Yt[1],w){case wi:case el:{O&&(P=_t(Z-z,bt(wt-K,P)),C=z+P,J=K+P),v&&(nt=_t(it-F,bt(ht-V,nt)),G=F+nt,ot=V+nt);break}case Ge:{at[1]?(O&&(C=_t(Z,bt(wt,at[0][0])),J=_t(Z,bt(wt,at[1][0])),O=1),v&&(G=_t(it,bt(ht,at[0][1])),ot=_t(it,bt(ht,at[1][1])),v=1)):(O<0?(P=_t(Z-z,bt(wt-z,P)),C=z+P,J=K):O>0&&(P=_t(Z-K,bt(wt-K,P)),C=z,J=K+P),v<0?(nt=_t(it-F,bt(ht-F,nt)),G=F+nt,ot=V):v>0&&(nt=_t(it-V,bt(ht-V,nt)),G=F,ot=V+nt));break}case We:{O&&(C=_t(Z,bt(wt,z-P*O)),J=_t(Z,bt(wt,K+P*O))),v&&(G=_t(it,bt(ht,F-nt*v)),ot=_t(it,bt(ht,V+nt*v)));break}}J<C&&(O*=-1,Ht=z,z=K,K=Ht,Ht=C,C=J,J=Ht,E in ol&&I.attr("cursor",ce[E=ol[E]])),ot<G&&(v*=-1,Ht=F,F=V,V=Ht,Ht=G,G=ot,ot=Ht,E in al&&I.attr("cursor",ce[E=al[E]])),b.selection&&(D=b.selection),X&&(C=D[0][0],J=D[1][0]),kt&&(G=D[0][1],ot=D[1][1]),(D[0][0]!==C||D[0][1]!==G||D[1][0]!==J||D[1][1]!==ot)&&(b.selection=[[C,G],[J,ot]],u.call(y),Xt.brush(L,w.name))}function j(L){if(KE(L),L.touches){if(L.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else YE(L.view,rt),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);T.attr("pointer-events","all"),I.attr("cursor",ce.overlay),b.selection&&(D=b.selection),rO(D)&&(b.selection=null,u.call(y)),Xt.end(L,w.name)}function lt(L){switch(L.keyCode){case 16:{oe=O&&v;break}case 18:{w===Ge&&(O&&(K=J-P*O,z=C+P*O),v&&(V=ot-nt*v,F=G+nt*v),w=We,Q(L));break}case 32:{(w===Ge||w===We)&&(O<0?K=J-P:O>0&&(z=C-P),v<0?V=ot-nt:v>0&&(F=G-nt),w=wi,I.attr("cursor",ce.selection),Q(L));break}default:return}bi(L)}function ut(L){switch(L.keyCode){case 16:{oe&&(X=kt=oe=!1,Q(L));break}case 18:{w===We&&(O<0?K=J:O>0&&(z=C),v<0?V=ot:v>0&&(F=G),w=Ge,Q(L));break}case 32:{w===wi&&(L.altKey?(O&&(K=J-P*O,z=C+P*O),v&&(V=ot-nt*v,F=G+nt*v),w=We):(O<0?K=J:O>0&&(z=C),v<0?V=ot:v>0&&(F=G),w=Ge),I.attr("cursor",ce[E]),Q(L));break}default:return}bi(L)}}function d(g){c(this,arguments).moved(g)}function m(g){c(this,arguments).ended(g)}function _(){var g=this.__brush||{selection:null};return g.extent=il(e.apply(this,arguments)),g.dim=t,g}return l.extent=function(g){return arguments.length?(e=typeof g=="function"?g:_i(il(g)),l):e},l.filter=function(g){return arguments.length?(n=typeof g=="function"?g:_i(!!g),l):n},l.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:_i(!!g),l):r},l.handleSize=function(g){return arguments.length?(a=+g,l):a},l.keyModifiers=function(g){return arguments.length?(i=!!g,l):i},l.on=function(){var g=o.on.apply(o,arguments);return g===o?l:g},l}const to=Math.PI,eo=2*to,Se=1e-6,aO=eo-Se;function Jc(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function sO(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Jc;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let aa=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Jc:sO(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,l=r-e,u=o-t,c=a-e,h=u*u+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(h>Se)if(!(Math.abs(c*s-l*u)>Se)||!i)this._append`L${this._x1=t},${this._y1=e}`;else{let f=n-o,d=r-a,m=s*s+l*l,_=f*f+d*d,g=Math.sqrt(m),y=Math.sqrt(h),E=i*Math.tan((to-Math.acos((m+h-_)/(2*g*y)))/2),w=E/y,O=E/g;Math.abs(w-1)>Se&&this._append`L${t+w*u},${e+w*c}`,this._append`A${i},${i},0,0,${+(c*f>u*d)},${this._x1=t+O*s},${this._y1=e+O*l}`}}arc(t,e,n,r,i,o){if(t=+t,e=+e,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,u=e+s,c=1^o,h=o?r-i:i-r;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Se||Math.abs(this._y1-u)>Se)&&this._append`L${l},${u}`,n&&(h<0&&(h=h%eo+eo),h>aO?this._append`A${n},${n},0,1,${c},${t-a},${e-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:h>Se&&this._append`A${n},${n},0,${+(h>=to)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}};function Qc(){return new aa}Qc.prototype=aa.prototype;var th=Math.PI,sl=th*2,lO=Math.abs;function ll(t,e){return lO(t)>th&&(t-=Math.round(t/sl)*sl),[t,e]}ll.invert=ll;function ul(){}ul.prototype={constructor:ul,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function cl(t,e){return[t,e]}cl.invert=cl;function uO(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function cO(){return this.eachAfter(uO)}function hO(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function fO(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function dO(t,e){for(var n=this,r=[n],i=[],o,a,s,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function pO(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function mO(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function gO(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function yO(t){for(var e=this,n=vO(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function vO(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function _O(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function bO(){return Array.from(this)}function wO(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function EO(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*OO(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function eh(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=MO)):e===void 0&&(e=xO);for(var n=new Hn(t),r,i=[n],o,a,s,l;r=i.pop();)if((a=e(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,s=l-1;s>=0;--s)i.push(o=a[s]=new Hn(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(AO)}function SO(){return eh(this).eachBefore(TO)}function xO(t){return t.children}function MO(t){return Array.isArray(t)?t[1]:null}function TO(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function AO(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Hn(t){this.data=t,this.depth=this.height=0,this.parent=null}Hn.prototype=eh.prototype={constructor:Hn,count:cO,each:hO,eachAfter:dO,eachBefore:fO,find:pO,sum:mO,sort:gO,path:yO,ancestors:_O,descendants:bO,leaves:wO,links:EO,copy:SO,[Symbol.iterator]:OO};function CO(t,e,n,r,i){for(var o=t.children,a,s=-1,l=o.length,u=t.value&&(r-e)/t.value;++s<l;)a=o[s],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}Object.create(Hn.prototype);function LO(t,e,n,r,i){for(var o=t.children,a,s=-1,l=o.length,u=t.value&&(i-n)/t.value;++s<l;)a=o[s],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var RO=(1+Math.sqrt(5))/2;function DO(t,e,n,r,i,o){for(var a=[],s=e.children,l,u,c=0,h=0,f=s.length,d,m,_=e.value,g,y,E,w,O,v,b;c<f;){d=i-n,m=o-r;do g=s[h++].value;while(!g&&h<f);for(y=E=g,v=Math.max(m/d,d/m)/(_*t),b=g*g*v,O=Math.max(E/b,b/y);h<f;++h){if(g+=u=s[h].value,u<y&&(y=u),u>E&&(E=u),b=g*g*v,w=Math.max(E/b,b/y),w>O){g-=u;break}O=w}a.push(l={value:g,dice:d<m,children:s.slice(c,h)}),l.dice?CO(l,n,r,i,_?r+=m*g/_:o):LO(l,n,r,_?n+=d*g/_:i,o),_-=g,c=h}return a}(function t(e){function n(r,i,o,a,s){DO(e,r,i,o,a,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(RO);function nh(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new aa(e)}function rh(t){return t[0]}function ih(t){return t[1]}function oh(t,e){var n=mt(!0),r=null,i=$c,o=null,a=nh(s);t=typeof t=="function"?t:t===void 0?rh:mt(t),e=typeof e=="function"?e:e===void 0?ih:mt(e);function s(l){var u,c=(l=Dc(l)).length,h,f=!1,d;for(r==null&&(o=i(d=a())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(h,u,l),+e(h,u,l));if(d)return o=null,d+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:mt(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:mt(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:mt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function ah(t,e,n){var r=null,i=mt(!0),o=null,a=$c,s=null,l=nh(u);t=typeof t=="function"?t:t===void 0?rh:mt(+t),e=typeof e=="function"?e:mt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?ih:mt(+n);function u(h){var f,d,m,_=(h=Dc(h)).length,g,y=!1,E,w=new Array(_),O=new Array(_);for(o==null&&(s=a(E=l())),f=0;f<=_;++f){if(!(f<_&&i(g=h[f],f,h))===y)if(y=!y)d=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=d;--m)s.point(w[m],O[m]);s.lineEnd(),s.areaEnd()}y&&(w[f]=+t(g,f,h),O[f]=+e(g,f,h),s.point(r?+r(g,f,h):w[f],n?+n(g,f,h):O[f]))}if(E)return s=null,E+""||null}function c(){return oh().defined(i).curve(a).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:mt(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:mt(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:mt(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:mt(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:mt(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:mt(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:mt(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),u):a},u.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),u):o},u}let ie=class{constructor(t,e,n){if(this.type="",this.renderType=vt.HTML,this.id="",this.parent=void 0,this.configs={},this.model=t,this.services=e,n&&(this.configs=n,this.configs.id)){const r=N(this.model.getOptions(),"style","prefix");this.id=`${r}--${this.configs.id}`}this.parent||this.setParent(k(this.services.domUtils.getMainContainer()))}init(){}render(t=!0){console.error("Error: Component did not provide the required render function.")}destroy(){}setModel(t){this.model=t}setServices(t){this.services=t}setParent(t){var e;const n=this.parent;if(this.parent=t,!(n&&n.node()===t.node())&&this.type){const r=N(this.model.getOptions(),"style","prefix");(e=this.parent)==null||e.classed(`${Jt}--${r}--${this.type}`,!0),n&&n.classed(`${Jt}--${r}--${this.type}`,!1)}}getParent(){return this.parent}getComponentContainer(t={withinChartClip:!1}){if(this.type){const e=N(this.model.getOptions(),"style","prefix"),n=this.id?`#${this.id}`:"",r=yt.appendOrSelect(this.parent,`${this.renderType===vt.SVG?"svg":"div"}${n}.${Jt}--${e}--${this.type}`);if(t.withinChartClip){const i=this.model.get("chartClipId");if(i){const o=k(`#${i}`).select("rect");o.size()!==0&&parseFloat(o.attr("height"))>0&&r.attr("clip-path",`url(#${i})`)}}return r.attr("width","100%").attr("height","100%")}return this.parent}getOptions(){return this.configs.options?B({},this.model.getOptions(),this.configs.options):this.model.getOptions()}};/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */const{entries:sh,setPrototypeOf:hl,isFrozen:kO,getPrototypeOf:NO,getOwnPropertyDescriptor:IO}=Object;let{freeze:xt,seal:jt,create:lh}=Object,{apply:no,construct:ro}=typeof Reflect<"u"&&Reflect;xt||(xt=function(t){return t});jt||(jt=function(t){return t});no||(no=function(t,e,n){return t.apply(e,n)});ro||(ro=function(t,e){return new t(...e)});const rr=Dt(Array.prototype.forEach),fl=Dt(Array.prototype.pop),_n=Dt(Array.prototype.push),fr=Dt(String.prototype.toLowerCase),Si=Dt(String.prototype.toString),dl=Dt(String.prototype.match),bn=Dt(String.prototype.replace),PO=Dt(String.prototype.indexOf),UO=Dt(String.prototype.trim),Ft=Dt(Object.prototype.hasOwnProperty),Ot=Dt(RegExp.prototype.test),wn=jO(TypeError);function Dt(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return no(t,e,r)}}function jO(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ro(t,n)}}function H(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fr;hl&&hl(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(kO(e)||(e[r]=o),i=o)}t[i]=!0}return t}function HO(t){for(let e=0;e<t.length;e++)Ft(t,e)||(t[e]=null);return t}function xe(t){const e=lh(null);for(const[n,r]of sh(t))Ft(t,n)&&(Array.isArray(r)?e[n]=HO(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=xe(r):e[n]=r);return e}function En(t,e){for(;t!==null;){const r=IO(t,e);if(r){if(r.get)return Dt(r.get);if(typeof r.value=="function")return Dt(r.value)}t=NO(t)}function n(){return null}return n}const pl=xt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xi=xt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Mi=xt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),FO=xt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ti=xt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),BO=xt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ml=xt(["#text"]),gl=xt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ai=xt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yl=xt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ir=xt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),$O=jt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),VO=jt(/<%[\w\W]*|[\w\W]*%>/gm),zO=jt(/\${[\w\W]*}/gm),GO=jt(/^data-[\-\w.\u00B7-\uFFFF]/),WO=jt(/^aria-[\-\w]+$/),uh=jt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qO=jt(/^(?:\w+script|data):/i),XO=jt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ch=jt(/^html$/i),YO=jt(/^[a-z][.\w]*(-[.\w]+)+$/i);var vl=Object.freeze({__proto__:null,MUSTACHE_EXPR:$O,ERB_EXPR:VO,TMPLIT_EXPR:zO,DATA_ATTR:GO,ARIA_ATTR:WO,IS_ALLOWED_URI:uh,IS_SCRIPT_OR_DATA:qO,ATTR_WHITESPACE:XO,DOCTYPE_NAME:ch,CUSTOM_ELEMENT:YO});const On={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},ZO=function(){return typeof window>"u"?null:window},KO=function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function hh(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ZO();const e=p=>hh(p);if(e.version="3.1.6",e.removed=[],!t||!t.document||t.document.nodeType!==On.document)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:s,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=t,m=l.prototype,_=En(m,"cloneNode"),g=En(m,"remove"),y=En(m,"nextSibling"),E=En(m,"childNodes"),w=En(m,"parentNode");if(typeof a=="function"){const p=n.createElement("template");p.content&&p.content.ownerDocument&&(n=p.content.ownerDocument)}let O,v="";const{implementation:b,createNodeIterator:R,createDocumentFragment:D,getElementsByTagName:Z}=n,{importNode:z}=r;let C={};e.isSupported=typeof sh=="function"&&typeof w=="function"&&b&&b.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:it,ERB_EXPR:F,TMPLIT_EXPR:G,DATA_ATTR:wt,ARIA_ATTR:K,IS_SCRIPT_OR_DATA:J,ATTR_WHITESPACE:ht,CUSTOM_ELEMENT:V}=vl;let{IS_ALLOWED_URI:ot}=vl,P=null;const nt=H({},[...pl,...xi,...Mi,...Ti,...ml]);let rt=null;const oe=H({},[...gl,...Ai,...yl,...ir]);let X=Object.seal(lh(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),kt=null,at=null,Xt=!0,T=!0,I=!1,U=!0,S=!1,Q=!0,j=!1,lt=!1,ut=!1,L=!1,Y=!1,Yt=!1,Ht=!0,da=!1;const Sh="user-content-";let ti=!0,cn=!1,Fe={},Be=null;const pa=H({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ma=null;const ga=H({},["audio","video","img","source","image","track"]);let ei=null;const ya=H({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xn="http://www.w3.org/1998/Math/MathML",Yn="http://www.w3.org/2000/svg",ae="http://www.w3.org/1999/xhtml";let $e=ae,ni=!1,ri=null;const xh=H({},[Xn,Yn,ae],Si);let hn=null;const Mh=["application/xhtml+xml","text/html"],Th="text/html";let ft=null,Ve=null;const Ah=n.createElement("form"),va=function(p){return p instanceof RegExp||p instanceof Function},ii=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ve&&Ve===p)){if((!p||typeof p!="object")&&(p={}),p=xe(p),hn=Mh.indexOf(p.PARSER_MEDIA_TYPE)===-1?Th:p.PARSER_MEDIA_TYPE,ft=hn==="application/xhtml+xml"?Si:fr,P=Ft(p,"ALLOWED_TAGS")?H({},p.ALLOWED_TAGS,ft):nt,rt=Ft(p,"ALLOWED_ATTR")?H({},p.ALLOWED_ATTR,ft):oe,ri=Ft(p,"ALLOWED_NAMESPACES")?H({},p.ALLOWED_NAMESPACES,Si):xh,ei=Ft(p,"ADD_URI_SAFE_ATTR")?H(xe(ya),p.ADD_URI_SAFE_ATTR,ft):ya,ma=Ft(p,"ADD_DATA_URI_TAGS")?H(xe(ga),p.ADD_DATA_URI_TAGS,ft):ga,Be=Ft(p,"FORBID_CONTENTS")?H({},p.FORBID_CONTENTS,ft):pa,kt=Ft(p,"FORBID_TAGS")?H({},p.FORBID_TAGS,ft):{},at=Ft(p,"FORBID_ATTR")?H({},p.FORBID_ATTR,ft):{},Fe=Ft(p,"USE_PROFILES")?p.USE_PROFILES:!1,Xt=p.ALLOW_ARIA_ATTR!==!1,T=p.ALLOW_DATA_ATTR!==!1,I=p.ALLOW_UNKNOWN_PROTOCOLS||!1,U=p.ALLOW_SELF_CLOSE_IN_ATTR!==!1,S=p.SAFE_FOR_TEMPLATES||!1,Q=p.SAFE_FOR_XML!==!1,j=p.WHOLE_DOCUMENT||!1,L=p.RETURN_DOM||!1,Y=p.RETURN_DOM_FRAGMENT||!1,Yt=p.RETURN_TRUSTED_TYPE||!1,ut=p.FORCE_BODY||!1,Ht=p.SANITIZE_DOM!==!1,da=p.SANITIZE_NAMED_PROPS||!1,ti=p.KEEP_CONTENT!==!1,cn=p.IN_PLACE||!1,ot=p.ALLOWED_URI_REGEXP||uh,$e=p.NAMESPACE||ae,X=p.CUSTOM_ELEMENT_HANDLING||{},p.CUSTOM_ELEMENT_HANDLING&&va(p.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=p.CUSTOM_ELEMENT_HANDLING.tagNameCheck),p.CUSTOM_ELEMENT_HANDLING&&va(p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=p.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),p.CUSTOM_ELEMENT_HANDLING&&typeof p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=p.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),S&&(T=!1),Y&&(L=!0),Fe&&(P=H({},ml),rt=[],Fe.html===!0&&(H(P,pl),H(rt,gl)),Fe.svg===!0&&(H(P,xi),H(rt,Ai),H(rt,ir)),Fe.svgFilters===!0&&(H(P,Mi),H(rt,Ai),H(rt,ir)),Fe.mathMl===!0&&(H(P,Ti),H(rt,yl),H(rt,ir))),p.ADD_TAGS&&(P===nt&&(P=xe(P)),H(P,p.ADD_TAGS,ft)),p.ADD_ATTR&&(rt===oe&&(rt=xe(rt)),H(rt,p.ADD_ATTR,ft)),p.ADD_URI_SAFE_ATTR&&H(ei,p.ADD_URI_SAFE_ATTR,ft),p.FORBID_CONTENTS&&(Be===pa&&(Be=xe(Be)),H(Be,p.FORBID_CONTENTS,ft)),ti&&(P["#text"]=!0),j&&H(P,["html","head","body"]),P.table&&(H(P,["tbody"]),delete kt.tbody),p.TRUSTED_TYPES_POLICY){if(typeof p.TRUSTED_TYPES_POLICY.createHTML!="function")throw wn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof p.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=p.TRUSTED_TYPES_POLICY,v=O.createHTML("")}else O===void 0&&(O=KO(d,i)),O!==null&&typeof v=="string"&&(v=O.createHTML(""));xt&&xt(p),Ve=p}},_a=H({},["mi","mo","mn","ms","mtext"]),ba=H({},["foreignobject","annotation-xml"]),Ch=H({},["title","style","font","a","script"]),wa=H({},[...xi,...Mi,...FO]),Ea=H({},[...Ti,...BO]),Lh=function(p){let A=w(p);(!A||!A.tagName)&&(A={namespaceURI:$e,tagName:"template"});const x=fr(p.tagName),W=fr(A.tagName);return ri[p.namespaceURI]?p.namespaceURI===Yn?A.namespaceURI===ae?x==="svg":A.namespaceURI===Xn?x==="svg"&&(W==="annotation-xml"||_a[W]):!!wa[x]:p.namespaceURI===Xn?A.namespaceURI===ae?x==="math":A.namespaceURI===Yn?x==="math"&&ba[W]:!!Ea[x]:p.namespaceURI===ae?A.namespaceURI===Yn&&!ba[W]||A.namespaceURI===Xn&&!_a[W]?!1:!Ea[x]&&(Ch[x]||!wa[x]):!!(hn==="application/xhtml+xml"&&ri[p.namespaceURI]):!1},Ee=function(p){_n(e.removed,{element:p});try{w(p).removeChild(p)}catch{g(p)}},Zn=function(p,A){try{_n(e.removed,{attribute:A.getAttributeNode(p),from:A})}catch{_n(e.removed,{attribute:null,from:A})}if(A.removeAttribute(p),p==="is"&&!rt[p])if(L||Y)try{Ee(A)}catch{}else try{A.setAttribute(p,"")}catch{}},Oa=function(p){let A=null,x=null;if(ut)p="<remove></remove>"+p;else{const st=dl(p,/^[\r\n\t ]+/);x=st&&st[0]}hn==="application/xhtml+xml"&&$e===ae&&(p='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+p+"</body></html>");const W=O?O.createHTML(p):p;if($e===ae)try{A=new f().parseFromString(W,hn)}catch{}if(!A||!A.documentElement){A=b.createDocument($e,"template",null);try{A.documentElement.innerHTML=ni?v:W}catch{}}const pt=A.body||A.documentElement;return p&&x&&pt.insertBefore(n.createTextNode(x),pt.childNodes[0]||null),$e===ae?Z.call(A,j?"html":"body")[0]:j?A.documentElement:pt},Sa=function(p){return R.call(p.ownerDocument||p,p,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},xa=function(p){return p instanceof h&&(typeof p.nodeName!="string"||typeof p.textContent!="string"||typeof p.removeChild!="function"||!(p.attributes instanceof c)||typeof p.removeAttribute!="function"||typeof p.setAttribute!="function"||typeof p.namespaceURI!="string"||typeof p.insertBefore!="function"||typeof p.hasChildNodes!="function")},Ma=function(p){return typeof s=="function"&&p instanceof s},se=function(p,A,x){C[p]&&rr(C[p],W=>{W.call(e,A,x,Ve)})},Ta=function(p){let A=null;if(se("beforeSanitizeElements",p,null),xa(p))return Ee(p),!0;const x=ft(p.nodeName);if(se("uponSanitizeElement",p,{tagName:x,allowedTags:P}),p.hasChildNodes()&&!Ma(p.firstElementChild)&&Ot(/<[/\w]/g,p.innerHTML)&&Ot(/<[/\w]/g,p.textContent)||p.nodeType===On.progressingInstruction||Q&&p.nodeType===On.comment&&Ot(/<[/\w]/g,p.data))return Ee(p),!0;if(!P[x]||kt[x]){if(!kt[x]&&Ca(x)&&(X.tagNameCheck instanceof RegExp&&Ot(X.tagNameCheck,x)||X.tagNameCheck instanceof Function&&X.tagNameCheck(x)))return!1;if(ti&&!Be[x]){const W=w(p)||p.parentNode,pt=E(p)||p.childNodes;if(pt&&W){const st=pt.length;for(let le=st-1;le>=0;--le){const Nt=_(pt[le],!0);Nt.__removalCount=(p.__removalCount||0)+1,W.insertBefore(Nt,y(p))}}}return Ee(p),!0}return p instanceof l&&!Lh(p)||(x==="noscript"||x==="noembed"||x==="noframes")&&Ot(/<\/no(script|embed|frames)/i,p.innerHTML)?(Ee(p),!0):(S&&p.nodeType===On.text&&(A=p.textContent,rr([it,F,G],W=>{A=bn(A,W," ")}),p.textContent!==A&&(_n(e.removed,{element:p.cloneNode()}),p.textContent=A)),se("afterSanitizeElements",p,null),!1)},Aa=function(p,A,x){if(Ht&&(A==="id"||A==="name")&&(x in n||x in Ah))return!1;if(!(T&&!at[A]&&Ot(wt,A))&&!(Xt&&Ot(K,A))){if(!rt[A]||at[A]){if(!(Ca(p)&&(X.tagNameCheck instanceof RegExp&&Ot(X.tagNameCheck,p)||X.tagNameCheck instanceof Function&&X.tagNameCheck(p))&&(X.attributeNameCheck instanceof RegExp&&Ot(X.attributeNameCheck,A)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(A))||A==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&Ot(X.tagNameCheck,x)||X.tagNameCheck instanceof Function&&X.tagNameCheck(x))))return!1}else if(!ei[A]&&!Ot(ot,bn(x,ht,""))&&!((A==="src"||A==="xlink:href"||A==="href")&&p!=="script"&&PO(x,"data:")===0&&ma[p])&&!(I&&!Ot(J,bn(x,ht,"")))&&x)return!1}return!0},Ca=function(p){return p!=="annotation-xml"&&dl(p,V)},La=function(p){se("beforeSanitizeAttributes",p,null);const{attributes:A}=p;if(!A)return;const x={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rt};let W=A.length;for(;W--;){const pt=A[W],{name:st,namespaceURI:le,value:Nt}=pt,Zt=ft(st);let Et=st==="value"?Nt:UO(Nt);if(x.attrName=Zt,x.attrValue=Et,x.keepAttr=!0,x.forceKeepAttr=void 0,se("uponSanitizeAttribute",p,x),Et=x.attrValue,Q&&Ot(/((--!?|])>)|<\/(style|title)/i,Et)){Zn(st,p);continue}if(x.forceKeepAttr||(Zn(st,p),!x.keepAttr))continue;if(!U&&Ot(/\/>/i,Et)){Zn(st,p);continue}S&&rr([it,F,G],Dh=>{Et=bn(Et,Dh," ")});const Ra=ft(p.nodeName);if(Aa(Ra,Zt,Et)){if(da&&(Zt==="id"||Zt==="name")&&(Zn(st,p),Et=Sh+Et),O&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!le)switch(d.getAttributeType(Ra,Zt)){case"TrustedHTML":{Et=O.createHTML(Et);break}case"TrustedScriptURL":{Et=O.createScriptURL(Et);break}}try{le?p.setAttributeNS(le,st,Et):p.setAttribute(st,Et),xa(p)?Ee(p):fl(e.removed)}catch{}}}se("afterSanitizeAttributes",p,null)},Rh=function p(A){let x=null;const W=Sa(A);for(se("beforeSanitizeShadowDOM",A,null);x=W.nextNode();)se("uponSanitizeShadowNode",x,null),!Ta(x)&&(x.content instanceof o&&p(x.content),La(x));se("afterSanitizeShadowDOM",A,null)};return e.sanitize=function(p){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=null,W=null,pt=null,st=null;if(ni=!p,ni&&(p="<!-->"),typeof p!="string"&&!Ma(p))if(typeof p.toString=="function"){if(p=p.toString(),typeof p!="string")throw wn("dirty is not a string, aborting")}else throw wn("toString is not a function");if(!e.isSupported)return p;if(lt||ii(A),e.removed=[],typeof p=="string"&&(cn=!1),cn){if(p.nodeName){const Zt=ft(p.nodeName);if(!P[Zt]||kt[Zt])throw wn("root node is forbidden and cannot be sanitized in-place")}}else if(p instanceof s)x=Oa("<!---->"),W=x.ownerDocument.importNode(p,!0),W.nodeType===On.element&&W.nodeName==="BODY"||W.nodeName==="HTML"?x=W:x.appendChild(W);else{if(!L&&!S&&!j&&p.indexOf("<")===-1)return O&&Yt?O.createHTML(p):p;if(x=Oa(p),!x)return L?null:Yt?v:""}x&&ut&&Ee(x.firstChild);const le=Sa(cn?p:x);for(;pt=le.nextNode();)Ta(pt)||(pt.content instanceof o&&Rh(pt.content),La(pt));if(cn)return p;if(L){if(Y)for(st=D.call(x.ownerDocument);x.firstChild;)st.appendChild(x.firstChild);else st=x;return(rt.shadowroot||rt.shadowrootmode)&&(st=z.call(r,st,!0)),st}let Nt=j?x.outerHTML:x.innerHTML;return j&&P["!doctype"]&&x.ownerDocument&&x.ownerDocument.doctype&&x.ownerDocument.doctype.name&&Ot(ch,x.ownerDocument.doctype.name)&&(Nt="<!DOCTYPE "+x.ownerDocument.doctype.name+`>
`+Nt),S&&rr([it,F,G],Zt=>{Nt=bn(Nt,Zt," ")}),O&&Yt?O.createHTML(Nt):Nt},e.setConfig=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ii(p),lt=!0},e.clearConfig=function(){Ve=null,lt=!1},e.isValidAttribute=function(p,A,x){Ve||ii({});const W=ft(p),pt=ft(A);return Aa(W,pt,x)},e.addHook=function(p,A){typeof A=="function"&&(C[p]=C[p]||[],_n(C[p],A))},e.removeHook=function(p){if(C[p])return fl(C[p])},e.removeHooks=function(p){C[p]&&(C[p]=[])},e.removeAllHooks=function(){C={}},e}var fh=hh();const JO=t=>fh.sanitize(t,{NAMESPACE:"http://www.w3.org/2000/svg",USE_PROFILES:{html:!0,svg:!0,svgFilters:!0}}),_l=t=>fh.sanitize(t,{ALLOWED_TAGS:[]}),QO=class dh extends ie{constructor(){super(...arguments),this.type="toolbar",this.renderType=vt.HTML}init(){const e=()=>this.updateOverflowMenu(!1);this.services.events.addEventListener(M.Toolbar.SHOW_OVERFLOW_MENU,()=>{this.renderOverflowMenu(),document.body.addEventListener("click",e)}),this.services.events.addEventListener(M.Toolbar.HIDE_OVERFLOW_MENU,()=>{document.body.removeEventListener("click",e)})}render(e=!0){const n=this.getComponentContainer().attr("role","toolbar").attr("aria-label","chart toolbar");if(N(this.getOptions(),"data","loading"))n.html(""),this.overflowMenu=null;else{this.overflowMenu||(this.overflowMenu=n.append("div").attr("class","cds--overflow-menu-options cds--overflow-menu--flip cds--overflow-menu-options cds--overflow-menu--flip").attr("tabindex",-1).html("<ul role='menu'></ul>"));const{buttonList:r,overflowMenuItemList:i}=this.getControlConfigs();i&&r.push(this.getOverflowButtonConfig());const o=n.selectAll("div.toolbar-control").data(r,l=>l.id);o.exit().remove();const a=o.enter().append("div").attr("class","toolbar-control cds--overflow-menu cds--overflow-menu"),s=this;a.merge(o).classed("disabled",l=>l.shouldBeDisabled()).attr("role","button").attr("aria-disabled",l=>l.shouldBeDisabled()).attr("aria-label",l=>l.title).html(l=>`
			<button
				class="cds--overflow-menu__trigger cds--overflow-menu__trigger"
				aria-haspopup="true" aria-expanded="false" id="${this.services.domUtils.generateElementIDString(`control-${_l(l.id)}`)}" aria-label="${_l(l.title)}">
				<svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" class="cds--overflow-menu__icon cds--overflow-menu__icon" viewBox="0 0 32 32" aria-hidden="true">
					${JO(l.iconSVG.content)}
				</svg>
			</button>`).each(function(l,u){k(this).select("svg").style("pointer-events","none").style("will-change","transform").style("width",l.iconSVG.width!==void 0?l.iconSVG.width:"20px").style("height",l.iconSVG.height!==void 0?l.iconSVG.height:"20px"),k(this).select("button").on("mouseover focus",function(c){const h=k(this);h.classed("hovered",!0),s.services.events.dispatchEvent(M.Toolbar.SHOW_TOOLTIP,{event:c,hoveredElement:h,content:l.title,noWrap:!0,placements:["top","bottom"]})}).on("mouseout blur",function(){s.services.events.dispatchEvent(M.Toolbar.HIDE_TOOLTIP)}).on("click",c=>{l.shouldBeDisabled()||s.triggerFunctionAndEvent(l,c,this)}).on("keydown",c=>{c.key&&c.key==="Enter"||c.key===" "?(c.preventDefault(),s.triggerFunctionAndEvent(l,c,this)):c.key&&c.key==="ArrowLeft"?s.focusOnPreviousEnabledToolbarItem(u):c.key&&c.key==="ArrowRight"&&s.focusOnNextEnabledToolbarItem(u)})}),this.overflowButton=this.getComponentContainer().select(`button.cds--overflow-menu__trigger#${this.services.domUtils.generateElementIDString("control-toolbar-overflow-menu")}`)}}renderOverflowMenu(){const{overflowMenuItemList:e}=this.getControlConfigs(),n=this.overflowMenu.select("ul").selectAll("li.cds--overflow-menu-options__option").data(e,i=>N(i,"id"));n.exit().remove();const r=n.enter().append("li").attr("id",i=>this.services.domUtils.generateElementIDString(`control-${i.id}`)).attr("class","cds--overflow-menu-options__option cds--overflow-menu-options__option").attr("role","menuitem").attr("tabindex",1);r.append("button").attr("class","cds--overflow-menu-options__btn cds--overflow-menu-options__btn"),r.merge(n).classed("cds--overflow-menu-options__option--disabled",i=>i.shouldBeDisabled()).classed("cds--overflow-menu-options__option--disabled",i=>i.shouldBeDisabled()).attr("aria-disabled",i=>i.shouldBeDisabled()).selectAll("button").text(i=>i.title)}isOverflowMenuOpen(){return this.overflowMenu.classed("is-open")}updateOverflowMenu(e){this.overflowMenu&&(this.overflowMenu.classed("is-open",e),this.overflowButton&&(this.overflowButton.attr("aria-expanded",e),k(this.overflowButton.node().parentNode).classed("cds--overflow-menu--open",e).classed("cds--overflow-menu--open",e)),e?this.services.events.dispatchEvent(M.Toolbar.SHOW_OVERFLOW_MENU):this.services.events.dispatchEvent(M.Toolbar.HIDE_OVERFLOW_MENU))}focusOnPreviousEnabledToolbarItem(e){const n=this.getToolbarButtonItems();let r=n.length;for(let i=e-1;i>=0;i--)if(!n[i].shouldBeDisabled()){r=i;break}if(r<n.length){const i=k(`button#${this.services.domUtils.generateElementIDString(`control-${n[r].id}`)}`).node();"focus"in i&&i.focus()}}focusOnNextEnabledToolbarItem(e){const n=this.getToolbarButtonItems();let r=-1;for(let i=e+1;i<n.length;i++)if(!n[i].shouldBeDisabled()){r=i;break}if(r>-1){const i=k(`button#${this.services.domUtils.generateElementIDString(`control-${n[r].id}`)}`).node();"focus"in i&&i.focus()}}focusOnPreviousEnabledMenuItem(e){const n=this.getOverflowMenuItems();let r=n.length;for(let i=e-1;i>=0;i--)if(!n[i].shouldBeDisabled()){r=i;break}if(r<n.length){const i=k(`#${this.services.domUtils.generateElementIDString(`control-${n[r].id}`)} button`).node();"focus"in i&&i.focus()}}focusOnNextEnabledMenuItem(e){const n=this.getOverflowMenuItems();let r=-1;for(let i=e+1;i<n.length;i++)if(!n[i].shouldBeDisabled()){r=i;break}if(r>-1){const i=k(`#${this.services.domUtils.generateElementIDString(`control-${n[r].id}`)} button`).node();"focus"in i&&i.focus()}}toggleOverflowMenu(e){if(this.isOverflowMenuOpen())this.updateOverflowMenu(!1);else{this.updateOverflowMenu(!0);const n=this;this.getOverflowMenuItems().forEach((r,i)=>{const o=k(`#${this.services.domUtils.generateElementIDString(`control-${r.id}`)}`);o!==null&&(o.on("click",()=>{n.triggerFunctionAndEvent(r,e,o.node()),n.updateOverflowMenu(!1)}),o.on("keydown",a=>{a&&a.key==="Enter"?n.triggerFunctionAndEvent(r,e,o.node()):a&&a.key==="ArrowUp"?n.focusOnPreviousEnabledMenuItem(i):a&&a.key==="ArrowDown"?n.focusOnNextEnabledMenuItem(i):a&&a.key==="Escape"&&n.updateOverflowMenu(!1),a.preventDefault()}))}),n.focusOnNextEnabledMenuItem(-1)}e&&e.stopImmediatePropagation()}triggerFunctionAndEvent(e,n,r){typeof e.shouldBeDisabled=="function"&&e.shouldBeDisabled()||(typeof e.clickFunction=="function"&&e.clickFunction(n),this.services.events.dispatchEvent(M.Toolbar.BUTTON_CLICK,{control:e,event:n,element:r}))}getControlConfigs(){const e=N(this.getOptions(),"toolbar","numberOfIcons")-1,n=N(this.getOptions(),"toolbar","controls"),r=[],i=[],o=[];return n.forEach(a=>{let s=null;if(a.type===q.CUSTOM)N(a,"id")===null&&(a.id=`toolbar-button-${dh.buttonID++}`),N(a,"shouldBeDisabled")===null&&(a.shouldBeDisabled=()=>!1),s=a;else{const l=this.services.domUtils.isFullScreenMode();a.type===q.MAKE_FULLSCREEN&&l?a.type=q.EXIT_FULLSCREEN:a.type===q.EXIT_FULLSCREEN&&!l&&(a.type=q.MAKE_FULLSCREEN),s=this.getControlConfigByType(a.type)}s&&(s.text=a.text?a.text:a.type,s.id.indexOf("toolbar-export")!==-1?r.push(s):i.length<e?N(s,"iconSVG","content")===null?o.push(s):i.push(s):o.push(s))}),o.push(...r),o.length?{buttonList:i,overflowMenuItemList:o}:{buttonList:i}}getToolbarButtonItems(){const{buttonList:e,overflowMenuItemList:n}=this.getControlConfigs();return n&&e.push(this.getOverflowButtonConfig()),e||[]}getOverflowMenuItems(){const{overflowMenuItemList:e}=this.getControlConfigs();return e||[]}getOverflowButtonConfig(){const{moreOptions:e}=N(this.model.getOptions(),"locale","translations","toolbar");return{id:"toolbar-overflow-menu",title:e,shouldBeDisabled:()=>!1,iconSVG:{content:`<circle cx="16" cy="8" r="2"></circle>
				<circle cx="16" cy="16" r="2"></circle>
				<circle cx="16" cy="24" r="2"></circle>`},clickFunction:n=>this.toggleOverflowMenu(n)}}getControlConfigByType(e){const n=this.services.zoom&&this.services.zoom.isZoomBarEnabled()&&!this.services.zoom.isEmptyState(),r=this.model.getDisplayData(),i=this.model.getOptions(),{exportAsCSV:o,exportAsJPG:a,exportAsPNG:s,zoomIn:l,zoomOut:u,resetZoom:c,makeFullScreen:h,exitFullScreen:f,showAsTable:d}=N(i,"locale","translations","toolbar");let m;switch(e){case q.ZOOM_IN:n&&(m={id:"toolbar-zoomIn",title:l,shouldBeDisabled:()=>this.services.zoom.isMinZoomDomain(),iconSVG:{content:this.getControlIconByType(e)},clickFunction:()=>this.services.zoom.zoomIn()});break;case q.ZOOM_OUT:n&&(m={id:"toolbar-zoomOut",title:u,shouldBeDisabled:()=>this.services.zoom.isMaxZoomDomain(),iconSVG:{content:this.getControlIconByType(e)},clickFunction:()=>this.services.zoom.zoomOut()});break;case q.RESET_ZOOM:n&&(m={id:"toolbar-resetZoom",title:c,shouldBeDisabled:()=>this.services.zoom.isMaxZoomDomain(),iconSVG:{content:this.getControlIconByType(e)},clickFunction:()=>this.services.zoom.resetZoomDomain()});break;case q.MAKE_FULLSCREEN:m={id:"toolbar-makefullscreen",iconSVG:{content:this.getControlIconByType(e),width:"15px",height:"15px"},title:h,shouldBeDisabled:()=>!1,clickFunction:()=>{this.services.domUtils.toggleFullscreen()}};break;case q.EXIT_FULLSCREEN:m={id:"toolbar-exitfullscreen",iconSVG:{content:this.getControlIconByType(e),width:"15px",height:"15px"},title:f,shouldBeDisabled:()=>!1,clickFunction:()=>{this.services.domUtils.toggleFullscreen()}};break;case q.SHOW_AS_DATATABLE:m={id:"toolbar-showasdatatable",iconSVG:{content:this.getControlIconByType(e)},title:d,shouldBeDisabled:()=>r.length===0,clickFunction:()=>this.services.events.dispatchEvent(M.Modal.SHOW)};break;case q.EXPORT_CSV:m={id:"toolbar-export-CSV",title:o,shouldBeDisabled:()=>!1,iconSVG:{content:this.getControlIconByType(e)},clickFunction:()=>this.model.exportToCSV()};break;case q.EXPORT_PNG:m={id:"toolbar-export-PNG",title:s,shouldBeDisabled:()=>!1,iconSVG:{content:this.getControlIconByType(e)},clickFunction:()=>this.services.domUtils.exportToPNG()};break;case q.EXPORT_JPG:m={id:"toolbar-export-JPG",title:a,shouldBeDisabled:()=>!1,iconSVG:{content:this.getControlIconByType(e)},clickFunction:()=>this.services.domUtils.exportToJPG()};break;default:throw Error("Not supported toolbar control type: "+e)}return m}getControlIconByType(e){switch(e){case q.ZOOM_IN:return`<polygon points="19 13 15 13 15 9 13 9 13 13 9 13 9 15 13 15 13 19 15 19 15 15 19 15 19 13"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case q.ZOOM_OUT:return`<rect x="9" y="13" width="10" height="2"/>
						<path d="M22.45,21A10.87,10.87,0,0,0,25,14,11,11,0,1,0,14,25a10.87,10.87,0,0,0,7-2.55L28.59,30,30,28.59ZM14,23a9,9,0,1,1,9-9A9,9,0,0,1,14,23Z"/>`;case q.RESET_ZOOM:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case q.MAKE_FULLSCREEN:return'<polygon points="21 2 21 4 26.59 4 17 13.58 18.41 15 28 5.41 28 11 30 11 30 2 21 2"/><polygon points="15 18.42 13.59 17 4 26.59 4 21 2 21 2 30 11 30 11 28 5.41 28 15 18.42"/>';case q.EXIT_FULLSCREEN:return'<polygon points="4 18 4 20 10.586 20 2 28.582 3.414 30 12 21.414 12 28 14 28 14 18 4 18"/><polygon points="30 3.416 28.592 2 20 10.586 20 4 18 4 18 14 28 14 28 12 21.414 12 30 3.416"/>';case q.SHOW_AS_DATATABLE:return'<rect x="4" y="6" width="18" height="2"/><rect x="4" y="12" width="18" height="2"/><rect x="4" y="18" width="18" height="2"/><rect x="4" y="24" width="18" height="2"/><rect x="26" y="6" width="2" height="2"/><rect x="26" y="12" width="2" height="2"/><rect x="26" y="18" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/>';case q.EXPORT_CSV:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case q.EXPORT_JPG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';case q.EXPORT_PNG:return'<path d="M22.4478,21A10.855,10.855,0,0,0,25,14,10.99,10.99,0,0,0,6,6.4658V2H4v8h8V8H7.332a8.9768,8.9768,0,1,1-2.1,8H3.1912A11.0118,11.0118,0,0,0,14,25a10.855,10.855,0,0,0,7-2.5522L28.5859,30,30,28.5859Z"/>';default:throw Error("Not supported toolbar control type: "+e)}}};QO.buttonID=0;const tS=class ph extends ie{constructor(e,n,r,i){super(e,n,i),this.type="layout",this.configs=i,this.children=r,this._instanceID=ph.instanceID++,this.init()}init(){this.children.forEach(e=>{e.components.forEach(n=>{n.init()})})}getPreferedAndFixedSizeSum(){const e=this.parent;let n=0;return e.selectAll(`div.layout-child-${this._instanceID}`).filter(r=>{const i=N(r,"growth");return i===he.PREFERRED||i===he.FIXED}).each(function(r){n+=r.size}),n}getNumOfStretchChildren(){return this.parent.selectAll(`div.layout-child-${this._instanceID}`).filter(e=>N(e,"growth")===he.STRETCH).size()}render(e=!0){const n=this.parent,{width:r,height:i}=yt.getHTMLElementSize(n.node()),o=this.configs.direction===Oe.ROW||this.configs.direction===Oe.ROW_REVERSE,a=N(this.model.getOptions(),"style","prefix"),s=n.classed(`${Jt}--${a}--layout-row`,this.configs.direction===Oe.ROW).classed(`${Jt}--${a}--layout-row-reverse`,this.configs.direction===Oe.ROW_REVERSE).classed(`${Jt}--${a}--layout-column`,this.configs.direction===Oe.COLUMN).classed(`${Jt}--${a}--layout-column-reverse`,this.configs.direction===Oe.COLUMN_REVERSE).classed(`${Jt}--${a}--layout-alignitems-center`,this.configs.alignItems===du.CENTER).selectAll(`div.layout-child-${this._instanceID}`).data(this.children,u=>u.id);s.enter().append("div").merge(n.selectAll(`div.layout-child-${this._instanceID}`)).attr("class",u=>`layout-child layout-child-${this._instanceID} ${u.id}`).each(function(u){u.components.forEach(c=>{const h=k(this),f=N(u,"renderType")===vt.SVG;c.setParent(f?yt.appendOrSelect(h,"svg.layout-svg-wrapper").attr("width","100%").attr("height","100%"):h);const d=N(u,"growth");(d===he.PREFERRED||d===he.FIXED)&&c.render(e)})}),n.selectAll(`div.layout-child-${this._instanceID}`).style("height",null).style("width",null).each(function(u){const c=N(u,"growth"),h=N(u,"renderType")===vt.SVG?yt.getSVGElementSize(k(this).select("svg.layout-svg-wrapper"),{useBBox:!0}):yt.getHTMLElementSize(this);if(c===he.PREFERRED){const f=o?h.width:h.height,d=o?r:i;u.size=f/d*100}}),s.exit().remove(),this.children.filter(u=>N(u,"growth")===he.STRETCH).forEach(u=>{u.size=(100-+this.getPreferedAndFixedSizeSum())/+this.getNumOfStretchChildren()});const l=n.selectAll(`div.layout-child-${this._instanceID}`).data(this.children,u=>u.id);o?l.style("width",u=>`${u.size/100*r}px`).style("height","100%"):l.style("height",u=>`${u.size/100*i}px`).style("width","100%"),l.each(function(u){u.components.forEach(c=>{N(u,"growth")===he.STRETCH&&c.render(e)})})}setModel(e){super.setModel(e),this.children.forEach(n=>{n.components.forEach(r=>r.setModel(e))})}setServices(e){super.setServices(e),this.children.forEach(n=>{n.components.forEach(r=>r.setServices(e))})}destroy(){this.children.forEach(e=>{e.components.forEach(n=>n.destroy())})}};tS.instanceID=Math.floor(Math.random()*99999999999);var eS={prefix:"bx",selectorTabbable:`
    a[href], area[href], input:not([disabled]):not([tabindex='-1']),
    button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
    textarea:not([disabled]):not([tabindex='-1']),
    iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]
  `,selectorFocusable:`
    a[href], area[href], input:not([disabled]),
    button:not([disabled]),select:not([disabled]),
    textarea:not([disabled]),
    iframe, object, embed, *[tabindex], *[contenteditable=true]
  `},Ci=eS;function nS(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function rS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iS(t){return lS(t)||sS(t)||aS(t)||oS()}function oS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aS(t,e){if(t){if(typeof t=="string")return io(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return io(t,e)}}function sS(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lS(t){if(Array.isArray(t))return io(t)}function io(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mh(t){return t.reduce(function(e,n){return Array.isArray(n)?e.push.apply(e,iS(mh(n))):e.push(n),e},[])}function uS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return mh(e).reduce(function(r,i){return i(r)},function(){function r(){rS(this,r)}return nS(r)}())}function oo(t){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(t)}function cS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hS(t,e,n){return e&&bl(t.prototype,e),n&&bl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ao(t,e)}function ao(t,e){return ao=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ao(t,e)}function dS(t){var e=mS();return function(){var n=Ir(t),r;if(e){var i=Ir(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return pS(this,r)}}function pS(t,e){if(e&&(oo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gh(t)}function gh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ir(t){return Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ir(t)}function gS(t){var e=function(n){fS(i,n);var r=dS(i);function i(o){var a,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(cS(this,i),a=r.call(this,o,s),a.children=[],!o||o.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");return a.element=o,a.options=Object.assign(Object.create(a.constructor.options),s),a.constructor.components.set(a.element,gh(a)),a}return hS(i,[{key:"release",value:function(){for(var o=this.children.pop();o;o=this.children.pop())o.release();return this.constructor.components.delete(this.element),null}}],[{key:"create",value:function(o,a){return this.components.get(o)||new this(o,a)}}]),i}(t);return e}function so(t){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(t)}function yS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _S(t,e,n){return e&&vS(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dr(){return typeof Reflect<"u"&&Reflect.get?dr=Reflect.get:dr=function(t,e,n){var r=bS(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},dr.apply(this,arguments)}function bS(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=an(t),t!==null););return t}function wS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lo(t,e)}function lo(t,e){return lo=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lo(t,e)}function ES(t){var e=xS();return function(){var n=an(t),r;if(e){var i=an(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return OS(this,r)}}function OS(t,e){if(e&&(so(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SS(t)}function SS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function an(t){return an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},an(t)}function MS(t){var e=function(n){wS(i,n);var r=ES(i);function i(){var o;yS(this,i);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=r.call.apply(r,[this].concat(s)),o.handles=new Set,o}return _S(i,[{key:"manage",value:function(o){return this.handles.add(o),o}},{key:"unmanage",value:function(o){return this.handles.delete(o),o}},{key:"release",value:function(){var o=this;return this.handles.forEach(function(a){a.release(),o.handles.delete(a)}),dr(an(i.prototype),"release",this).call(this)}}]),i}(t);return e}function An(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.addEventListener.apply(t,n),{release:function(){return t.removeEventListener.apply(t,n),null}}}function uo(t){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(t)}function TS(t){return RS(t)||LS(t)||CS(t)||AS()}function AS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CS(t,e){if(t){if(typeof t=="string")return co(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return co(t,e)}}function LS(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RS(t){if(Array.isArray(t))return co(t)}function co(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NS(t,e,n){return e&&kS(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ho(t,e)}function ho(t,e){return ho=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ho(t,e)}function PS(t){var e=HS();return function(){var n=Pr(t),r;if(e){var i=Pr(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return US(this,r)}}function US(t,e){if(e&&(uo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jS(t)}function jS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pr(t){return Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pr(t)}function FS(t){var e=function(n){IS(i,n);var r=PS(i);function i(){return DS(this,i),r.apply(this,arguments)}return NS(i,[{key:"_changeState",value:function(){throw new Error("_changeState() should be overridden to perform actual change in state.")}},{key:"changeState",value:function(){for(var o=this,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var u=typeof s[0]=="string"?s.shift():void 0,c=Object(s[0])===s[0]&&typeof s[0]!="function"?s.shift():void 0,h=typeof s[0]=="function"?s.shift():void 0;if(typeof this.shouldStateBeChanged=="function"&&!this.shouldStateBeChanged(u,c)){h&&h(null,!0);return}var f={group:c&&c.group,state:u},d=[f.group,u].filter(Boolean).join("-").split("-").map(function(w){return w[0].toUpperCase()+w.substr(1)}).join(""),m=new CustomEvent(this.options["eventBefore".concat(d)],{bubbles:!0,cancelable:!0,detail:c}),_=c&&c.delegatorNode||this.element,g=!_.dispatchEvent(m);if(g){if(h){var y=new Error("Changing state (".concat(JSON.stringify(f),") has been canceled."));y.canceled=!0,h(y)}}else{var E=[u,c].filter(Boolean);this._changeState.apply(this,TS(E).concat([function(){_.dispatchEvent(new CustomEvent(o.options["eventAfter".concat(d)],{bubbles:!0,cancelable:!0,detail:c})),h&&h()}]))}}}]),i}(t);return e}function fo(t,e){var n=t.target,r=t.currentTarget;if(typeof n.matches=="function"){if(n.matches(e))return n;if(n.matches("".concat(e," *"))){var i=n.closest(e);if((r.nodeType===Node.DOCUMENT_NODE?r.documentElement:r).contains(i))return i}}}function wl(t){if(!t||typeof t=="function")return{launchingElement:null,launchingEvent:null};var e=t.delegateTarget||t.currentTarget||t,n=t.currentTarget&&t;if(e&&!e.nodeType)throw new TypeError("DOM Node should be given for launching element.");if(n&&!n.type)throw new TypeError("DOM event should be given for launching event.");return{launchingElement:e,launchingEvent:n}}function po(t){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function BS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VS(t,e,n){return e&&$S(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mo(t,e)}function mo(t,e){return mo=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},mo(t,e)}function GS(t){var e=XS();return function(){var n=Ur(t),r;if(e){var i=Ur(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return WS(this,r)}}function WS(t,e){if(e&&(po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qS(t)}function qS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ur(t)}function YS(t){var e=function(n){zS(i,n);var r=GS(i);function i(){return BS(this,i),r.apply(this,arguments)}return VS(i,[{key:"show",value:function(o,a){(!o||typeof o=="function")&&(a=o),this.changeState("shown",wl(o),a)}},{key:"hide",value:function(o,a){(!o||typeof o=="function")&&(a=o),this.changeState("hidden",wl(o),a)}}]),i}(t);return e}var ZS=[FS,YS];function KS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}function go(t){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(t)}function JS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tx(t,e,n){return n&&QS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ex(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yo(t,e)}function yo(t,e){return yo=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yo(t,e)}function nx(t){var e=ox();return function(){var n=jr(t),r;if(e){var i=jr(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return rx(this,r)}}function rx(t,e){if(e&&(go(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ix(t)}function ix(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ox(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jr(t){return jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jr(t)}function ax(t){var e=function(n){ex(i,n);var r=nx(i);function i(){return JS(this,i),r.apply(this,arguments)}return tx(i,null,[{key:"init",value:function(){var o=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=Object.assign(Object.create(this.options),s);if(!a||a.nodeType!==Node.ELEMENT_NODE&&a.nodeType!==Node.DOCUMENT_NODE)throw new TypeError("DOM document or DOM element should be given to search for and initialize this widget.");if(a.nodeType===Node.ELEMENT_NODE&&a.matches(l.selectorInit))this.create(a,s);else{var u=l.initEventNames.map(function(c){return An(a,c,function(h){var f=fo(h,"[".concat(l.attribInitTarget,"]"));if(f){h.delegateTarget=f;var d=f.ownerDocument.querySelectorAll(f.getAttribute(l.attribInitTarget));if(d.length>1)throw new Error("Target widget must be unique.");if(d.length===1){f.tagName==="A"&&h.preventDefault();var m=o.create(d[0],s);typeof m.createdByLauncher=="function"&&m.createdByLauncher(h)}}})});return{release:function(){for(var c=u.pop();c;c=u.pop())c.release()}}}return""}}]),i.forLazyInit=!0,i}(t);return e}function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(t)}function sx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function El(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lx(t,e,n){return e&&El(t.prototype,e),n&&El(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ux(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_o(t,e)}function _o(t,e){return _o=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_o(t,e)}function cx(t){var e=dx();return function(){var n=Hr(t),r;if(e){var i=Hr(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return hx(this,r)}}function hx(t,e){if(e&&(vo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fx(t)}function fx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dx(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hr(t){return Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(t)}uS(gS,ax,ZS,MS);var qe,Ke;(function(t){t.LEFT="left",t.RIGHT="right",t.TOP="top",t.BOTTOM="bottom"})(Ke||(Ke={}));var Ol=(qe={},qe[Ke.LEFT]=function(t,e,n){return{top:t.top-Math.round(e.offsetHeight/2)+Math.round(n.height/2),left:Math.round(t.left-e.offsetWidth)}},qe[Ke.RIGHT]=function(t,e,n){return{top:t.top-Math.round(e.offsetHeight/2)+Math.round(n.height/2),left:Math.round(t.left+n.width)}},qe[Ke.TOP]=function(t,e,n){return{top:Math.round(t.top-e.offsetHeight),left:t.left-Math.round(e.offsetWidth/2)+Math.round(n.width/2)}},qe[Ke.BOTTOM]=function(t,e,n){return{top:Math.round(t.top+n.height),left:t.left-Math.round(e.offsetWidth/2)+Math.round(n.width/2)}},qe),Sl=typeof window<"u"?window:{innerHeight:0,scrollY:0,innerWidth:0,scrollX:0},px=function(){function t(e){e===void 0&&(e={}),this.positions=Ol,this.positions=Object.assign({},Ol,e)}return t.prototype.getRelativeOffset=function(e){for(var n={left:e.offsetLeft,top:e.offsetTop};e.offsetParent&&getComputedStyle(e.offsetParent).position==="static";)n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent;return n},t.prototype.getAbsoluteOffset=function(e){for(var n=e,r={top:0,left:0};n.offsetParent;){var i=getComputedStyle(n.offsetParent);i.position==="static"&&i.marginLeft&&i.marginTop&&(parseInt(i.marginTop,10)&&(r.top+=parseInt(i.marginTop,10)),parseInt(i.marginLeft,10)&&(r.left+=parseInt(i.marginLeft,10))),n=n.offsetParent}var o=e.getBoundingClientRect(),a=document.body.getBoundingClientRect();return{top:o.top-a.top+r.top,left:o.left-a.left+r.left}},t.prototype.findRelative=function(e,n,r){var i=this.getRelativeOffset(e),o=e.getBoundingClientRect();return this.calculatePosition(i,o,n,r)},t.prototype.findAbsolute=function(e,n,r){var i=this.getAbsoluteOffset(e),o=e.getBoundingClientRect();return this.calculatePosition(i,o,n,r)},t.prototype.findPosition=function(e,n,r,i){i===void 0&&(i=this.getAbsoluteOffset.bind(this));var o=i(e),a=e.getBoundingClientRect();return this.calculatePosition(o,a,n,r)},t.prototype.findPositionAt=function(e,n,r){return this.calculatePosition(e,{top:0,left:0,height:0,width:0},n,r)},t.prototype.getPlacementBox=function(e,n){var r=e.offsetHeight+n.top,i=e.offsetWidth+n.left;return{top:n.top,bottom:r,left:n.left,right:i}},t.prototype.addOffset=function(e,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),Object.assign({},e,{top:e.top+n,left:e.left+r})},t.prototype.setElement=function(e,n){e.style.top=n.top+"px",e.style.left=n.left+"px"},t.prototype.findBestPlacement=function(e,n,r,i,o){var a=this;i===void 0&&(i=this.defaultContainerFunction.bind(this)),o===void 0&&(o=this.findPosition.bind(this));var s=r.map(function(l){var u=o(e,n,l),c=a.getPlacementBox(n,u),h=0,f=0,d=i();c.top<d.top?h=d.top-c.top:c.bottom>d.height&&(h=c.bottom-d.height),c.left<d.left?f=d.left-c.left:c.right>d.width&&(f=c.right-d.width),h&&!f?f=1:f&&!h&&(h=1);var m=n.offsetHeight*n.offsetWidth,_=h*f,g=m-_,y=g/m;return{placement:l,weight:y}});return s.sort(function(l,u){return u.weight-l.weight}),s[0].placement},t.prototype.findBestPlacementAt=function(e,n,r,i){var o=this;i===void 0&&(i=this.defaultContainerFunction.bind(this));var a=function(s,l,u){return o.findPositionAt(e,l,u)};return this.findBestPlacement(null,n,r,i,a)},t.prototype.defaultContainerFunction=function(){return{top:0,left:0,height:Sl.innerHeight,width:Sl.innerWidth}},t.prototype.calculatePosition=function(e,n,r,i){return this.positions[i]?this.positions[i](e,r,n):(console.error("No function found for placement, defaulting to 0,0"),{left:0,top:0})},t}();new px;const mx=class pr extends ie{constructor(){super(...arguments),this.type="grid-brush",this.renderType=vt.SVG,this.selectionSelector="rect.selection",this.frontSelectionSelector="rect.frontSelection"}render(e=!0){const n=this.parent,r=this.getComponentContainer();if(!n)throw new Error("SVG was not defined");const i=yt.appendOrSelect(n,"svg.chart-grid-backdrop"),o=yt.appendOrSelect(i,`g.${this.type}`),a=yt.appendOrSelect(o,this.selectionSelector),{width:s,height:l}=yt.getSVGElementSize(i,{useAttrs:!0}),{cartesianScales:u}=this.services,c=u.getMainXScaleType(),h=u.getMainXScale(),[f]=h.range();r.attr("transform",`translate(${f},0)`);const d=yt.appendOrSelect(r,this.frontSelectionSelector);if(h&&c===cu.TIME){let m=this.model.get("zoomDomain");m===void 0&&(m=this.services.zoom.getDefaultZoomBarDomain(),m&&this.model.set({zoomDomain:m},{animate:!1}));const _=v=>{const b=v[1]-v[0];let R="0,"+b.toString();const D=Math.floor(l/pr.DASH_LENGTH),Z=D*pr.DASH_LENGTH;for(let z=0;z<D;z++)R+=","+pr.DASH_LENGTH;R+=","+(l-Z),D%2===1&&(R+=",0"),R+=","+b.toString(),R+=","+l.toString(),d.attr("stroke-dasharray",R)},g=v=>{const b=v.selection;b===null||b[0]===b[1]||(d.attr("x",parseFloat(a.attr("x"))+parseFloat(i.attr("x"))).attr("y",a.attr("y")).attr("width",a.attr("width")).attr("height",a.attr("height")).style("cursor","pointer").style("display",null),_(b))},y=(v,b)=>{const R=Yw().range([0,s]).domain(m);let D=[R.invert(v),R.invert(b)];D[0].valueOf()===D[1].valueOf()&&(D=this.services.zoom.getDefaultZoomBarDomain()),(m[0].valueOf()!==D[0].valueOf()||m[1].valueOf()!==D[1].valueOf())&&this.services.zoom.handleDomainChange(D)};let E;const w=v=>{const b=v.selection;b!==null&&(y(b[0],b[1]),o.call(E.move,null),d.style("display","none"))};l!=0&&s!=0&&(E=iO().extent([[0,0],[s-1,l]]).on("start brush end",g).on("end.brushed",w),o.call(E));const O=this.services.zoom.getZoomRatio();i.on("click",function(v){if(v.shiftKey){const b=this.services.domUtils.getHolder(),R=In(o.node(),b)[0];let D=R-s*O/2;D<0&&(D=0);let Z=R+s*O/2;Z>s&&(Z=s),y(D,Z)}})}}};mx.DASH_LENGTH=4;var bo=Math.PI,wo=2*bo,Me=1e-6,gx=wo-Me;function xl(){this._x0=this._y0=this._x1=this._y1=null,this._=""}xl.prototype={constructor:xl,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,u=o-t,c=a-e,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Me)if(!(Math.abs(c*s-l*u)>Me)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-o,d=r-a,m=s*s+l*l,_=f*f+d*d,g=Math.sqrt(m),y=Math.sqrt(h),E=i*Math.tan((bo-Math.acos((m+h-_)/(2*g*y)))/2),w=E/y,O=E/g;Math.abs(w-1)>Me&&(this._+="L"+(t+w*u)+","+(e+w*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+O*s)+","+(this._y1=e+O*l)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,u=e+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Me||Math.abs(this._y1-u)>Me)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%wo+wo),h>gx?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>Me&&(this._+="A"+n+","+n+",0,"+ +(h>=bo)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};class yx extends ie{constructor(){super(...arguments),this.type="area",this.renderType=vt.SVG,this.gradient_id="gradient-id-"+Math.floor(Math.random()*99999999999),this.handleLegendOnHover=e=>{const{hoveredElement:n}=e.detail;this.parent.selectAll("path.area").transition("legend-hover-area").call(r=>this.services.transitions.setupTransition({transition:r,name:"legend-hover-area"})).attr("opacity",r=>r.name!==n.datum().name?fe.opacity.unselected:fe.opacity.selected)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.area").transition("legend-mouseout-area").call(e=>this.services.transitions.setupTransition({transition:e,name:"legend-mouseout-area"})).attr("opacity",fe.opacity.selected)}}init(){const e=this.services.events;e.addEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(e=!0){const n=this.getComponentContainer({withinChartClip:!0}),r=this.getOptions();let i=[0,0];const{cartesianScales:o}=this.services,a=o.getOrientation(),s=ah().curve(this.services.curves.getD3Curve()).defined(v=>{const b=o.getRangeIdentifier();return v[b]!=null}),l=this.model.getGroupedData(this.configs.groups),u=N(r,"bounds"),c=u&&l&&l.length===1;!c&&u&&console.warn(`Bounds can only be shown when having 1 single datagroup, you've supplied ${l.length}`);let h=0;const f=(v,b)=>{N(r,"axes",v,"includeZero")===!1&&b[0]>0&&b[1]>0&&(h=b[0])},d=v=>c?o.getBoundedScaledValues(v)[0]:o.getRangeValue(h),m=v=>c?o.getBoundedScaledValues(v)[1]:o.getRangeValue(v);a===te.VERTICAL?(i=o.getMainYScale().domain(),f(o.getMainYAxisPosition(),i),s.x(v=>o.getDomainValue(v)).y0(v=>d(v)).y1(v=>m(v))):(i=o.getMainXScale().domain(),f(o.getMainXAxisPosition(),i),s.x0(v=>d(v)).x1(v=>m(v)).y(v=>o.getDomainValue(v)));const _=N(r,"color","gradient","enabled"),g=l&&l.length===1&&_;l.length>1&&_&&console.error("Gradients can only be enabled when having 1 single dataset");const y=n.selectAll("path.area").data(l,v=>v.name),E=k(this.services.domUtils.getMainContainer());if(y.exit().attr("opacity",0).remove(),!l.length)return;if(g){const v=E.select(`path.${this.model.getColorClassName({classNameTypes:[Mt.STROKE],dataGroupName:l[0].name})}`).node();let b;if(v)b=getComputedStyle(v,null).getPropertyValue("stroke");else{const R=N(this.model.getOptions(),"color","scale");if(R!==null){const D=Object.keys(R);b=R[D[0]]}}tl.appendOrUpdateLinearGradient({svg:this.parent,id:this.services.domUtils.generateElementIDString(`${l[0].name.replace(" ","")}_${this.gradient_id}`),x1:"0%",x2:"0%",y1:"0%",y2:"100%",stops:tl.getStops(i,b)})}else this.parent.selectAll("defs linearGradient").empty()||this.parent.selectAll("defs linearGradient").each(function(){this.parentNode.remove()});const w=this,O=y.enter().append("path");g?O.merge(y).style("fill",v=>`url(#${this.services.domUtils.generateElementIDString(`${v.name.replace(" ","")}_${this.gradient_id}`)})`).attr("class","area").attr("class",v=>this.model.getColorClassName({classNameTypes:[Mt.FILL],dataGroupName:v.name,originalClassName:"area"})).attr("d",v=>{const{data:b}=v;return s(b)}):(O.attr("opacity",0).merge(y).attr("class","area").attr("class",v=>this.model.getColorClassName({classNameTypes:[Mt.FILL,Mt.STROKE],dataGroupName:v.name,originalClassName:"area"})).style("fill",v=>w.model.getFillColor(v.name,null,v.data)).transition().call(v=>this.services.transitions.setupTransition({transition:v,name:"area-update-enter",animate:e})).attr("opacity",c?1:fe.opacity.selected).attr("d",v=>{const{data:b}=v;return s(b)}),c&&O.attr("fill-opacity",fe.opacity.selected).style("stroke",v=>w.model.getStrokeColor(v.name,null,v.data)).style("stroke-dasharray","2, 2").attr("stroke-width",.7+"px"))}destroy(){const e=this.services.events;e.removeEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}}class Li extends ie{constructor(){super(...arguments),this.type="line",this.renderType=vt.SVG,this.handleLegendOnHover=e=>{const{hoveredElement:n}=e.detail;this.parent.selectAll("path.line").transition("legend-hover-line").call(r=>this.services.transitions.setupTransition({transition:r,name:"legend-hover-line"})).attr("opacity",r=>r.name!==n.datum().name?hi.opacity.unselected:hi.opacity.selected)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.line").transition("legend-mouseout-line").call(e=>this.services.transitions.setupTransition({transition:e,name:"legend-mouseout-line"})).attr("opacity",hi.opacity.selected)}}init(){const{events:e}=this.services;e.addEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(e=!0){const n=this.getComponentContainer({withinChartClip:!0}),{cartesianScales:r,curves:i}=this.services,o=d=>r.getDomainValue(d),a=d=>r.getRangeValue(d),[s,l]=cr(o,a,r.getOrientation()),u=this.getOptions(),c=oh().x(s).y(l).curve(i.getD3Curve()).defined(d=>{const m=r.getRangeIdentifier(d);return d[m]!=null});let h=[];if(this.configs.stacked){const d=Object.keys(u.axes).some(_=>u.axes[_].percentage),{groupMapsTo:m}=u.data;h=this.model.getStackedData({groups:this.configs.groups,percentage:d}).map(_=>{const g=this.services.cartesianScales.getDomainIdentifier(_),y=this.services.cartesianScales.getRangeIdentifier(_);return{name:N(_,0,m),data:_.map(E=>({[g]:E.data.sharedStackKey,[m]:E[m],[y]:E[1]})),hidden:!qE(_,E=>E[0]!==E[1])}})}else h=this.model.getGroupedData(this.configs.groups);const f=n.selectAll("path.line").data(h,d=>d.name);f.exit().attr("opacity",0).remove(),f.enter().append("path").classed("line",!0).attr("opacity",0).merge(f).data(h,d=>d.name).attr("class",d=>this.model.getColorClassName({classNameTypes:[Mt.STROKE],dataGroupName:d.name,originalClassName:"line"})).style("stroke",d=>this.model.getStrokeColor(d.name,null,d.data)).attr("role",ne.GRAPHICS_SYMBOL).attr("aria-roledescription","line").attr("aria-label",d=>{const{data:m}=d;return m.map(_=>{const g=this.services.cartesianScales.getRangeIdentifier(_);return _[g]}).join(",")}).transition().call(d=>this.services.transitions.setupTransition({transition:d,name:"line-update-enter",animate:e})).attr("opacity",d=>d.hidden?0:1).attr("d",d=>{const{data:m}=d;return c(m)})}destroy(){const e=this.services.events;e.removeEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}}const Ml=5;function vx(t,e){return t>e-Ml&&t<e+Ml}class _x extends ie{constructor(){super(...arguments),this.type="ruler",this.renderType=vt.SVG,this.isXGridEnabled=N(this.getOptions(),"grid","x","enabled"),this.isYGridEnabled=N(this.getOptions(),"grid","y","enabled"),this.isEventListenerAdded=!1}render(e=!1){const n=N(this.getOptions(),"ruler","enabled");this.drawBackdrop(),n&&!this.isEventListenerAdded?this.addBackdropEventListeners():!n&&this.isEventListenerAdded&&this.removeBackdropEventListeners()}removeBackdropEventListeners(){this.isEventListenerAdded=!1,this.backdrop.on("mousemove mouseover mouseout",null)}formatTooltipData(e){return e}showRuler(e,[n,r]){const i=this.parent,o=this.services.cartesianScales.getOrientation(),a=this.model.getDisplayData(),s=this.services.cartesianScales.getRangeScale(),[l,u]=s.range(),c=o===te.HORIZONTAL?r:n,h=yt.appendOrSelect(i,"g.ruler").attr("aria-label","ruler"),f=yt.appendOrSelect(h,"line.ruler-line"),d=i.selectAll("[role=graphics-symbol]"),m=a.map(g=>({domainValue:this.services.cartesianScales.getDomainValue(g),originalData:g})).filter(g=>vx(g.domainValue,c));if(this.pointsWithinLine&&m.length===this.pointsWithinLine.length&&m.map(g=>g.domainValue).join()===this.pointsWithinLine.map(g=>g.domainValue).join())return this.pointsWithinLine=m,this.services.events.dispatchEvent(M.Tooltip.MOVE,{mousePosition:[n,r]});this.pointsWithinLine=m;const _=this.pointsWithinLine.reduce((g,y)=>{if(g.length===0)return g.push(y),g;const E=g[0].domainValue,w=Math.abs(c-y.domainValue),O=Math.abs(c-E);return w>O||(w<O?g=[y]:g.push(y)),g},[]);if(_.length>0){const g=_.map(O=>O.originalData).filter(O=>{const v=this.services.cartesianScales.getRangeIdentifier(O);return O[v]!=null}),y=_.map(O=>O.domainValue),E=d.filter(O=>{const v=this.services.cartesianScales.getDomainValue(O);return y.includes(v)});this.elementsToHighlight&&this.elementsToHighlight.size()>0&&!GE(this.elementsToHighlight,E)&&this.hideRuler(),E.dispatch("mouseover"),this.elementsToHighlight=E,this.services.events.dispatchEvent(M.Tooltip.SHOW,{mousePosition:[n,r],hoveredElement:f,data:this.formatTooltipData(g)}),h.attr("opacity",1);const w=_[0];o==="horizontal"?f.attr("x1",u).attr("x2",l).attr("y1",w.domainValue).attr("y2",w.domainValue):f.attr("y1",u).attr("y2",l).attr("x1",w.domainValue).attr("x2",w.domainValue)}else this.hideRuler()}hideRuler(){const e=this.parent,n=yt.appendOrSelect(e,"g.ruler");e.selectAll("[role=graphics-symbol]").dispatch("mouseout"),this.services.events.dispatchEvent(M.Tooltip.HIDE),n.attr("opacity",0)}addBackdropEventListeners(){this.isEventListenerAdded=!0;const e=this,n=this.services.domUtils.getHolder(),r=this.model.getDisplayData();let i=function(o){const a=In(o,e.parent.node());e.showRuler(o,a)};if(r.length>100){const o=r.length%50*12.5;i=db(function(a){const{mousePosition:s}=this;e.showRuler(a,s)},o,n)}this.backdrop.on("mousemove mouseover",i).on("mouseout",this.hideRuler.bind(this))}drawBackdrop(){const e=this.parent;this.backdrop=yt.appendOrSelect(e,"svg.chart-grid-backdrop")}}class mr extends ie{constructor(){super(...arguments),this.type="scatter",this.renderType=vt.SVG,this.handleChartHolderOnHover=()=>{if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle.dot").transition("chart-holder-hover-scatter").call(e=>{var n;return(n=this.services.transitions)==null?void 0:n.setupTransition({transition:e,name:"chart-holder-hover-scatter"})}).attr("opacity",1)},this.handleChartHolderOnMouseOut=()=>{if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle.dot").transition("chart-holder-mouseout-scatter").call(e=>{var n;return(n=this.services.transitions)==null?void 0:n.setupTransition({transition:e,name:"chart-holder-mouseout-scatter"})}).attr("opacity",0)},this.handleLegendOnHover=e=>{const{hoveredElement:n}=e.detail,{groupMapsTo:r}=this.getOptions().data;if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle.dot").transition("legend-hover-scatter").call(i=>{var o;return(o=this.services.transitions)==null?void 0:o.setupTransition({transition:i,name:"legend-hover-scatter"})}).attr("opacity",i=>i[r]!==n.datum().name?.3:1)},this.handleLegendMouseOut=()=>{if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle.dot").transition("legend-mouseout-scatter").call(e=>{var n;return(n=this.services.transitions)==null?void 0:n.setupTransition({transition:e,name:"legend-mouseout-scatter"})}).attr("opacity",1)}}init(){const{events:e}=this.services;if(!e)throw new Error("Services events are undefined.");e.addEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut);const{fadeInOnChartHolderMouseover:n}=this.configs;n&&(e.addEventListener(M.Chart.MOUSEOVER,this.handleChartHolderOnHover),e.addEventListener(M.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut))}filterBasedOnZoomDomain(e){const{cartesianScales:n}=this.services;if(!n)throw new Error("Services cartesianScales are undefined.");const r=n.getDomainIdentifier(e),i=this.model.get("zoomDomain");return i!==void 0?e.filter(o=>o[r].getTime()>=i[0].getTime()&&o[r].getTime()<=i[1].getTime()):e}getScatterData(){const e=this.getOptions(),{stacked:n}=this.configs;let r;if(n){const i=Object.keys(e.axes).some(o=>e.axes[o].percentage);r=this.model.getStackedData({groups:this.configs.groups,percentage:i})}else{const{cartesianScales:i}=this.services;if(!i)throw new Error("Services cartesianScales are undefined.");r=this.model.getDisplayData(this.configs.groups).filter(o=>{const a=i.getRangeIdentifier(o);return o[a]!==void 0&&o[a]!==null})}return this.filterBasedOnZoomDomain(r)}render(e){if(!(N(this.getOptions(),"points","enabled")||N(this.getOptions(),"bubble","enabled")))return;const n=this.getComponentContainer({withinChartClip:!0}),r=this.getOptions(),{groupMapsTo:i}=r.data,{cartesianScales:o}=this.services;if(!o)throw new Error("Services cartesianScales are undefined.");const a=o.getDomainIdentifier(),s=n.selectAll("circle.dot").data(this.getScatterData(),u=>`${u[i]}-${u[a]}`);s.exit().attr("opacity",0).remove();const l=s.enter().append("circle").classed("dot",!0).attr("opacity",0).merge(s);this.styleCircles(l,e),this.addEventListeners()}isDatapointThresholdAnomaly(e){const{handleThresholds:n}=this.configs;if(!n)return!1;const{cartesianScales:r}=this.services;if(!r)throw new Error("Cartesian scales service is undefined");const i=r.getOrientation(),[o,a]=cr(r.getHighestDomainThreshold(),r.getHighestRangeThreshold(),i),[s,l]=cr(h=>r.getDomainValue(h),h=>r.getRangeValue(h),i),u=s(e),c=l(e);return a&&o?c<=a.scaleValue&&u>=o.scaleValue:a?c<=a.scaleValue:o?u>=o.scaleValue:!1}styleCircles(e,n){const r=this.getOptions(),{filled:i,fillOpacity:o}=r.points,{cartesianScales:a}=this.services;if(!a)throw new Error("Cartesian scales service is undefined");const{groupMapsTo:s}=r.data,l=d=>a.getDomainValue(d),u=d=>a.getRangeValue(d),[c,h]=cr(l,u,a.getOrientation()),{fadeInOnChartHolderMouseover:f}=this.configs;e.raise().classed("dot",!0).attr("class",d=>{const m=a.getDomainIdentifier(d),_=this.model.getIsFilled(d[s],d[m],d,i)?[Mt.FILL,Mt.STROKE]:[Mt.STROKE];return this.model.getColorClassName({classNameTypes:_,dataGroupName:d[s],originalClassName:"dot"})||""}).classed("threshold-anomaly",d=>this.isDatapointThresholdAnomaly(d)).classed("filled",d=>{const m=a.getDomainIdentifier(d);return this.model.getIsFilled(d[s],d[m],d,i)}).classed("unfilled",d=>{const m=a.getDomainIdentifier(d);return!this.model.getIsFilled(d[s],d[m],d,i)}).transition().call(d=>{var m;return(m=this.services.transitions)==null?void 0:m.setupTransition({transition:d,name:"scatter-update-enter",animate:n})}).attr("cx",c).attr("cy",h).attr("r",r.points.radius).style("fill",d=>{const m=a.getDomainIdentifier(d);if(this.model.getIsFilled(d[s],d[m],d,i))return this.model.getFillColor(d[s],d[m],d)}).style("stroke",d=>{const m=a.getDomainIdentifier(d);return this.model.getStrokeColor(d[s],d[m],d)}).attr("fill-opacity",i?o:1).attr("opacity",f?0:1).attr("role",ne.GRAPHICS_SYMBOL).attr("aria-roledescription","point").attr("aria-label",d=>{const m=a.getRangeIdentifier(d);return d[m]}),this.addEventListeners()}getTooltipAdditionalItems(e){return null}addEventListeners(){const e=this,{groupMapsTo:n}=e.getOptions().data;if(!this.parent)throw new Error("Parent not defined");this.parent.selectAll("circle").on("mouseover",function(r,i){var o,a;const s=k(this);s.classed("hovered",!0).attr("class",l=>e.model.getColorClassName({classNameTypes:[Mt.FILL],dataGroupName:l[n],originalClassName:s.attr("class")})).style("fill",l=>{var u;const c=(u=e.services.cartesianScales)==null?void 0:u.getDomainIdentifier(l);return e.model.getFillColor(l[n],l[c],l)}).classed("unfilled",!1),(o=e.services.events)==null||o.dispatchEvent(M.Tooltip.SHOW,{event:r,hoveredElement:s,data:[i],additionalItems:e.getTooltipAdditionalItems(i)}),(a=e.services.events)==null||a.dispatchEvent(M.Scatter.SCATTER_MOUSEOVER,{event:r,element:s,datum:i})}).on("mousemove",function(r,i){var o,a;const s=k(this);(o=e.services.events)==null||o.dispatchEvent(M.Scatter.SCATTER_MOUSEMOVE,{event:r,element:s,datum:i}),(a=e.services.events)==null||a.dispatchEvent(M.Tooltip.MOVE,{event:r})}).on("click",function(r,i){var o;(o=e.services.events)==null||o.dispatchEvent(M.Scatter.SCATTER_CLICK,{event:r,element:k(this),datum:i})}).on("mouseout",function(r,i){var o,a,s;const l=k(this);if(l.classed("hovered",!1),!e.configs.filled){const{filled:u}=e.getOptions().points,c=(o=e.services.cartesianScales)==null?void 0:o.getDomainIdentifier(i),h=e.model.getIsFilled(i[n],i[c],i,u);l.classed("unfilled",!h).style("fill",f=>h||u?e.model.getFillColor(f[n],f[c],f):null)}(a=e.services.events)==null||a.dispatchEvent(M.Scatter.SCATTER_MOUSEOUT,{event:r,element:l,datum:i}),(s=e.services.events)==null||s.dispatchEvent(M.Tooltip.HIDE,{hoveredElement:l})})}destroy(){var e;(e=this.parent)==null||e.selectAll("circle").on("mousemove",null).on("mouseout",null);const{events:n}=this.services;if(!n)throw new Error("Services events undefined");n.removeEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),n.removeEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut),n.removeEventListener(M.Chart.MOUSEOVER,this.handleChartHolderOnHover),n.removeEventListener(M.Chart.MOUSEOUT,this.handleChartHolderOnMouseOut)}}class bx extends ie{constructor(){super(...arguments),this.type="zero-line",this.renderType=vt.SVG}render(e){const n=this.services.cartesianScales.getRangeAxisPosition({groups:this.configs.groups}),r=this.services.cartesianScales.getScaleByPosition(n),[i,o]=r.domain(),a=i>0&&o<0||i<0&&o>0,s=this.getComponentContainer();if(!a){s.selectAll("line.domain").remove();return}const[l,u]=this.services.cartesianScales.getDomainScale().range();let c=+r(0)+.5;c||(c=r.range()[0]);const h=Rc({x0:l,x1:u,y0:c,y1:c},this.services.cartesianScales.getOrientation());yt.appendOrSelect(s,"line.domain").transition().call(f=>this.services.transitions.setupTransition({transition:f,name:"zero-line-update",animate:e})).attr("y1",h.y0).attr("y2",h.y1).attr("x1",h.x0).attr("x2",h.x1)}}class Tl extends _x{formatTooltipData(e){return e.reverse()}}const wx=(t,e)=>{const n=t.x,r=t.y,i=e.x,o=e.y,a=Qc();return a.moveTo(n,r),a.lineTo(i,o),a.toString()},Ex={d:"M0 0v8l7-4z",height:8,width:7.5,id:"arrowRight"};class sa extends ie{getBarWidth(){const e=this.getOptions();if(e.bars.width)return e.bars.width;const n=this.model.getDisplayData().length,r=this.services.cartesianScales.getMainXScale(),i=yt.getSVGElementSize(this.parent,{useAttrs:!0}).width;if(!r.step){const o=N(e,"bars","spacingFactor");return Math.min(e.bars.maxWidth,i*o/n)}return Math.min(e.bars.maxWidth,r.step()/2)}isOutsideZoomedDomain(e,n){if(this.model.getDisplayData().length<=1)return!1;const r=this.model.get("zoomDomain");if(r!==void 0){const i=this.services.cartesianScales.getDomainScale();return e<i(r[0])||n>i(r[1])}return!1}}class Ox extends sa{constructor(){super(...arguments),this.type="grouped-bar",this.renderType=vt.SVG,this.padding=5,this.defaultStepFactor=70,this.handleLegendOnHover=e=>{const{hoveredElement:n}=e.detail,{groupMapsTo:r}=this.getOptions().data;this.parent.selectAll("path.bar").transition("legend-hover-bar").call(i=>this.services.transitions.setupTransition({transition:i,name:"legend-hover-bar"})).attr("opacity",i=>i[r]!==n.datum().name?.3:1)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(e=>this.services.transitions.setupTransition({transition:e,name:"legend-mouseout-bar"})).attr("opacity",1)}}init(){const e=this.services.events;e.addEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(e){const n=this.model.getDisplayData(this.configs.groups),r=this.getOptions(),{groupMapsTo:i}=r.data;this.setGroupScale();const o=this.getComponentContainer({withinChartClip:!0}),a=ly(n.map(c=>{const h=this.services.cartesianScales.getDomainIdentifier(c);return c[h]&&typeof c[h].toString=="function"?c[h].toString():c[h]})),s=o.selectAll("g.bars").data(a,c=>c);s.exit().attr("opacity",0).remove();const l=s.enter().append("g").classed("bars",!0).attr("role",ne.GROUP).attr("data-name","bars").merge(s);l.transition().call(c=>this.services.transitions.setupTransition({transition:c,name:"bar-group-update-enter",animate:e})).attr("transform",c=>{const h=this.services.cartesianScales.getDomainValue(c)-this.getGroupWidth()/2;return this.services.cartesianScales.getOrientation()===te.VERTICAL?`translate(${h}, 0)`:`translate(0, ${h})`});const u=l.selectAll("path.bar").data(c=>this.getDataCorrespondingToLabel(c),c=>c[i]);u.exit().attr("opacity",0).remove(),u.enter().append("path").attr("opacity",0).merge(u).classed("bar",!0).transition().call(c=>this.services.transitions.setupTransition({transition:c,name:"bar-update-enter",animate:e})).attr("class",c=>this.model.getColorClassName({classNameTypes:[Mt.FILL],dataGroupName:c[i],originalClassName:"bar"})).style("fill",c=>{const h=this.services.cartesianScales.getDomainIdentifier(c);return this.model.getFillColor(c[i],c[h],c)}).attr("d",c=>{const h=this.groupScale(c[i]),f=this.getBarWidth(),d=h,m=h+f,_=this.services.cartesianScales.getRangeAxisPosition({datum:c}),g=this.services.cartesianScales.getDomainLowerBound(_),y=this.services.cartesianScales.getValueThroughAxisPosition(_,g),E=this.services.cartesianScales.getRangeValue(c),w=this.services.cartesianScales.getDomainValue(c)-f/2,O=w+f;if(!this.isOutsideZoomedDomain(w,O))return Jo({x0:d,x1:m,y0:y,y1:E},this.services.cartesianScales.getOrientation())}).attr("opacity",1).attr("role",ne.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",c=>c.value),this.addEventListeners()}addEventListeners(){const e=this;this.parent.selectAll("path.bar").on("mouseover",function(n,r){const i=k(this);i.classed("hovered",!0),e.services.events.dispatchEvent(M.Bar.BAR_MOUSEOVER,{event:n,element:i,datum:r}),e.services.events.dispatchEvent(M.Tooltip.SHOW,{event:n,hoveredElement:i,data:[r]})}).on("mousemove",function(n,r){const i=k(this);e.services.events.dispatchEvent(M.Bar.BAR_MOUSEMOVE,{event:n,element:i,datum:r}),e.services.events.dispatchEvent(M.Tooltip.MOVE,{event:n})}).on("click",function(n,r){e.services.events.dispatchEvent(M.Bar.BAR_CLICK,{event:n,element:k(this),datum:r})}).on("mouseout",function(n,r){const i=k(this);i.classed("hovered",!1),e.services.events.dispatchEvent(M.Bar.BAR_MOUSEOUT,{event:n,element:i,datum:r}),e.services.events.dispatchEvent(M.Tooltip.HIDE,{hoveredElement:i})})}destroy(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);const e=this.services.events;e.removeEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}getDataCorrespondingToLabel(e){return this.model.getDisplayData(this.configs.groups).filter(n=>{const r=this.services.cartesianScales.getDomainIdentifier(n);return n[r].toString()===e})}getGroupWidth(){const e=this.model.getGroupedData(this.configs.groups),n=this.getTotalGroupPadding();return this.getBarWidth()*e.length+n}getDomainScaleStep(){const e=this.services.cartesianScales.getDomainScale(),n=this.model.getGroupedData(this.configs.groups);let r=this.defaultStepFactor;if(typeof e.step=="function")r=e.step();else if(n.length>0){const i=n.find(o=>{var a;return((a=o.data)==null?void 0:a.length)>1});if(i){const o=this.services.cartesianScales.getDomainIdentifier(i.data[0]);r=Math.abs(e(i.data[1][o])-e(i.data[0][o]))}}return r}getTotalGroupPadding(){const e=this.model.getGroupedData(this.configs.groups);return e.length===1?0:Math.min(5,5*(this.getDomainScaleStep()/this.defaultStepFactor))*(e.length-1)}getBarWidth(){const e=this.getOptions(),n=N(e,"bars","width"),r=N(e,"bars","maxWidth");if(n!==null&&(r===null||n<=r))return n;const i=this.model.getGroupedData(this.configs.groups).length,o=this.getTotalGroupPadding();return Math.min(r,(this.getDomainScaleStep()-o)/i)}setGroupScale(){const e=this.model.getActiveDataGroupNames(this.configs.groups);this.groupScale=kc().domain(e).rangeRound([0,this.getGroupWidth()])}}class Sx extends sa{constructor(){super(...arguments),this.type="simple-bar",this.renderType=vt.SVG,this.handleLegendOnHover=e=>{const{hoveredElement:n}=e.detail,{groupMapsTo:r}=this.getOptions().data;this.parent.selectAll("path.bar").transition("legend-hover-simple-bar").call(i=>this.services.transitions.setupTransition({transition:i,name:"legend-hover-simple-bar"})).attr("opacity",i=>i[r]!==n.datum().name?.3:1)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.bar").transition("legend-mouseout-simple-bar").call(e=>this.services.transitions.setupTransition({transition:e,name:"legend-mouseout-simple-bar"})).attr("opacity",1)}}init(){const e=this.services.events;e.addEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(e){const n=this.getOptions(),{groupMapsTo:r}=n.data,i=this.getComponentContainer({withinChartClip:!0}),o=this.model.getDisplayData(this.configs.groups),a=this.services.cartesianScales.getOrientation(),s=i.selectAll("path.bar").data(o,l=>l[r]);s.exit().attr("opacity",0).remove(),s.enter().append("path").attr("opacity",0).merge(s).classed("bar",!0).attr("width",this.getBarWidth.bind(this)).transition().call(l=>this.services.transitions.setupTransition({transition:l,name:"bar-update-enter",animate:e})).attr("class",l=>this.model.getColorClassName({classNameTypes:[Mt.FILL],dataGroupName:l[r],originalClassName:"bar"})).style("fill",l=>{const u=this.services.cartesianScales.getDomainIdentifier(l);return this.model.getFillColor(l[r],l[u],l)}).attr("d",l=>{const u=this.services.cartesianScales.getRangeIdentifier(),c=this.getBarWidth(),h=l[u],f=this.services.cartesianScales.getDomainValue(l)-c/2,d=f+c;let m,_;if(Array.isArray(h)&&h.length===2)m=this.services.cartesianScales.getRangeValue(h[0]),_=this.services.cartesianScales.getRangeValue(h[1]);else{const y=this.services.cartesianScales.getRangeScale().domain()[0];m=this.services.cartesianScales.getRangeValue(Math.max(0,y)),_=this.services.cartesianScales.getRangeValue(l)}const g=Math.abs(_-m);if(g!==0&&g<2&&(h>0&&a===te.VERTICAL||h<0&&a===te.HORIZONTAL?_=m-2:_=m+2),!this.isOutsideZoomedDomain(f,d))return Jo({x0:f,x1:d,y0:m,y1:_},a)}).attr("opacity",1).attr("role",ne.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",l=>l.value),this.addEventListeners()}addEventListeners(){const e=this;this.parent.selectAll("path.bar").on("mouseover",function(n,r){const i=k(this);i.classed("hovered",!0),e.services.events.dispatchEvent(M.Bar.BAR_MOUSEOVER,{event:n,element:i,datum:r}),e.services.events.dispatchEvent(M.Tooltip.SHOW,{event:n,hoveredElement:i,data:[r]})}).on("mousemove",function(n,r){e.services.events.dispatchEvent(M.Bar.BAR_MOUSEMOVE,{event:n,element:k(this),datum:r}),e.services.events.dispatchEvent(M.Tooltip.MOVE,{event:n})}).on("click",function(n,r){e.services.events.dispatchEvent(M.Bar.BAR_CLICK,{event:n,element:k(this),datum:r})}).on("mouseout",function(n,r){const i=k(this);i.classed("hovered",!1),e.services.events.dispatchEvent(M.Bar.BAR_MOUSEOUT,{event:n,element:i,datum:r}),e.services.events.dispatchEvent(M.Tooltip.HIDE,{hoveredElement:i})})}destroy(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);const e=this.services.events;e.removeEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}}class xx extends ie{constructor(){super(...arguments),this.type="area-stacked",this.renderType=vt.SVG,this.handleLegendOnHover=e=>{const{hoveredElement:n}=e.detail,r=this.getOptions(),{groupMapsTo:i}=r.data;this.parent.selectAll("path.area").transition("legend-hover-area").call(o=>this.services.transitions.setupTransition({transition:o,name:"legend-hover-area"})).attr("opacity",o=>N(o,0,i)!==n.datum().name?fe.opacity.unselected:fe.opacity.selected)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.area").transition("legend-mouseout-area").call(e=>this.services.transitions.setupTransition({transition:e,name:"legend-mouseout-area"})).attr("opacity",fe.opacity.selected)}}init(){const e=this.services.events;e.addEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(e=!0){const n=this.getComponentContainer({withinChartClip:!0}),r=this,i=this.getOptions(),{groupMapsTo:o}=i.data,a=Object.keys(i.axes).some(d=>i.axes[d].percentage),s=this.model.getStackedData({percentage:a,groups:this.configs.groups}),l=N(s,0,0),u=this.services.cartesianScales.getDomainAxisPosition({datum:l}),c=this.services.cartesianScales.getRangeAxisPosition({datum:l}),h=this.services.cartesianScales.getScaleByPosition(c),f=n.selectAll("path.area").data(s,d=>N(d,0,o));this.areaGenerator=ah().x(d=>this.services.cartesianScales.getValueThroughAxisPosition(u,d.data.sharedStackKey)).y0(d=>h(d[0])).y1(d=>h(d[1])).curve(this.services.curves.getD3Curve()),f.exit().attr("opacity",0).remove(),f.enter().append("path").attr("opacity",0).merge(f).data(s,d=>N(d,0,o)).attr("class","area").attr("class",d=>this.model.getColorClassName({classNameTypes:[Mt.FILL],dataGroupName:N(d,0,o),originalClassName:"area"})).style("fill",d=>r.model.getFillColor(N(d,0,o),null,d)).attr("role",ne.GRAPHICS_SYMBOL).attr("aria-roledescription","area").attr("aria-label",d=>N(d,0,o)).transition().call(d=>this.services.transitions.setupTransition({transition:d,name:"area-update-enter",animate:e})).attr("opacity",fe.opacity.selected).attr("d",this.areaGenerator)}}class Mx extends sa{constructor(){super(...arguments),this.type="stacked-bar",this.renderType=vt.SVG,this.handleLegendOnHover=e=>{const{hoveredElement:n}=e.detail,{groupMapsTo:r}=this.model.getOptions().data;this.parent.selectAll("path.bar").transition("legend-hover-bar").call(i=>this.services.transitions.setupTransition({transition:i,name:"legend-hover-bar"})).attr("opacity",i=>i[r]!==n.datum().name?.3:1)},this.handleLegendMouseOut=()=>{this.parent.selectAll("path.bar").transition("legend-mouseout-bar").call(e=>this.services.transitions.setupTransition({transition:e,name:"legend-mouseout-bar"})).attr("opacity",1)}}init(){const e=this.services.events;e.addEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.addEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}render(e){const n=this.getComponentContainer({withinChartClip:!0}),r=this.getOptions(),{groupMapsTo:i}=r.data,o=this.model.getStackedData({groups:this.configs.groups,divergent:!0}),a=this.model.getActiveDataGroupNames(),s=n.selectAll("g.bars").data(o,u=>N(u,0,i));s.exit().attr("opacity",0).remove(),s.enter().append("g").classed("bars",!0).attr("role",ne.GROUP).attr("data-name","bars");const l=n.selectAll("g.bars").selectAll("path.bar").data(u=>u,u=>u.data.sharedStackKey);l.exit().remove(),l.enter().append("path").merge(l).classed("bar",!0).transition().call(u=>this.services.transitions.setupTransition({transition:u,name:"bar-update-enter",animate:e})).attr("class",u=>this.model.getColorClassName({classNameTypes:[Mt.FILL],dataGroupName:u[i],originalClassName:"bar"})).style("fill",u=>this.model.getFillColor(u[i],u.data.sharedStackKey,u.data)).attr("d",u=>{const c=u.data.sharedStackKey,h=this.getBarWidth(),f=this.services.cartesianScales.getDomainValue(c)-h/2,d=f+h,m=this.services.cartesianScales.getRangeValue(u[0]);let _=this.services.cartesianScales.getRangeValue(u[1]);if(!this.isOutsideZoomedDomain(f,d)){if(Math.abs(_-m)>0&&Math.abs(_-m)>r.bars.dividerSize){const g=u[0]<0&&u[1]<=0;g&&a.length>1?this.services.cartesianScales.getOrientation()===te.VERTICAL?_+=u[1]===0?2:1:_-=1:g||(this.services.cartesianScales.getOrientation()===te.VERTICAL?_+=1:_-=1)}return Jo({x0:f,x1:d,y0:m,y1:_},this.services.cartesianScales.getOrientation())}}).attr("opacity",1).attr("role",ne.GRAPHICS_SYMBOL).attr("aria-roledescription","bar").attr("aria-label",u=>u[1]-u[0]),this.addEventListeners()}addEventListeners(){const e=this.getOptions(),{groupMapsTo:n}=e.data,r=this;this.parent.selectAll("path.bar").on("mouseover",function(i,o){const a=k(this);a.classed("hovered",!0),r.services.events.dispatchEvent(M.Bar.BAR_MOUSEOVER,{event:i,element:a,datum:o});let s=r.model.getDisplayData(r.configs.groups).find(l=>{const u=r.services.cartesianScales.getDomainIdentifier(l),c=r.services.cartesianScales.getRangeIdentifier(l);return l[c]===o.data[o[n]]&&l[u].toString()===o.data.sharedStackKey&&l[n]===o[n]});if(s===void 0){const l=r.services.cartesianScales.getDomainIdentifier(),u=r.services.cartesianScales.getRangeIdentifier();s={[l]:o.data.sharedStackKey,[u]:o.data[o[n]],[n]:o[n]}}r.services.events.dispatchEvent(M.Tooltip.SHOW,{event:i,hoveredElement:a,data:[s]})}).on("mousemove",function(i,o){const a=k(this);r.services.events.dispatchEvent(M.Bar.BAR_MOUSEMOVE,{event:i,element:a,datum:o}),r.services.events.dispatchEvent(M.Tooltip.MOVE,{event:i})}).on("click",function(i,o){r.services.events.dispatchEvent(M.Bar.BAR_CLICK,{event:i,element:k(this),datum:o})}).on("mouseout",function(i,o){const a=k(this);a.classed("hovered",!1),r.services.events.dispatchEvent(M.Bar.BAR_MOUSEOUT,{event:i,element:a,datum:o}),r.services.events.dispatchEvent(M.Tooltip.HIDE,{hoveredElement:a})})}getBarWidth(){const e=this.getOptions();if(N(e,"bars","width"))return e.bars.width;const n=this.services.cartesianScales.getMainXScale(),r=yt.getSVGElementSize(this.parent,{useAttrs:!0}).width,i=this.model.getStackKeys().length,o=N(e,"bars","spacingFactor");return n.step?Math.min(e.bars.maxWidth,n.step()/2):Math.min(e.bars.maxWidth,r*o/i)}destroy(){this.parent.selectAll("path.bar").on("mouseover",null).on("mousemove",null).on("mouseout",null);const e=this.services.events;e.removeEventListener(M.Legend.ITEM_HOVER,this.handleLegendOnHover),e.removeEventListener(M.Legend.ITEM_MOUSEOUT,this.handleLegendMouseOut)}}class Tx extends mr{constructor(){super(...arguments),this.type="scatter-stacked",this.renderType=vt.SVG}render(e){if(!N(this.getOptions(),"points","enabled"))return;const n=this.getComponentContainer({withinChartClip:!0}),r=this.getOptions(),{groupMapsTo:i}=r.data,o=Object.keys(r.axes).some(c=>r.axes[c].percentage),a=this.model.getStackedData({groups:this.configs.groups,percentage:o}),s=n.selectAll("g.dots").data(a,c=>N(c,0,i));s.exit().attr("opacity",0).remove();const l=s.enter().append("g").classed("dots",!0).attr("role",ne.GROUP).merge(s).selectAll("circle.dot").data(c=>c);l.exit().attr("opacity",0).remove();const u=l.enter().append("circle").classed("dot",!0).attr("opacity",0).merge(l).datum(c=>{const h=c[i],f=this.services.cartesianScales.getDomainIdentifier(c),d=this.services.cartesianScales.getRangeIdentifier(c);return{[i]:h,[f]:c.data.sharedStackKey,[d]:c[1]}});this.styleCircles(u,e),this.addEventListeners()}getTooltipData(e,n){const r=this.getOptions(),{groupMapsTo:i}=r.data,o=Object.keys(r.axes).some(l=>r.axes[l].percentage),a=this.model.getStackedData({groups:this.configs.groups,percentage:o}),s=[];return a.forEach((l,u)=>{l.forEach((c,h)=>{const f=c[i],d=c.data.sharedStackKey;let m=c.data[f];const _=c[1],g=this.services.cartesianScales.getDomainIdentifier(c),y=this.services.cartesianScales.getRangeIdentifier(c);m!=null&&e===this.services.cartesianScales.getDomainValue(d)&&n===this.services.cartesianScales.getRangeValue(_)&&(o&&(m=this.model.getStackedData({groups:this.configs.groups})[u][h].data[f]),m!==null&&s.push({[i]:f,[g]:d,[y]:m}))})}),this.model.getDisplayData(this.configs.groups).filter(l=>{const u=this.services.cartesianScales.getDomainIdentifier(l),c=this.services.cartesianScales.getRangeIdentifier(l);return s.find(h=>h[i]==l[i]&&h[u]==l[u]&&h[c]==l[c])!==void 0})}}var Ax={value:function(){}};function yh(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new gr(n)}function gr(t){this._=t}function Cx(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}gr.prototype=yh.prototype={constructor:gr,on:function(t,e){var n=this._,r=Cx(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Lx(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Al(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Al(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gr(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Lx(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Al(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ax,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const Rx=Object.freeze(Object.defineProperty({__proto__:null,dispatch:yh},Symbol.toStringTag,{value:"Module"})),Dx=KS(Rx);Dx.dispatch;function kx(t){var e=t==null?0:t.length;return e?Po(t,1):[]}function Nx(t){return Eu(Su(t,void 0,kx),t+"")}function Ix(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function Px(t,e){return e.length<2?t:No(t,Ix(e,0,-1))}function Ux(t,e){return e=zr(e,t),t=Px(t,e),t==null||delete t[zn(Ku(e))]}function jx(t){return Ru(t)?void 0:t}var Hx=1,Fx=2,Bx=4;Nx(function(t,e){var n={};if(t==null)return n;var r=!1;e=_u(e,function(o){return o=zr(o,t),r||(r=o.length>1),o}),sn(t,Uu(t),n),r&&(n=or(n,Hx|Fx|Bx,jx));for(var i=e.length;i--;)Ux(n,e[i]);return n});function Cl(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function la(t){this._context=t}la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cl(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vh(t,e){this._basis=new la(t),this._beta=e}vh.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+l*o),this._beta*e[s]+(1-this._beta)*(i+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(r){return e===1?new la(r):new vh(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function Fr(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ua(t,e){this._context=t,this._k=(1-e)/6}ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fr(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Fr(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return new ua(r,e)}return n.tension=function(r){return t(+r)},n})(0);function ca(t,e){this._context=t,this._k=(1-e)/6}ca.prototype={areaStart:Rr,areaEnd:Rr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Fr(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return new ca(r,e)}return n.tension=function(r){return t(+r)},n})(0);function ha(t,e){this._context=t,this._k=(1-e)/6}ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fr(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return new ha(r,e)}return n.tension=function(r){return t(+r)},n})(0);function fa(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Ws){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Ws){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function _h(t,e){this._context=t,this._alpha=e}_h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:fa(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return e?new _h(r,e):new ua(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function bh(t,e){this._context=t,this._alpha=e}bh.prototype={areaStart:Rr,areaEnd:Rr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:fa(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return e?new bh(r,e):new ca(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function wh(t,e){this._context=t,this._alpha=e}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fa(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return e?new wh(r,e):new ha(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function Ll(t){return t<0?-1:1}function Rl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ll(o)+Ll(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Dl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ri(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Eo(t){this._context=t}Eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ri(this,this._t0,Dl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ri(this,Dl(this,n=Rl(this,t,e)),n);break;default:Ri(this,this._t0,n=Rl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(Eo.prototype).point=function(t,e){Eo.prototype.point.call(this,e,t)};we.LINE+"",we.SCATTER+"",we.AREA+"",we.STACKED_AREA+"",we.SIMPLE_BAR+"",we.GROUPED_BAR+"",we.STACKED_BAR+"";function $x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eh={exports:{}},Sn={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl;function Vx(){if(kl)return Sn;kl=1;var t=Di,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(s,l,u){var c,h={},f=null,d=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(d=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(h[c]=l[c]);if(s&&s.defaultProps)for(c in l=s.defaultProps,l)h[c]===void 0&&(h[c]=l[c]);return{$$typeof:e,type:s,key:f,ref:d,props:h,_owner:i.current}}return Sn.Fragment=n,Sn.jsx=a,Sn.jsxs=a,Sn}Eh.exports=Vx();var gt=Eh.exports;class Qx extends Di.PureComponent{constructor(){super(...arguments),ka(this,"chart"),ka(this,"chartRef",Di.createRef())}createChart(e,n,r){throw new Error("Method not implemented.")}componentDidMount(){this.chartRef.current&&!this.chart&&(this.chart=this.createChart(this.chartRef.current,this.props.data,this.props.options))}componentDidUpdate(e){var n,r;this.props.data!==e.data&&((n=this.chart)==null||n.model.setData(this.props.data)),this.props.options!==e.options&&((r=this.chart)==null||r.model.setOptions(this.props.options))}render(){return gt.jsx("div",{ref:this.chartRef,className:"chart-holder"})}}var Oh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,r(s)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Oh);var zx=Oh.exports;const ln=$x(zx),un="cds",Gx=({tag:t="div",className:e,children:n,color:r,href:i,position:o="static",stacked:a,...s})=>{const l=i?"a":s.onClick?"button":t,u=`${un}--cc--card-node`,c=ln(u,{[`${u}--stacked`]:a,[`${u}--${l}`]:l,[e]:e});return gt.jsx(l,{className:c,style:{borderColor:r,position:o},tabIndex:0,...s,children:n})},Nl=({children:t,farsideColumn:e=!1,...n})=>{const r=`${un}--cc--card-node`,i=ln(`${r}__column`,{[`${r}__column--farside`]:e,...n.className?{[n.className]:!0}:{}});return gt.jsx("div",{className:i,...n,children:t})},Wx=({children:t,...e})=>{const n=`${un}--cc--card-node`,r=ln(`${n}__title`,{...e.className?{[e.className]:!0}:{}});return gt.jsx("div",{className:r,...e,children:t})},tM=({color:t,markerEnd:e,markerStart:n,path:r,source:i,target:o,variant:a=null,...s})=>{const l=`${un}--cc--edge`,u=ln(l,{[`${l}--${a}`]:a,...s.className?{[s.className]:!0}:{}});let c=r;if(!c&&i&&o&&(c=wx(i,o)),!c)throw Error("Missing parameters for Edge component: path or source and target.");return gt.jsxs("g",{className:u,...s,children:[gt.jsx("path",{d:c,className:`${l}__container`}),gt.jsx("path",{d:c,className:`${l}__outer`}),gt.jsx("path",{d:c,className:`${l}__inner`,markerEnd:`url(#${e})`,markerStart:`url(#${n})`,style:{stroke:t}})]})},qx=({color:t,d:e,id:n,orient:r="auto",height:i,width:o,position:a="end",className:s,refX:l,refY:u,...c})=>{const h=`${un}--cc--marker`,f=ln(h,s),d=a==="end"?(o||0)/2+.5:.5,m=(i||0)/2;return gt.jsx("marker",{className:f,markerHeight:i,markerWidth:o,orient:r,id:n,refX:l||d,refY:u||m,markerUnits:"userSpaceOnUse",...c,children:gt.jsx("path",{d:e,style:{fill:t}})})},eM=t=>gt.jsx(qx,{d:Ex.d,...t}),Xx=({shape:t="circle",tag:e="div",title:n="Title",className:r,subtitle:i,description:o,renderIcon:a,href:s,size:l=48,stacked:u,position:c="fixed",bodyPosition:h="absolute",...f})=>{const d=s?"a":f.onClick?"button":e,m=`${un}--cc--shape-node`,_=ln(m,{[`${m}--stacked`]:u,[`${m}--${t}`]:t,[`${m}--${d}`]:d,[r]:r}),g=n?gt.jsx("div",{className:`${m}__title`,children:n}):null,y=i?gt.jsx("div",{className:`${m}__subtitle`,children:i}):null,E=o?gt.jsx("div",{className:`${m}__description`,children:o}):null;return gt.jsxs(d,{className:_,style:{height:l,width:l,position:c},tabIndex:0,...f,children:[gt.jsx("div",{className:`${m}__icon`,children:a}),gt.jsxs("div",{className:`${m}__body`,style:{position:h},children:[g,y,E]})]})};function Yx({x:t,y:e,height:n,width:r,status:i,title:o,type:a="card"}){let s;a==="icon"&&(s=Kt.jsx(Xx,{renderIcon:Kt.jsx(Da,{status:i,title:o}),size:r,title:""}));const[l,u]=kh.useState(!1);return Kt.jsx("foreignObject",{transform:`translate(${t},${e})`,height:n,width:r,style:{overflow:"visible"},children:Kt.jsx("div",{style:{height:n,width:r},children:s||Kt.jsxs(Gx,{className:`card-status-${i}`,_href:"#",_onClick:()=>u(!l),children:[Kt.jsx(Nl,{children:Kt.jsx(Da,{status:i})}),Kt.jsx(Nl,{children:Kt.jsx(Wx,{children:Kt.jsx("span",{title:o,children:o})})})]})})})}Yx.__docgenInfo={description:"",methods:[],displayName:"Node",props:{type:{defaultValue:{value:"'card'",computed:!1},required:!1}}};const nM=50,rM=250,iM=24;export{tM as C,Yx as N,rM as a,nM as c,eM as k,iM as s};
