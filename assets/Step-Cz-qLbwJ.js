import{j as n}from"./jsx-runtime-QvtbNqby.js";import{r as l}from"./index-BjzEU6Zr.js";import{i as u}from"./index-BYMUMZMs.js";import{S as p}from"./StatusIcon-B2CmmOh1.js";import{P as c}from"./bucket-12-D9InpaXv.js";class d extends l.Component{handleClick=t=>{t.preventDefault();const{id:e}=this.props;this.props.onSelect(e)};statusLabel(){const{exitCode:t,intl:e,reason:a,status:s}=this.props;return s==="cancelled"||s==="terminated"&&(a==="TaskRunCancelled"||a==="TaskRunTimeout")?e.formatMessage({id:"dashboard.taskRun.status.cancelled",defaultMessage:"Cancelled"}):s==="running"?e.formatMessage({id:"dashboard.taskRun.status.running",defaultMessage:"Running"}):s==="terminated"?a==="Completed"?t!==0?e.formatMessage({id:"dashboard.taskRun.status.succeeded.warning",defaultMessage:"Completed with exit code {exitCode}"},{exitCode:t}):e.formatMessage({id:"dashboard.taskRun.status.succeeded",defaultMessage:"Completed"}):e.formatMessage({id:"dashboard.taskRun.status.failed",defaultMessage:"Failed"}):s==="waiting"?e.formatMessage({id:"dashboard.taskRun.status.waiting",defaultMessage:"Waiting"}):e.formatMessage({id:"dashboard.taskRun.status.notRun",defaultMessage:"Not run"})}render(){const{exitCode:t,reason:e,selected:a,status:s,stepName:o}=this.props,i=this.statusLabel();return n.jsx("li",{className:"tkn--step","data-status":s,"data-reason":e,"data-selected":a||void 0,children:n.jsxs("span",{className:"tkn--step-link",tabIndex:"0",onClick:this.handleClick,onKeyUp:r=>r.key==="Enter"&&this.handleClick(r),role:"button",children:[n.jsx(p,{DefaultIcon:r=>n.jsx(c,{size:20,...r}),hasWarning:t!==0,reason:e,status:s,title:i,type:"inverse"}),n.jsx("span",{className:"tkn--step-name",title:o,children:o})]})})}}d.defaultProps={stepName:"unknown"};const x=u(d);d.__docgenInfo={description:"",methods:[{name:"handleClick",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:null}],returns:null},{name:"statusLabel",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Step",props:{stepName:{defaultValue:{value:"'unknown'",computed:!1},required:!1}}};export{x as S};
