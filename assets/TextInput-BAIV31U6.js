import{P as e}from"./index-kGlasm3i.js";import{R as t,r as W}from"./index-BjzEU6Zr.js";import{c as r}from"./index-CjLpwf8N.js";import{u as Y}from"./usePrefix-BezXHAvh.js";import{T as Q,d as ie}from"./deprecate-X_RArzr0.js";import{W as oe,a as be}from"./bucket-18-CNixtB1a.js";import{_ as de,s as fe}from"./floating-ui.react-zcwMlDfJ.js";import{F as pe}from"./FormContext-IWjAIOZU.js";import{T as we}from"./Tooltip-CPLX6X0E.js";import{V as ce,c as ue}from"./bucket-17-ByI71b45.js";import{n as re}from"./noopFn-g4z370MD.js";function me(c){let{id:m,readOnly:b,disabled:f,invalid:d,invalidText:u,warn:y,warnText:x}=c;const o=Y(),s={disabled:!b&&f,invalid:!b&&d,invalidId:`${m}-error-msg`,warn:!b&&!d&&y,warnId:`${m}-warn-msg`,validation:null,icon:null,helperId:`${m}-helper-text`};return s.invalid?(s.icon=oe,s.validation=t.createElement(Q,{as:"div",className:`${o}--form-requirement`,id:s.invalidId},u)):s.warn&&(s.icon=be,s.validation=t.createElement(Q,{as:"div",className:`${o}--form-requirement`,id:s.warnId},x)),s}const $e=c=>({"data-invalid":!0,"aria-invalid":!0,"aria-describedby":c}),xe=c=>({"aria-describedby":c}),ge=c=>({"aria-describedby":c}),le=c=>{let{sharedTextInputProps:m,invalid:b,invalidId:f,warn:d,warnId:u,hasHelper:y,helperId:x}=c;return{...m,...b?$e(f):{},...d?xe(u):{},...y?ge(x):{}}},he=fe(),ae=t.forwardRef(function(m,b){let{labelText:f,className:d,id:u,placeholder:y,onChange:x=re,onClick:o=re,disabled:s=!1,hideLabel:q,invalid:h=!1,invalidText:E="",helperText:T="",light:S,type:I="password",togglePasswordVisibility:C,tooltipPosition:g="bottom",tooltipAlignment:z="center",hidePasswordLabel:v="Hide password",showPasswordLabel:A="Show password",size:p=void 0,...w}=m;const a=Y(),{current:F}=W.useRef(he()),l=u+"-error-msg",H=r(`${a}--text-input`,`${a}--password-input`,d,{[`${a}--text-input--light`]:S,[`${a}--text-input--invalid`]:h,[`${a}--text-input--${p}`]:p}),N={id:u,onChange:V=>{s||x?.(V)},onClick:V=>{s||o?.(V)},placeholder:y,type:I,ref:b,className:H,...w},P=r(`${a}--label`,{[`${a}--visually-hidden`]:q,[`${a}--label--disabled`]:s}),i=r(`${a}--form__helper-text`,{[`${a}--form__helper-text--disabled`]:s}),n=f?t.createElement("label",{htmlFor:u,className:P},f):null,$=h?t.createElement("div",{className:`${a}--form-requirement`,id:l},E):null,O=I==="text",B=O?t.createElement(ce,{className:`${a}--icon-visibility-off`}):t.createElement(ue,{className:`${a}--icon-visibility-on`}),G=r(`${a}--text-input--password__visibility__toggle`,`${a}--btn`,`${a}--btn--icon-only`,`${a}--tooltip__trigger`,`${a}--tooltip--a11y`,{[`${a}--tooltip--${g}`]:g,[`${a}--tooltip--align-${z}`]:z}),R=T?`controlled-password-helper-text-${F}`:void 0,j=t.createElement(t.Fragment,null,t.createElement("input",de({},le({invalid:h,sharedTextInputProps:N,invalidId:l,hasHelper:!!(!$&&T),helperId:R}),{"data-toggle-password-visibility":I==="password"})),t.createElement("button",{type:"button",className:G,onClick:C},t.createElement("span",{className:`${a}--assistive-text`},O?v:A),B)),D=T?t.createElement("div",{id:R,className:i},T):null;return t.createElement("div",{className:`${a}--form-item ${a}--text-input-wrapper ${a}--password-input-wrapper`},n,t.createElement("div",{className:`${a}--text-input__field-wrapper`,"data-invalid":h||null},h&&t.createElement(oe,{className:`${a}--text-input__invalid-icon`}),j),$||D)});ae.displayName="ControlledPasswordInput";ae.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ie(e.bool),onChange:e.func,onClick:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),value:e.oneOfType([e.string,e.number])};const se=t.forwardRef(function(m,b){let{className:f,disabled:d=!1,helperText:u,hideLabel:y,hidePasswordLabel:x="Hide password",id:o,inline:s,invalid:q=!1,invalidText:h,labelText:E,light:T,onChange:S=()=>{},onClick:I=()=>{},onTogglePasswordVisibility:C,placeholder:g,readOnly:z,size:v="md",showPasswordLabel:A="Show password",tooltipPosition:p="bottom",tooltipAlignment:w="end",type:a="password",warn:F=!1,warnText:l,...H}=m;const[N,P]=W.useState(a),i=Y(),n=me({id:o,invalid:q,invalidText:h,warn:F,warnText:l,readOnly:z,disabled:d}),{isFluid:$}=W.useContext(pe),O=_=>{P(N==="password"?"text":"password"),C&&C(_)},B=r(`${i}--text-input`,`${i}--password-input`,f,{[`${i}--text-input--light`]:T,[`${i}--text-input--invalid`]:n.invalid,[`${i}--text-input--warning`]:n.warn,[`${i}--text-input--${v}`]:v,[`${i}--layout--size-${v}`]:v}),G={id:o,onChange:_=>{d||S(_)},onClick:_=>{d||I(_)},placeholder:g,type:N,className:B,ref:b,...H},R=r(`${i}--form-item`,`${i}--text-input-wrapper`,`${i}--password-input-wrapper`,{[`${i}--text-input-wrapper--light`]:T,[`${i}--text-input-wrapper--inline`]:s,[`${i}--text-input--fluid`]:$}),j=r(`${i}--label`,{[`${i}--visually-hidden`]:y,[`${i}--label--disabled`]:d,[`${i}--label--inline`]:s,[`${i}--label--inline--${v}`]:s&&!!v}),D=r(`${i}--form__helper-text`,{[`${i}--form__helper-text--disabled`]:d,[`${i}--form__helper-text--inline`]:s}),V=r(`${i}--text-input__field-outer-wrapper`,{[`${i}--text-input__field-outer-wrapper--inline`]:s}),ee=r(`${i}--text-input__field-wrapper`,{[`${i}--text-input__field-wrapper--warning`]:n.warn}),te=r({[`${i}--text-input__invalid-icon`]:n.invalid||n.warn,[`${i}--text-input__invalid-icon--warning`]:n.warn}),U=E?t.createElement("label",{htmlFor:o,className:j},E):null,J=u?t.createElement("div",{id:n.helperId,className:D},u):null,K=N==="text",ne=K?t.createElement(ce,{className:`${i}--icon-visibility-off`}):t.createElement(ue,{className:`${i}--icon-visibility-on`}),k=r(`${i}--text-input--password__visibility__toggle`,`${i}--btn`,`${i}--tooltip__trigger`,`${i}--tooltip--a11y`,{[`${i}--tooltip--${p}`]:p,[`${i}--tooltip--align-${w}`]:w});let L;(p==="top"||p==="bottom")&&(w==="center"&&(L=p),w==="end"&&(L=`${p}-end`),w==="start"&&(L=`${p}-start`)),(p==="right"||p==="left")&&(L=p);const X=t.createElement(t.Fragment,null,t.createElement("input",de({},le({sharedTextInputProps:G,invalid:n.invalid,invalidId:n.invalidId,warn:n.warn,warnId:n.warnId,hasHelper:!!(u&&!$&&(s||!s&&!n.validation)),helperId:n.helperId}),{disabled:d,"data-toggle-password-visibility":N==="password"})),$&&t.createElement("hr",{className:`${i}--text-input__divider`}),t.createElement(we,{align:L,className:`${i}--toggle-password-tooltip`,label:K?x:A},t.createElement("button",{type:"button",className:k,disabled:d,onClick:O},ne)));W.useEffect(()=>{P(a)},[a]);const M=n.icon;return t.createElement("div",{className:R},s?t.createElement("div",{className:`${i}--text-input__label-helper-wrapper`},U,!$&&J):U,t.createElement("div",{className:V},t.createElement("div",{className:ee,"data-invalid":n.invalid||null},M&&t.createElement(M,{className:te}),X,$&&!s&&n.validation),!$&&!s&&(n.validation||J)))});se.displayName="PasswordInput";se.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,helperText:e.node,hideLabel:e.bool,hidePasswordLabel:e.string,id:e.string.isRequired,inline:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ie(e.bool),onChange:e.func,onClick:e.func,onTogglePasswordVisibility:e.func,placeholder:e.string,showPasswordLabel:e.string,size:e.oneOf(["sm","md","lg"]),tooltipAlignment:e.oneOf(["start","center","end"]),tooltipPosition:e.oneOf(["top","right","bottom","left"]),type:e.oneOf(["password","text"]),value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};function ve(c,m){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"characters";const f=m-10;if(c>=f)return`${m-c} ${b} left.`}const Z=t.forwardRef(function(m,b){let{className:f,disabled:d=!1,helperText:u,hideLabel:y,id:x,inline:o=!1,invalid:s=!1,invalidText:q,labelText:h,light:E,onChange:T=()=>{},onClick:S=()=>{},placeholder:I,readOnly:C,size:g,type:z="text",warn:v=!1,warnText:A,enableCounter:p=!1,maxCount:w,slug:a,...F}=m;const l=Y(),{defaultValue:H,value:N}=F,[P,i]=W.useState(H?.toString().length||N?.toString().length||0),n=me({id:x,readOnly:C,disabled:d,invalid:s,invalidText:q,warn:v,warnText:A}),$=r(`${l}--text-input`,{[`${l}--text-input--light`]:E,[`${l}--text-input--invalid`]:n.invalid,[`${l}--text-input--warning`]:n.warn,[`${l}--text-input--${g}`]:g,[`${l}--layout--size-${g}`]:g}),O={id:x,onChange:_=>{n.disabled||(i(_.target.value?.length),T(_))},onClick:_=>{n.disabled||S(_)},placeholder:I,type:z,ref:b,className:$,title:I,disabled:n.disabled,readOnly:C,"aria-describedby":u&&n.helperId,...F};p&&(O.maxLength=w);const B=r([r(`${l}--form-item`,f)],`${l}--text-input-wrapper`,{[`${l}--text-input-wrapper--readonly`]:C,[`${l}--text-input-wrapper--light`]:E,[`${l}--text-input-wrapper--inline`]:o,[`${l}--text-input-wrapper--inline--invalid`]:o&&n.invalid}),G=r(`${l}--label`,{[`${l}--visually-hidden`]:y,[`${l}--label--disabled`]:n.disabled,[`${l}--label--inline`]:o,[`${l}--label--inline--${g}`]:o&&!!g}),R=r(`${l}--form__helper-text`,{[`${l}--form__helper-text--disabled`]:n.disabled,[`${l}--form__helper-text--inline`]:o}),j=r(`${l}--text-input__field-outer-wrapper`,{[`${l}--text-input__field-outer-wrapper--inline`]:o}),D=r(`${l}--text-input__field-wrapper`,{[`${l}--text-input__field-wrapper--warning`]:n.warn,[`${l}--text-input__field-wrapper--slug`]:a}),V=r({[`${l}--text-input__invalid-icon`]:n.invalid||n.warn,[`${l}--text-input__invalid-icon--warning`]:n.warn}),ee=r(`${l}--label`,{[`${l}--label--disabled`]:d,[`${l}--text-input__label-counter`]:!0}),te=p&&w?t.createElement(Q,{as:"div",className:ee},`${P}/${w}`):null,U=h?t.createElement(Q,{as:"label",htmlFor:x,className:G},h):null,J=t.createElement("div",{className:`${l}--text-input__label-wrapper`},U,te),K=u?t.createElement(Q,{as:"div",id:n.helperId,className:R},u):null,ne=t.createElement("input",le({sharedTextInputProps:O,invalid:n.invalid,invalidId:n.invalidId,warn:n.warn,warnId:n.warnId})),{isFluid:k}=W.useContext(pe),L=ve(P,w),X=n.icon;let M;return a&&a.type?.displayName==="Slug"&&(M=t.cloneElement(a,{size:"mini"})),t.createElement("div",{className:B},o?t.createElement("div",{className:`${l}--text-input__label-helper-wrapper`},J,!k&&(n.validation||K)):J,t.createElement("div",{className:j},t.createElement("div",{className:D,"data-invalid":n.invalid||null},X&&t.createElement(X,{className:V}),ne,M,t.createElement("span",{className:`${l}--text-input__counter-alert`,role:"alert"},L),k&&t.createElement("hr",{className:`${l}--text-input__divider`}),k&&!o&&n.validation),!k&&!o&&(n.validation||K)))});Z.displayName="TextInput";Z.PasswordInput=se;Z.ControlledPasswordInput=ae;Z.propTypes={className:e.string,defaultValue:e.oneOfType([e.string,e.number]),disabled:e.bool,enableCounter:e.bool,helperText:e.node,hideLabel:e.bool,id:e.string.isRequired,inline:e.bool,invalid:e.bool,invalidText:e.node,labelText:e.node.isRequired,light:ie(e.bool),maxCount:e.number,onChange:e.func,onClick:e.func,placeholder:e.string,readOnly:e.bool,size:e.oneOf(["sm","md","lg"]),slug:e.node,type:e.string,value:e.oneOfType([e.string,e.number]),warn:e.bool,warnText:e.node};export{Z as T};
